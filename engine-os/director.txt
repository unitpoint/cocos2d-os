
[FILE] raw://../../engine-os/director.os
[1] var core = require("core")

begin function
  begin locals, total 19
    0 _E
    1 _G
    2 core
    3 app
    4 alphaBlending
    5 depthTest
    6 projection
    7 updateProjection
    8 applyOrientation
    9 setAppOrientation
    10 runningScene
    11 totalFrames
    12 setNextScene
    13 paint
    14 deltaTime
    15 timeSpeed
    16 time
    17 prevAppTime
    18 coreTriggerEvent
  end locals
  begin set local var
    begin call method
      get local var _E (0 0)
      begin params 2
        push const string "require"
        ,
        push const string "core"
      end params ret values 2
    end call method ret values 1
  end set local var core (2 0)


[2] var app = require("app")

  begin set local var
    begin call method
      get local var _E (0 0)
      begin params 2
        push const string "require"
        ,
        push const string "app"
      end params ret values 2
    end call method ret values 1
  end set local var app (3 0)


[3] require("constants")

  begin call method
    get local var _E (0 0)
    begin params 2
      push const string "require"
      ,
      push const string "constants"
    end params ret values 2
  end call method ret values 0


[4] require("node")

  begin call method
    get local var _E (0 0)
    begin params 2
      push const string "require"
      ,
      push const string "node"
    end params ret values 2
  end call method ret values 0


[5] require("image")

  begin call method
    get local var _E (0 0)
    begin params 2
      push const string "require"
      ,
      push const string "image"
    end params ret values 2
  end call method ret values 0


[6] require("text")

  begin call method
    get local var _E (0 0)
    begin params 2
      push const string "require"
      ,
      push const string "text"
    end params ret values 2
  end call method ret values 0


[7] require("utils")

  begin call method
    get local var _E (0 0)
    begin params 2
      push const string "require"
      ,
      push const string "utils"
    end params ret values 2
  end call method ret values 0


[9] _E = extends _G {}

  begin set local var
    begin extends
      get local var _G (1 0)
      begin object 0
      end object
    end extends ret values 1
  end set local var _E (0 0)


[10] _G.director = _E

  begin set property
    get local var _E (0 0)
    get local var auto create _G (1 0)
    push const string "director"
  end set property ret values 0


[12] print "screen size "..app.screenSize

  begin call method
    get local var _E (0 0)
    begin params 2
      push const string "print"
      ,
      begin operator ..
        push const string "screen size "
        begin get property
          get local var app (3 0)
          push const string "screenSize"
        end get property ret values 1
      end operator ..
    end params ret values 2
  end call method ret values 0


[14] if(CC_OPTIMIZE_BLEND_FUNC_FOR_PREMULTIPLIED_ALPHA){

  begin if
    begin bool exp
      get env var CC_OPTIMIZE_BLEND_FUNC_FOR_PREMULTIPLIED_ALPHA
    end bool exp
    begin then

[15] CC_BLEND_SRC = GL_ONE

      begin scope
        begin set env var
          get env var GL_ONE
        end set env var CC_BLEND_SRC


[16] CC_BLEND_DST = GL_ONE_MINUS_SRC_ALPHA

        begin set env var
          get env var GL_ONE_MINUS_SRC_ALPHA
        end set env var CC_BLEND_DST
      end scope ret values 0
    end then
    begin else

[18] CC_BLEND_SRC = GL_SRC_ALPHA

      begin scope
        begin set env var
          get env var GL_SRC_ALPHA
        end set env var CC_BLEND_SRC


[19] CC_BLEND_DST = GL_ONE_MINUS_SRC_ALPHA

        begin set env var
          get env var GL_ONE_MINUS_SRC_ALPHA
        end set env var CC_BLEND_DST
      end scope ret values 0
    end else
  end if ret values 0


[22] function get width(){ return app.screenWidth }

  begin set env var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals
      begin return
        begin get property
          get local var app (3 1)
          push const string "screenWidth"
        end get property ret values 1
      end return values 1
    end function
  end set env var __get@width


[23] function get height(){ return app.screenHeight }

  begin set env var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals
      begin return
        begin get property
          get local var app (3 1)
          push const string "screenHeight"
        end get property ret values 1
      end return values 1
    end function
  end set env var __get@height


[24] function get size(){ return Size(this.width this.height) }

  begin set env var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals
      begin tail call method
        get local var _E (0 0)
        begin params 3
          push const string "Size"
          ,
          begin get property
            push this
            push const string "width"
          end get property ret values 1
          ,
          begin get property
            push this
            push const string "height"
          end get property ret values 1
        end params ret values 3
      end tail call method
    end function
  end set env var __get@size


[26] var alphaBlending

  begin params 1
    new local var alphaBlending (4 0)
  end params ret values 0


[27] function get alphaBlending(){ return alphaBlending }

  begin set env var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals
      begin return
        get local var alphaBlending (4 1)
      end return values 1
    end function
  end set env var __get@alphaBlending


[28] function set alphaBlending(a){

  begin set env var
    begin function
      begin locals, total 3
        0 a (param)
        1 _E
        2 _G
      end locals

[29] alphaBlending = a

      begin set local var
        get local var a (0 0 param)
      end set local var alphaBlending (4 1)


[30] if(a){

      begin if
        begin bool exp
          get local var a (0 0 param)
        end bool exp
        begin then

[31] glEnable(GL_BLEND)

          begin scope
            begin call method
              get local var _E (1 0)
              begin params 2
                push const string "glEnable"
                ,
                get env var GL_BLEND
              end params ret values 2
            end call method ret values 0


[32] glBlendFunc(CC_BLEND_SRC, CC_BLEND_DST)

            begin call method
              get local var _E (1 0)
              begin params 3
                push const string "glBlendFunc"
                ,
                get env var CC_BLEND_SRC
                ,
                get env var CC_BLEND_DST
              end params ret values 3
            end call method ret values 0
          end scope ret values 0
        end then
        begin else

[34] glDisable(GL_BLEND)

          begin scope
            begin call method
              get local var _E (1 0)
              begin params 2
                push const string "glDisable"
                ,
                get env var GL_BLEND
              end params ret values 2
            end call method ret values 0
          end scope ret values 0
        end else
      end if ret values 0
    end function
  end set env var __set@alphaBlending


[38] var depthTest

  begin params 1
    new local var depthTest (5 0)
  end params ret values 0


[39] function get depthTest(){ return depthTest }

  begin set env var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals
      begin return
        get local var depthTest (5 1)
      end return values 1
    end function
  end set env var __get@depthTest


[40] function set depthTest(a){

  begin set env var
    begin function
      begin locals, total 3
        0 a (param)
        1 _E
        2 _G
      end locals

[41] depthTest = a

      begin set local var
        get local var a (0 0 param)
      end set local var depthTest (5 1)


[42] if(a){

      begin if
        begin bool exp
          get local var a (0 0 param)
        end bool exp
        begin then

[43] glClearDepth(1.0)

          begin scope
            begin call method
              get local var _E (1 0)
              begin params 2
                push const string "glClearDepth"
                ,
                push const number 1.0
              end params ret values 2
            end call method ret values 0


[44] glEnable(GL_DEPTH_TEST)

            begin call method
              get local var _E (1 0)
              begin params 2
                push const string "glEnable"
                ,
                get env var GL_DEPTH_TEST
              end params ret values 2
            end call method ret values 0


[45] glDepthFunc(GL_LEQUAL)

            begin call method
              get local var _E (1 0)
              begin params 2
                push const string "glDepthFunc"
                ,
                get env var GL_LEQUAL
              end params ret values 2
            end call method ret values 0
          end scope ret values 0
        end then
        begin else

[48] glDisable(GL_DEPTH_TEST)

          begin scope
            begin call method
              get local var _E (1 0)
              begin params 2
                push const string "glDisable"
                ,
                get env var GL_DEPTH_TEST
              end params ret values 2
            end call method ret values 0
          end scope ret values 0
        end else
      end if ret values 0
    end function
  end set env var __set@depthTest


[52] var projection

  begin params 1
    new local var projection (6 0)
  end params ret values 0


[53] function get projection(){ return projection }

  begin set env var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals
      begin return
        get local var projection (6 1)
      end return values 1
    end function
  end set env var __get@projection


[54] function set projection(a){

  begin set env var
    begin function
      begin locals, total 3
        0 a (param)
        1 _E
        2 _G
      end locals

[55] projection = a

      begin set local var
        get local var a (0 0 param)
      end set local var projection (6 1)


[56] updateProjection()

      begin call
        get local var updateProjection (7 1)
        begin params 0
        end params ret values 0
      end call ret values 0
    end function
  end set env var __set@projection


[59] var function updateProjection(){

  begin set local var
    begin function
      begin locals, total 4
        0 _E
        1 _G
        2 size
        3 zeye
      end locals

[60] var size = app.screenSize

      begin set local var
        begin get property
          get local var app (3 1)
          push const string "screenSize"
        end get property ret values 1
      end set local var size (2 0)


[61] var zeye = size.height / 1.1566

      begin set local var
        begin operator /
          begin get property
            get local var size (2 0)
            push const string "height"
          end get property ret values 1
          push const number 1.1566
        end operator /
      end set local var zeye (3 0)


[62] if(projection == PROJECTION_2D){

      begin if
        begin bool exp
          begin logic ==
            get local var projection (6 1)
            get env var PROJECTION_2D
          end logic ==
        end bool exp
        begin then

[63] glViewport(0, 0, size.width, size.height)

          begin scope
            begin call method
              get local var _E (0 0)
              begin params 5
                push const string "glViewport"
                ,
                push const number 0
                ,
                push const number 0
                ,
                begin get property
                  get local var size (2 0)
                  push const string "width"
                end get property ret values 1
                ,
                begin get property
                  get local var size (2 0)
                  push const string "height"
                end get property ret values 1
              end params ret values 5
            end call method ret values 0


[64] glMatrixMode(GL_PROJECTION)

            begin call method
              get local var _E (0 0)
              begin params 2
                push const string "glMatrixMode"
                ,
                get env var GL_PROJECTION
              end params ret values 2
            end call method ret values 0


[65] glLoadIdentity()

            begin call method
              get local var _E (0 0)
              begin params 1
                push const string "glLoadIdentity"
              end params ret values 1
            end call method ret values 0


[66] ccglOrtho(0, size.width, 0, size.height, -1024 * CC_CONTENT_SCALE_FACTOR(),

            begin call method
              get local var _E (0 0)
              begin params 7
                push const string "ccglOrtho"
                ,
                push const number 0
                ,
                begin get property
                  get local var size (2 0)
                  push const string "width"
                end get property ret values 1
                ,
                push const number 0
                ,
                begin get property
                  get local var size (2 0)
                  push const string "height"
                end get property ret values 1
                ,
                begin operator *
                  begin neg
                    push const number 1024
                  end neg
                  begin call method
                    get local var _E (0 0)
                    begin params 1
                      push const string "CC_CONTENT_SCALE_FACTOR"
                    end params ret values 1
                  end call method ret values 1
                end operator *
                ,

[67] 1024 * CC_CONTENT_SCALE_FACTOR())

                begin operator *
                  push const number 1024
                  begin call method
                    get local var _E (0 0)
                    begin params 1
                      push const string "CC_CONTENT_SCALE_FACTOR"
                    end params ret values 1
                  end call method ret values 1
                end operator *
              end params ret values 7
            end call method ret values 0


[68] glMatrixMode(GL_MODELVIEW)

            begin call method
              get local var _E (0 0)
              begin params 2
                push const string "glMatrixMode"
                ,
                get env var GL_MODELVIEW
              end params ret values 2
            end call method ret values 0


[69] glLoadIdentity()

            begin call method
              get local var _E (0 0)
              begin params 1
                push const string "glLoadIdentity"
              end params ret values 1
            end call method ret values 0
          end scope ret values 0
        end then
        begin else

[70] }else if(projection == PROJECTION_3D){

          begin if
            begin bool exp
              begin logic ==
                get local var projection (6 1)
                get env var PROJECTION_3D
              end logic ==
            end bool exp
            begin then

[71] glViewport(0, 0, size.width, size.height)

              begin scope
                begin call method
                  get local var _E (0 0)
                  begin params 5
                    push const string "glViewport"
                    ,
                    push const number 0
                    ,
                    push const number 0
                    ,
                    begin get property
                      get local var size (2 0)
                      push const string "width"
                    end get property ret values 1
                    ,
                    begin get property
                      get local var size (2 0)
                      push const string "height"
                    end get property ret values 1
                  end params ret values 5
                end call method ret values 0


[72] glMatrixMode(GL_PROJECTION)

                begin call method
                  get local var _E (0 0)
                  begin params 2
                    push const string "glMatrixMode"
                    ,
                    get env var GL_PROJECTION
                  end params ret values 2
                end call method ret values 0


[73] glLoadIdentity()

                begin call method
                  get local var _E (0 0)
                  begin params 1
                    push const string "glLoadIdentity"
                  end params ret values 1
                end call method ret values 0


[74] gluPerspective(60, size.width/size.height, 0.5, 1500.0)

                begin call method
                  get local var _E (0 0)
                  begin params 5
                    push const string "gluPerspective"
                    ,
                    push const number 60
                    ,
                    begin operator /
                      begin get property
                        get local var size (2 0)
                        push const string "width"
                      end get property ret values 1
                      begin get property
                        get local var size (2 0)
                        push const string "height"
                      end get property ret values 1
                    end operator /
                    ,
                    push const number 0.5
                    ,
                    push const number 1500.0
                  end params ret values 5
                end call method ret values 0


[76] glMatrixMode(GL_MODELVIEW)

                begin call method
                  get local var _E (0 0)
                  begin params 2
                    push const string "glMatrixMode"
                    ,
                    get env var GL_MODELVIEW
                  end params ret values 2
                end call method ret values 0


[77] glLoadIdentity()

                begin call method
                  get local var _E (0 0)
                  begin params 1
                    push const string "glLoadIdentity"
                  end params ret values 1
                end call method ret values 0


[78] gluLookAt(size.width/2, size.height/2, -zeye,

                begin call method
                  get local var _E (0 0)
                  begin params 10
                    push const string "gluLookAt"
                    ,
                    begin operator /
                      begin get property
                        get local var size (2 0)
                        push const string "width"
                      end get property ret values 1
                      push const number 2
                    end operator /
                    ,
                    begin operator /
                      begin get property
                        get local var size (2 0)
                        push const string "height"
                      end get property ret values 1
                      push const number 2
                    end operator /
                    ,
                    begin neg
                      get local var zeye (3 0)
                    end neg
                    ,

[79] size.width/2, size.height/2, 0,

                    begin operator /
                      begin get property
                        get local var size (2 0)
                        push const string "width"
                      end get property ret values 1
                      push const number 2
                    end operator /
                    ,
                    begin operator /
                      begin get property
                        get local var size (2 0)
                        push const string "height"
                      end get property ret values 1
                      push const number 2
                    end operator /
                    ,
                    push const number 0
                    ,

[80] 0.0, -1.0, 0.0)

                    push const number 0.0
                    ,
                    begin neg
                      push const number 1.0
                    end neg
                    ,
                    push const number 0.0
                  end params ret values 10
                end call method ret values 0
              end scope ret values 0
            end then
          end if ret values 0
        end else
      end if ret values 0
    end function
  end set local var updateProjection (7 0)


[84] var function applyOrientation()

  begin set local var
    begin function
      begin locals, total 5
        0 _E
        1 _G
        2 w
        3 h
        4 orientation
      end locals

[86] var w = app.screenWidth / 2

      begin set local var
        begin operator /
          begin get property
            get local var app (3 1)
            push const string "screenWidth"
          end get property ret values 1
          push const number 2
        end operator /
      end set local var w (2 0)


[87] var h = app.screenHeight / 2

      begin set local var
        begin operator /
          begin get property
            get local var app (3 1)
            push const string "screenHeight"
          end get property ret values 1
          push const number 2
        end operator /
      end set local var h (3 0)


[89] var orientation = app.orientation

      begin set local var
        begin get property
          get local var app (3 1)
          push const string "orientation"
        end get property ret values 1
      end set local var orientation (4 0)


[90] if(orientation == ORIENTATION_PORTRAIT){

      begin if
        begin bool exp
          begin logic ==
            get local var orientation (4 0)
            get env var ORIENTATION_PORTRAIT
          end logic ==
        end bool exp
        begin then

[94] }else if(orientation == ORIENTATION_PORTRAIT_UPSIDE_DOWN){

          begin scope
          end scope ret values 0
        end then
        begin else
          begin if
            begin bool exp
              begin logic ==
                get local var orientation (4 0)
                get env var ORIENTATION_PORTRAIT_UPSIDE_DOWN
              end logic ==
            end bool exp
            begin then

[96] glTranslatef(w,h,0)

              begin scope
                begin call method
                  get local var _E (0 0)
                  begin params 4
                    push const string "glTranslatef"
                    ,
                    get local var w (2 0)
                    ,
                    get local var h (3 0)
                    ,
                    push const number 0
                  end params ret values 4
                end call method ret values 0


[97] glRotatef(180,0,0,1)

                begin call method
                  get local var _E (0 0)
                  begin params 5
                    push const string "glRotatef"
                    ,
                    push const number 180
                    ,
                    push const number 0
                    ,
                    push const number 0
                    ,
                    push const number 1
                  end params ret values 5
                end call method ret values 0


[98] glTranslatef(-w,-h,0)

                begin call method
                  get local var _E (0 0)
                  begin params 4
                    push const string "glTranslatef"
                    ,
                    begin neg
                      get local var w (2 0)
                    end neg
                    ,
                    begin neg
                      get local var h (3 0)
                    end neg
                    ,
                    push const number 0
                  end params ret values 4
                end call method ret values 0
              end scope ret values 0
            end then
            begin else

[99] }else if(orientation == ORIENTATION_LANDSCAPE_RIGHT){

              begin if
                begin bool exp
                  begin logic ==
                    get local var orientation (4 0)
                    get env var ORIENTATION_LANDSCAPE_RIGHT
                  end logic ==
                end bool exp
                begin then

[100] glTranslatef(w,h,0)

                  begin scope
                    begin call method
                      get local var _E (0 0)
                      begin params 4
                        push const string "glTranslatef"
                        ,
                        get local var w (2 0)
                        ,
                        get local var h (3 0)
                        ,
                        push const number 0
                      end params ret values 4
                    end call method ret values 0


[101] glRotatef(90,0,0,1)

                    begin call method
                      get local var _E (0 0)
                      begin params 5
                        push const string "glRotatef"
                        ,
                        push const number 90
                        ,
                        push const number 0
                        ,
                        push const number 0
                        ,
                        push const number 1
                      end params ret values 5
                    end call method ret values 0


[102] glTranslatef(-h,-w,0)

                    begin call method
                      get local var _E (0 0)
                      begin params 4
                        push const string "glTranslatef"
                        ,
                        begin neg
                          get local var h (3 0)
                        end neg
                        ,
                        begin neg
                          get local var w (2 0)
                        end neg
                        ,
                        push const number 0
                      end params ret values 4
                    end call method ret values 0
                  end scope ret values 0
                end then
                begin else

[103] }else if(orientation == ORIENTATION_LANDSCAPE_LEFT){

                  begin if
                    begin bool exp
                      begin logic ==
                        get local var orientation (4 0)
                        get env var ORIENTATION_LANDSCAPE_LEFT
                      end logic ==
                    end bool exp
                    begin then

[104] glTranslatef(w,h,0)

                      begin scope
                        begin call method
                          get local var _E (0 0)
                          begin params 4
                            push const string "glTranslatef"
                            ,
                            get local var w (2 0)
                            ,
                            get local var h (3 0)
                            ,
                            push const number 0
                          end params ret values 4
                        end call method ret values 0


[105] glRotatef(-90,0,0,1)

                        begin call method
                          get local var _E (0 0)
                          begin params 5
                            push const string "glRotatef"
                            ,
                            begin neg
                              push const number 90
                            end neg
                            ,
                            push const number 0
                            ,
                            push const number 0
                            ,
                            push const number 1
                          end params ret values 5
                        end call method ret values 0


[106] glTranslatef(-h,-w,0)

                        begin call method
                          get local var _E (0 0)
                          begin params 4
                            push const string "glTranslatef"
                            ,
                            begin neg
                              get local var h (3 0)
                            end neg
                            ,
                            begin neg
                              get local var w (2 0)
                            end neg
                            ,
                            push const number 0
                          end params ret values 4
                        end call method ret values 0
                      end scope ret values 0
                    end then
                  end if ret values 0
                end else
              end if ret values 0
            end else
          end if ret values 0
        end else
      end if ret values 0
    end function
  end set local var applyOrientation (8 0)


[110] _E.alphaBlending = true

  begin set property
    const true
    get local var auto create _E (0 0)
    push const string "alphaBlending"
  end set property ret values 0


[111] _E.depthTest = true

  begin set property
    const true
    get local var auto create _E (0 0)
    push const string "depthTest"
  end set property ret values 0


[112] _E.projection = PROJECTION_3D

  begin set property
    get env var PROJECTION_3D
    get local var auto create _E (0 0)
    push const string "projection"
  end set property ret values 0


[114] glClearColor(0 0 0 1)

  begin call method
    get local var _E (0 0)
    begin params 5
      push const string "glClearColor"
      ,
      push const number 0
      ,
      push const number 0
      ,
      push const number 0
      ,
      push const number 1
    end params ret values 5
  end call method ret values 0


[116] animationInterval = 1 / 60

  begin set env var
    push const number 0.0166667
  end set env var animationInterval


[118] var setAppOrientation = app.__set@orientation

  begin set local var
    begin get property
      get local var app (3 0)
      push const string "__set@orientation"
    end get property ret values 1
  end set local var setAppOrientation (9 0)


[119] app.__set@orientation = function(a){

  begin set property
    begin function
      begin locals, total 3
        0 a (param)
        1 _E
        2 _G
      end locals

[120] setAppOrientation.call(app, a)

      begin call method
        get local var setAppOrientation (9 1)
        begin params 3
          push const string "call"
          ,
          get local var app (3 1)
          ,
          get local var a (0 0 param)
        end params ret values 3
      end call method ret values 0


[122] updateProjection()

      begin call
        get local var updateProjection (7 1)
        begin params 0
        end params ret values 0
      end call ret values 0
    end function

[119] app.__set@orientation = function(a){

    get local var auto create app (3 0)
    push const string "__set@orientation"
  end set property ret values 0


[127] app.orientation = ORIENTATION_PORTRAIT

  begin set property
    get env var ORIENTATION_PORTRAIT
    get local var auto create app (3 0)
    push const string "orientation"
  end set property ret values 0


[130] var runningScene

  begin params 1
    new local var runningScene (10 0)
  end params ret values 0


[131] function get scene(){ return runningScene }

  begin set env var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals
      begin return
        get local var runningScene (10 1)
      end return values 1
    end function
  end set env var __get@scene


[132] function set scene(a){

  begin set env var
    begin function
      begin locals, total 3
        0 a (param)
        1 _E
        2 _G
      end locals

[134] nextScene = a

      begin set env var
        get local var a (0 0 param)
      end set env var nextScene


[135] setNextScene()

      begin call
        get local var setNextScene (12 1)
        begin params 0
        end params ret values 0
      end call ret values 0
    end function
  end set env var __set@scene


[138] function insert(node){

  begin set env var
    begin function
      begin locals, total 3
        0 node (param)
        1 _E
        2 _G
      end locals

[139] if(runningScene && node) runningScene.insert(node)

      begin if
        begin bool exp
          begin logic &&
            get local var runningScene (10 1)
            get local var node (0 0 param)
          end logic &&
        end bool exp
        begin then
          begin call method
            get local var runningScene (10 1)
            begin params 2
              push const string "insert"
              ,
              get local var node (0 0 param)
            end params ret values 2
          end call method ret values 0
        end then
      end if ret values 0
    end function
  end set env var insert


[142] function remove(node){

  begin set env var
    begin function
      begin locals, total 3
        0 node (param)
        1 _E
        2 _G
      end locals

[143] if(runningScene && node) runningScene.remove(node)

      begin if
        begin bool exp
          begin logic &&
            get local var runningScene (10 1)
            get local var node (0 0 param)
          end logic &&
        end bool exp
        begin then
          begin call method
            get local var runningScene (10 1)
            begin params 2
              push const string "remove"
              ,
              get local var node (0 0 param)
            end params ret values 2
          end call method ret values 0
        end then
      end if ret values 0
    end function
  end set env var remove


[146] nextScene = null

  begin set env var
    const null
  end set env var nextScene


[147] notificationNode = null

  begin set env var
    const null
  end set env var notificationNode


[148] displayFPS = true

  begin set env var
    const true
  end set env var displayFPS


[149] displayProfilers = true

  begin set env var
    const true
  end set env var displayProfilers


[151] _E.scene = Scene()

  begin set property
    begin call method
      get local var _E (0 0)
      begin params 1
        push const string "Scene"
      end params ret values 1
    end call method ret values 1
    get local var auto create _E (0 0)
    push const string "scene"
  end set property ret values 0


[153] var totalFrames = 0

  begin set local var
    push const number 0
  end set local var totalFrames (11 0)


[154] function get totalFrames(){ return totalFrames }

  begin set env var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals
      begin return
        get local var totalFrames (11 1)
      end return values 1
    end function
  end set env var __get@totalFrames


[156] function enableDefaultGlStates(){

  begin set env var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals

[157] glEnableClientState(GL_VERTEX_ARRAY)

      begin call method
        get local var _E (0 0)
        begin params 2
          push const string "glEnableClientState"
          ,
          get env var GL_VERTEX_ARRAY
        end params ret values 2
      end call method ret values 0


[158] glEnableClientState(GL_COLOR_ARRAY)

      begin call method
        get local var _E (0 0)
        begin params 2
          push const string "glEnableClientState"
          ,
          get env var GL_COLOR_ARRAY
        end params ret values 2
      end call method ret values 0


[159] glEnableClientState(GL_TEXTURE_COORD_ARRAY)

      begin call method
        get local var _E (0 0)
        begin params 2
          push const string "glEnableClientState"
          ,
          get env var GL_TEXTURE_COORD_ARRAY
        end params ret values 2
      end call method ret values 0


[160] glEnable(GL_TEXTURE_2D)

      begin call method
        get local var _E (0 0)
        begin params 2
          push const string "glEnable"
          ,
          get env var GL_TEXTURE_2D
        end params ret values 2
      end call method ret values 0
    end function
  end set env var enableDefaultGlStates


[163] function disableDefaultGlStates(){

  begin set env var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals

[164] glDisable(GL_TEXTURE_2D)

      begin call method
        get local var _E (0 0)
        begin params 2
          push const string "glDisable"
          ,
          get env var GL_TEXTURE_2D
        end params ret values 2
      end call method ret values 0


[165] glDisableClientState(GL_TEXTURE_COORD_ARRAY)

      begin call method
        get local var _E (0 0)
        begin params 2
          push const string "glDisableClientState"
          ,
          get env var GL_TEXTURE_COORD_ARRAY
        end params ret values 2
      end call method ret values 0


[166] glDisableClientState(GL_COLOR_ARRAY)

      begin call method
        get local var _E (0 0)
        begin params 2
          push const string "glDisableClientState"
          ,
          get env var GL_COLOR_ARRAY
        end params ret values 2
      end call method ret values 0


[167] glDisableClientState(GL_VERTEX_ARRAY)

      begin call method
        get local var _E (0 0)
        begin params 2
          push const string "glDisableClientState"
          ,
          get env var GL_VERTEX_ARRAY
        end params ret values 2
      end call method ret values 0
    end function
  end set env var disableDefaultGlStates


[170] var function setNextScene(){

  begin set local var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals

[171] runningScene = nextScene

      begin set local var
        get env var nextScene
      end set local var runningScene (10 1)


[172] nextScene = null

      begin set env var
        const null
      end set env var nextScene
    end function
  end set local var setNextScene (12 0)


[175] var function paint(){

  begin set local var
    begin function
      begin locals, total 3
        0 _E
        1 _G
        2 paintParams
      end locals

[177] glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT)

      begin pop
        begin code list
          begin call method
            get local var _E (0 0)
            begin params 2
              push const string "glClear"
              ,
              begin bit |
                get env var GL_COLOR_BUFFER_BIT
                get env var GL_DEPTH_BUFFER_BIT
              end bit |
            end params ret values 2
          end call method ret values 0


[179] if(nextScene) setNextScene()

          begin if
            begin bool exp
              get env var nextScene
            end bool exp
            begin then
              begin call
                get local var setNextScene (12 1)
                begin params 0
                end params ret values 0
              end call ret values 0
            end then
          end if ret values 0


[181] glPushMatrix()

          begin call method
            get local var _E (0 0)
            begin params 1
              push const string "glPushMatrix"
            end params ret values 1
          end call method ret values 0


[182] applyOrientation()

          begin call
            get local var applyOrientation (8 1)
            begin params 0
            end params ret values 0
          end call ret values 0


[185] enableDefaultGlStates()

          begin call method
            get local var _E (0 0)
            begin params 1
              push const string "enableDefaultGlStates"
            end params ret values 1
          end call method ret values 0


[188] var paintParams = {opacity = 1}

          begin set local var
            begin object 1
              begin set by name
                push const number 1
              end set by name: [opacity]
            end object
          end set local var paintParams (2 0)


[189] if(runningScene) runningScene.handlePaint(paintParams)

          begin if
            begin bool exp
              get local var runningScene (10 1)
            end bool exp
            begin then
              begin call method
                get local var runningScene (10 1)
                begin params 2
                  push const string "handlePaint"
                  ,
                  get local var paintParams (2 0)
                end params ret values 2
              end call method ret values 0
            end then
          end if ret values 0


[190] if(notificationNode) notificationNode.handlePaint(paintParams)

          begin if
            begin bool exp
              get env var notificationNode
            end bool exp
            begin then
              begin call method
                get env var notificationNode
                begin params 2
                  push const string "handlePaint"
                  ,
                  get local var paintParams (2 0)
                end params ret values 2
              end call method ret values 0
            end then
          end if ret values 0


[192] if(displayFPS) showFPS()

          begin if
            begin bool exp
              get env var displayFPS
            end bool exp
            begin then
              begin call method
                get local var _E (0 0)
                begin params 1
                  push const string "showFPS"
                end params ret values 1
              end call method ret values 0
            end then
          end if ret values 0


[193] if(displayProfilers) showProfilers()

          begin if
            begin bool exp
              get env var displayProfilers
            end bool exp
            begin then
              begin call method
                get local var _E (0 0)
                begin params 1
                  push const string "showProfilers"
                end params ret values 1
              end call method ret values 0
            end then
          end if ret values 0


[195] disableDefaultGlStates()

          begin call method
            get local var _E (0 0)
            begin params 1
              push const string "disableDefaultGlStates"
            end params ret values 1
          end call method ret values 0


[197] glPopMatrix()

          begin call method
            get local var _E (0 0)
            begin params 1
              push const string "glPopMatrix"
            end params ret values 1
          end call method ret values 0


[198] glSwapBuffers()

          begin call method
            get local var _E (0 0)
            begin params 1
              push const string "glSwapBuffers"
            end params ret values 1
          end call method ret values 0


[200] ++totalFrames

          begin code list
            begin set local var
              begin operator +
                get local var totalFrames (11 1)
                push const number 1
              end operator +
            end set local var totalFrames (11 1)

            get local var totalFrames (11 1)
          end code list ret values 1
        end code list ret values 1
      end pop ret values 0
    end function
  end set local var paint (13 0)


[203] function showFPS(){

  begin set env var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals
    end function
  end set env var showFPS


[206] function showProfilers(){

  begin set env var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals
    end function
  end set env var showProfilers


[209] touches = {}

  begin set env var
    begin object 0
    end object
  end set env var touches


[211] function handleTouches(){

  begin set env var
    begin function
      begin locals, total 17
        0 _E
        1 _G
        2 time
        3 orientation
        4 width
        5 height
        6 touches
      end locals

[212] var time, orientation, width, height, touches = app.timeSec, app.orientation, _E.width, _E.height, {}

      begin set local var
        begin set local var
          begin set local var
            begin set local var
              begin set local var
                begin params 5
                  begin get property
                    get local var app (3 1)
                    push const string "timeSec"
                  end get property ret values 1
                  ,
                  begin get property
                    get local var app (3 1)
                    push const string "orientation"
                  end get property ret values 1
                  ,
                  begin get property
                    get local var _E (0 0)
                    push const string "width"
                  end get property ret values 1
                  ,
                  begin get property
                    get local var _E (0 0)
                    push const string "height"
                  end get property ret values 1
                  ,
                  begin object 0
                  end object
                end params ret values 5
              end set local var touches (6 0)
            end set local var height (5 0)
          end set local var width (4 0)
        end set local var orientation (3 0)
      end set local var time (2 0)


[213] for(var id, touch in app.touches){

      begin scope
        begin locals 4
          7 id
          8 touch
          9 #func
          10 #valid
        end locals
        new local var id (7 0)

        new local var touch (8 0)

        new local var #func (9 0 temp)

        new local var #valid (10 0 temp)

        begin code list
          begin set local var
            begin call method
              begin get property
                get local var app (3 1)
                push const string "touches"
              end get property ret values 1
              begin params 1
                push const string "__iter"
              end params ret values 1
            end call method ret values 1
          end set local var #func (9 0 temp)

          begin loop
            begin set local var
              begin set local var
                begin set local var
                  begin call
                    get local var #func (9 0 temp)
                    begin params 0
                    end params ret values 0
                  end call ret values 3
                end set local var touch (8 0)
              end set local var id (7 0)
            end set local var #valid (10 0 temp)

            begin if
              begin bool exp
                begin logic not
                  get local var #valid (10 0 temp)
                end logic not
              end bool exp
              begin then
                break
              end then
            end if ret values 0


[214] if(!touch.processed){

            begin scope
              begin if
                begin bool exp
                  begin logic not
                    begin get property
                      get local var touch (8 0)
                      push const string "processed"
                    end get property ret values 1
                  end logic not
                end bool exp
                begin then

[215] if(orientation == ORIENTATION_PORTRAIT){

                  begin scope
                    begin if
                      begin bool exp
                        begin logic ==
                          get local var orientation (3 0)
                          get env var ORIENTATION_PORTRAIT
                        end logic ==
                      end bool exp
                      begin then

[217] }else if(orientation == ORIENTATION_PORTRAIT_UPSIDE_DOWN){

                        begin scope
                        end scope ret values 0
                      end then
                      begin else
                        begin if
                          begin bool exp
                            begin logic ==
                              get local var orientation (3 0)
                              get env var ORIENTATION_PORTRAIT_UPSIDE_DOWN
                            end logic ==
                          end bool exp
                          begin then

[218] touch.x = width - touch.x

                            begin scope
                              begin set property
                                begin operator -
                                  get local var width (4 0)
                                  begin get property
                                    get local var touch (8 0)
                                    push const string "x"
                                  end get property ret values 1
                                end operator -
                                get local var auto create touch (8 0)
                                push const string "x"
                              end set property ret values 0
                            end scope ret values 0
                          end then
                          begin else

[219] }else if(orientation == ORIENTATION_LANDSCAPE_LEFT){

                            begin if
                              begin bool exp
                                begin logic ==
                                  get local var orientation (3 0)
                                  get env var ORIENTATION_LANDSCAPE_LEFT
                                end logic ==
                              end bool exp
                              begin then

[221] touch.x, touch.y = height - touch.y, touch.x

                                begin scope
                                  begin set property
                                    begin set property
                                      begin params 2
                                        begin operator -
                                          get local var height (5 0)
                                          begin get property
                                            get local var touch (8 0)
                                            push const string "y"
                                          end get property ret values 1
                                        end operator -
                                        ,
                                        begin get property
                                          get local var touch (8 0)
                                          push const string "x"
                                        end get property ret values 1
                                      end params ret values 2
                                      get local var auto create touch (8 0)
                                      push const string "y"
                                    end set property ret values 1
                                    get local var auto create touch (8 0)
                                    push const string "x"
                                  end set property ret values 0
                                end scope ret values 0
                              end then
                              begin else

[222] }else if(orientation == ORIENTATION_LANDSCAPE_RIGHT){

                                begin if
                                  begin bool exp
                                    begin logic ==
                                      get local var orientation (3 0)
                                      get env var ORIENTATION_LANDSCAPE_RIGHT
                                    end logic ==
                                  end bool exp
                                  begin then

[224] touch.x, touch.y = touch.y, width - touch.x

                                    begin scope
                                      begin set property
                                        begin set property
                                          begin params 2
                                            begin get property
                                              get local var touch (8 0)
                                              push const string "y"
                                            end get property ret values 1
                                            ,
                                            begin operator -
                                              get local var width (4 0)
                                              begin get property
                                                get local var touch (8 0)
                                                push const string "x"
                                              end get property ret values 1
                                            end operator -
                                          end params ret values 2
                                          get local var auto create touch (8 0)
                                          push const string "y"
                                        end set property ret values 1
                                        get local var auto create touch (8 0)
                                        push const string "x"
                                      end set property ret values 0
                                    end scope ret values 0
                                  end then
                                end if ret values 0
                              end else
                            end if ret values 0
                          end else
                        end if ret values 0
                      end else
                    end if ret values 0


[226] touch.nativeX, touch.nativeY = touch.x, touch.y

                    begin set property
                      begin set property
                        begin params 2
                          begin get property
                            get local var touch (8 0)
                            push const string "x"
                          end get property ret values 1
                          ,
                          begin get property
                            get local var touch (8 0)
                            push const string "y"
                          end get property ret values 1
                        end params ret values 2
                        get local var auto create touch (8 0)
                        push const string "nativeY"
                      end set property ret values 1
                      get local var auto create touch (8 0)
                      push const string "nativeX"
                    end set property ret values 0


[227] touches.push touch

                    begin call method
                      get local var touches (6 0)
                      begin params 2
                        push const string "push"
                        ,
                        get local var touch (8 0)
                      end params ret values 2
                    end call method ret values 0
                  end scope ret values 0
                end then
                begin else

[228] }else if(touch.phase == "end" || touch.phase == "cancel" || time - touch.processed > 30){

                  begin if
                    begin bool exp
                      begin logic ||
                        begin logic ||
                          begin logic ==
                            begin get property
                              get local var touch (8 0)
                              push const string "phase"
                            end get property ret values 1
                            push const string "end"
                          end logic ==
                          begin logic ==
                            begin get property
                              get local var touch (8 0)
                              push const string "phase"
                            end get property ret values 1
                            push const string "cancel"
                          end logic ==
                        end logic ||
                        begin logic >
                          begin operator -
                            get local var time (2 0)
                            begin get property
                              get local var touch (8 0)
                              push const string "processed"
                            end get property ret values 1
                          end operator -
                          push const number 30
                        end logic >
                      end logic ||
                    end bool exp
                    begin then

[230] delete app.touches[id]

                      begin scope
                        begin delete
                          begin get property
                            get local var app (3 1)
                            push const string "touches"
                          end get property ret values 1
                          get local var id (7 0)
                        end delete
                      end scope ret values 0
                    end then
                  end if ret values 0
                end else
              end if ret values 0
            end scope ret values 0
          end loop ret values 0
        end code list ret values 0
      end scope ret values 0


[233] for(var id, touch in touches){

      begin scope
        begin locals 4
          11 id
          12 touch
          15 #func
          16 #valid
        end locals
        new local var id (11 0)

        new local var touch (12 0)

        new local var #func (15 0 temp)

        new local var #valid (16 0 temp)

        begin code list
          begin set local var
            begin call method
              get local var touches (6 0)
              begin params 1
                push const string "__iter"
              end params ret values 1
            end call method ret values 1
          end set local var #func (15 0 temp)

          begin loop
            begin set local var
              begin set local var
                begin set local var
                  begin call
                    get local var #func (15 0 temp)
                    begin params 0
                    end params ret values 0
                  end call ret values 3
                end set local var touch (12 0)
              end set local var id (11 0)
            end set local var #valid (16 0 temp)

            begin if
              begin bool exp
                begin logic not
                  get local var #valid (16 0 temp)
                end logic not
              end bool exp
              begin then
                break
              end then
            end if ret values 0


[234] if(touch.processed){

            begin scope
              begin if
                begin bool exp
                  begin get property
                    get local var touch (12 0)
                    push const string "processed"
                  end get property ret values 1
                end bool exp
                begin then

[235] continue;

                  begin scope
                    continue
                  end scope ret values 0
                end then
              end if ret values 0


[237] touch.processed = time

              begin set property
                get local var time (2 0)
                get local var auto create touch (12 0)
                push const string "processed"
              end set property ret values 0


[238] if(touch.captured && !touch.modal){ // && touch.phase != "start"){

              begin if
                begin bool exp
                  begin logic &&
                    begin get property
                      get local var touch (12 0)
                      push const string "captured"
                    end get property ret values 1
                    begin logic not
                      begin get property
                        get local var touch (12 0)
                        push const string "modal"
                      end get property ret values 1
                    end logic not
                  end logic &&
                end bool exp
                begin then

[239] var cur = touch.captured

                  begin scope
                    begin locals 2
                      13 cur
                      14 recursion
                    end locals
                    begin set local var
                      begin get property
                        get local var touch (12 0)
                        push const string "captured"
                      end get property ret values 1
                    end set local var cur (13 0)


[240] var recursion = {[cur] = true}

                    begin set local var
                      begin object 1
                        begin set by exp
                          get local var cur (13 0)
                          const true
                        end set by exp
                      end object
                    end set local var recursion (14 0)


[241] for(;cur !== runningScene && cur.__parent;){

                    begin scope
                      nop

                      begin loop
                        begin if
                          begin bool exp
                            begin logic not
                              begin logic &&
                                begin logic !==
                                  get local var cur (13 0)
                                  get local var runningScene (10 1)
                                end logic !==
                                begin get property
                                  get local var cur (13 0)
                                  push const string "__parent"
                                end get property ret values 1
                              end logic &&
                            end logic not
                          end bool exp
                          begin then
                            break
                          end then
                        end if ret values 0


[242] cur = cur.__parent

                        begin scope
                          begin set local var
                            begin get property
                              get local var cur (13 0)
                              push const string "__parent"
                            end get property ret values 1
                          end set local var cur (13 0)


[243] if(cur in recursion) break

                          begin if
                            begin bool exp
                              begin in
                                get local var cur (13 0)
                                get local var recursion (14 0)
                              end in
                            end bool exp
                            begin then
                              break
                            end then
                          end if ret values 0


[244] recursion[cur] = true

                          begin set property
                            const true
                            get local var auto create recursion (14 0)
                            get local var cur (13 0)
                          end set property ret values 0
                        end scope ret values 0


[241] for(;cur !== runningScene && cur.__parent;){

                        nop
                      end loop ret values 0
                    end scope ret values 0


[246] if(cur === runningScene){

                    begin if
                      begin bool exp
                        begin logic ===
                          get local var cur (13 0)
                          get local var runningScene (10 1)
                        end logic ===
                      end bool exp
                      begin then

[248] touch.captured.handleTouch(touch)

                        begin scope
                          begin call method
                            begin get property
                              get local var touch (12 0)
                              push const string "captured"
                            end get property ret values 1
                            begin params 2
                              push const string "handleTouch"
                              ,
                              get local var touch (12 0)
                            end params ret values 2
                          end call method ret values 0


[249] if(touch.captured){

                          begin if
                            begin bool exp
                              begin get property
                                get local var touch (12 0)
                                push const string "captured"
                              end get property ret values 1
                            end bool exp
                            begin then

[251] continue

                              begin scope
                                continue
                              end scope ret values 0
                            end then
                          end if ret values 0
                        end scope ret values 0
                      end then
                      begin else

[255] touch.captured = null

                        begin scope
                          begin set property
                            const null
                            get local var auto create touch (12 0)
                            push const string "captured"
                          end set property ret values 0
                        end scope ret values 0
                      end else
                    end if ret values 0
                  end scope ret values 0
                end then
              end if ret values 0


[259] touch.modal = false

              begin set property
                const false
                get local var auto create touch (12 0)
                push const string "modal"
              end set property ret values 0


[261] runningScene.handleTouch(touch)

              begin call method
                get local var runningScene (10 1)
                begin params 2
                  push const string "handleTouch"
                  ,
                  get local var touch (12 0)
                end params ret values 2
              end call method ret values 0
            end scope ret values 0
          end loop ret values 0
        end code list ret values 0
      end scope ret values 0
    end function
  end set env var handleTouches


[266] var deltaTime = 0.01

  begin set local var
    push const number 0.01
  end set local var deltaTime (14 0)


[267] function get deltaTime(){return deltaTime}

  begin set env var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals
      begin return
        get local var deltaTime (14 1)
      end return values 1
    end function
  end set env var __get@deltaTime


[269] var timeSpeed = 1

  begin set local var
    push const number 1
  end set local var timeSpeed (15 0)


[270] function get timeSpeed(){return timeSpeed}

  begin set env var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals
      begin return
        get local var timeSpeed (15 1)
      end return values 1
    end function
  end set env var __get@timeSpeed


[271] function set timeSpeed(a){ timeSpeed = a }

  begin set env var
    begin function
      begin locals, total 3
        0 a (param)
        1 _E
        2 _G
      end locals
      begin set local var
        get local var a (0 0 param)
      end set local var timeSpeed (15 1)
    end function
  end set env var __set@timeSpeed


[273] var time = 0

  begin set local var
    push const number 0
  end set local var time (16 0)


[274] function get time(){return time}

  begin set env var
    begin function
      begin locals, total 2
        0 _E
        1 _G
      end locals
      begin return
        get local var time (16 1)
      end return values 1
    end function
  end set env var __get@time


[275] function set time(a){ time = a }

  begin set env var
    begin function
      begin locals, total 3
        0 a (param)
        1 _E
        2 _G
      end locals
      begin set local var
        get local var a (0 0 param)
      end set local var time (16 1)
    end function
  end set env var __set@time


[277] var prevAppTime = 0

  begin set local var
    push const number 0
  end set local var prevAppTime (17 0)


[279] var coreTriggerEvent = core.triggerEvent

  begin set local var
    begin get property
      get local var core (2 0)
      push const string "triggerEvent"
    end get property ret values 1
  end set local var coreTriggerEvent (18 0)


[280] function core.triggerEvent(eventName, params){

  begin set property
    begin function
      begin locals, total 6
        0 eventName (param)
        1 params (param)
        2 _E
        3 _G
      end locals

[281] coreTriggerEvent.call(core, eventName, params)

      begin call method
        get local var coreTriggerEvent (18 1)
        begin params 4
          push const string "call"
          ,
          get local var core (2 1)
          ,
          get local var eventName (0 0 param)
          ,
          get local var params (1 0 param)
        end params ret values 4
      end call method ret values 0


[282] if(eventName == "enterFrame"){

      begin if
        begin bool exp
          begin logic ==
            get local var eventName (0 0 param)
            push const string "enterFrame"
          end logic ==
        end bool exp
        begin then

[284] var appTime = app.timeSec

          begin scope
            begin locals 2
              4 appTime
              5 updateParams
            end locals
            begin set local var
              begin get property
                get local var app (3 1)
                push const string "timeSec"
              end get property ret values 1
            end set local var appTime (4 0)


[285] deltaTime = (appTime - prevAppTime) * timeSpeed

            begin set local var
              begin operator *
                begin operator -
                  get local var appTime (4 0)
                  get local var prevAppTime (17 1)
                end operator -
                get local var timeSpeed (15 1)
              end operator *
            end set local var deltaTime (14 1)


[286] prevAppTime = appTime

            begin set local var
              get local var appTime (4 0)
            end set local var prevAppTime (17 1)


[287] if(deltaTime > 0.1) deltaTime = 0.1

            begin if
              begin bool exp
                begin logic >
                  get local var deltaTime (14 1)
                  push const number 0.1
                end logic >
              end bool exp
              begin then
                begin set local var
                  push const number 0.1
                end set local var deltaTime (14 1)
              end then
            end if ret values 0


[288] time = time + deltaTime

            begin set local var
              begin operator +
                get local var time (16 1)
                get local var deltaTime (14 1)
              end operator +
            end set local var time (16 1)


[290] handleTouches()

            begin call method
              get local var _E (2 0)
              begin params 1
                push const string "handleTouches"
              end params ret values 1
            end call method ret values 0


[292] var updateParams = {deltaTime = deltaTime}

            begin set local var
              begin object 1
                begin set by name
                  get local var deltaTime (14 1)
                end set by name: [deltaTime]
              end object
            end set local var updateParams (5 0)


[293] if(runningScene) runningScene.handleUpdate(updateParams)

            begin if
              begin bool exp
                get local var runningScene (10 1)
              end bool exp
              begin then
                begin call method
                  get local var runningScene (10 1)
                  begin params 2
                    push const string "handleUpdate"
                    ,
                    get local var updateParams (5 0)
                  end params ret values 2
                end call method ret values 0
              end then
            end if ret values 0


[294] if(notificationNode) notificationNode.handleUpdate(updateParams)

            begin if
              begin bool exp
                get env var notificationNode
              end bool exp
              begin then
                begin call method
                  get env var notificationNode
                  begin params 2
                    push const string "handleUpdate"
                    ,
                    get local var updateParams (5 0)
                  end params ret values 2
                end call method ret values 0
              end then
            end if ret values 0


[296] paint()

            begin call
              get local var paint (13 1)
              begin params 0
              end params ret values 0
            end call ret values 0
          end scope ret values 0
        end then
        begin else

[298] if(runningScene) runningScene.triggerEvent(eventName, params)

          begin scope
            begin if
              begin bool exp
                get local var runningScene (10 1)
              end bool exp
              begin then
                begin call method
                  get local var runningScene (10 1)
                  begin params 3
                    push const string "triggerEvent"
                    ,
                    get local var eventName (0 0 param)
                    ,
                    get local var params (1 0 param)
                  end params ret values 3
                end call method ret values 0
              end then
            end if ret values 0


[299] if(notificationNode) notificationNode.triggerEvent(eventName, params)

            begin if
              begin bool exp
                get env var notificationNode
              end bool exp
              begin then
                begin call method
                  get env var notificationNode
                  begin params 3
                    push const string "triggerEvent"
                    ,
                    get local var eventName (0 0 param)
                    ,
                    get local var params (1 0 param)
                  end params ret values 3
                end call method ret values 0
              end then
            end if ret values 0
          end scope ret values 0
        end else
      end if ret values 0
    end function

[280] function core.triggerEvent(eventName, params){

    get local var auto create core (2 0)
    push const string "triggerEvent"
  end set property ret values 0


[300] }

  begin code list
    begin return
      get local var _E (0 0)
    end return values 1
  end code list ret values 0
end function
