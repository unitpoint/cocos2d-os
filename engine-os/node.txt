
[FILE] raw://../../engine-os/node.os
[1] require("utils")

begin function
  begin locals, total 3
    0 _E
    1 _G
    2 counter
  end locals
  begin call method
    get local var _E (0 0)
    begin params 2
      push const string "require"
      ,
      push const string "utils"
    end params ret values 2
  end call method ret values 0


[3] Point = {

  begin set env var
    begin object 1

[4] __construct = function(x, y){

      begin set by name
        begin function
          begin locals, total 4
            0 x (param)
            1 y (param)
            2 _E
            3 _G
          end locals

[5] this.x = x

          begin set property
            get local var x (0 0 param)
            push this
            push const string "x"
          end set property ret values 0


[6] this.y = y

          begin set property
            get local var y (1 0 param)
            push this
            push const string "y"
          end set property ret values 0
        end function
      end set by name: [__construct]
    end object
  end set env var Point


[10] Size = {

  begin set env var
    begin object 1

[11] __construct = function(width, height){

      begin set by name
        begin function
          begin locals, total 4
            0 width (param)
            1 height (param)
            2 _E
            3 _G
          end locals

[12] this.width = width

          begin set property
            get local var width (0 0 param)
            push this
            push const string "width"
          end set property ret values 0


[13] this.height = height

          begin set property
            get local var height (1 0 param)
            push this
            push const string "height"
          end set property ret values 0
        end function
      end set by name: [__construct]
    end object
  end set env var Size


[17] var counter = 0

  begin set local var
    push const number 0
  end set local var counter (2 0)


[19] FunctionNode = {

  begin set env var
    begin object 24

[20] __object = {

      begin set by name
        begin object 9

[21] time = 0

          begin set by name
            push const number 0
          end set by name: [time]
          ,

[22] timeSpeed = 1

          begin set by name
            push const number 1
          end set by name: [timeSpeed]
          ,

[24] __events = {}

          begin set by name
            begin object 0
            end object
          end set by name: [__events]
          ,

[25] __childrenNeg = {}

          begin set by name
            begin object 0
            end object
          end set by name: [__childrenNeg]
          ,

[26] __childrenPos = {}

          begin set by name
            begin object 0
            end object
          end set by name: [__childrenPos]
          ,

[27] __timers = {}

          begin set by name
            begin object 0
            end object
          end set by name: [__timers]
          ,

[28] __parent = null

          begin set by name
            const null
          end set by name: [__parent]
          ,

[29] __parentChildren = null

          begin set by name
            const null
          end set by name: [__parentChildren]
          ,

[30] __zOrder = 0

          begin set by name
            push const number 0
          end set by name: [__zOrder]
        end object
      end set by name: [__object]
      ,

[33] __get@parent = function(){return this.__parent}

      begin set by name
        begin function
          begin locals, total 2
            0 _E
            1 _G
          end locals
          begin return
            begin get property
              push this
              push const string "__parent"
            end get property ret values 1
          end return values 1
        end function
      end set by name: [__get@parent]
      ,

[34] __set@parent = function(a){

      begin set by name
        begin function
          begin locals, total 3
            0 a (param)
            1 _E
            2 _G
          end locals

[35] if(this.__parent !== a){

          begin if
            begin bool exp
              begin logic !==
                begin get property
                  push this
                  push const string "__parent"
                end get property ret values 1
                get local var a (0 0 param)
              end logic !==
            end bool exp
            begin then

[36] this.remove()

              begin scope
                begin pop
                  begin code list
                    begin call method
                      push this
                      begin params 1
                        push const string "remove"
                      end params ret values 1
                    end call method ret values 0


[37] a && a.insert(this)

                    begin logic &&
                      get local var a (0 0 param)
                      begin call method
                        get local var a (0 0 param)
                        begin params 2
                          push const string "insert"
                          ,
                          push this
                        end params ret values 2
                      end call method ret values 1
                    end logic &&
                  end code list ret values 1
                end pop ret values 0
              end scope ret values 0
            end then
          end if ret values 0
        end function
      end set by name: [__set@parent]
      ,

[41] __get@zOrder = function(){return this.__zOrder}

      begin set by name
        begin function
          begin locals, total 2
            0 _E
            1 _G
          end locals
          begin return
            begin get property
              push this
              push const string "__zOrder"
            end get property ret values 1
          end return values 1
        end function
      end set by name: [__get@zOrder]
      ,

[42] __set@zOrder = function(a){

      begin set by name
        begin function
          begin locals, total 3
            0 a (param)
            1 _E
            2 _G
          end locals

[43] a = math.round(a)

          begin set local var
            begin call method
              get env var math
              begin params 2
                push const string "round"
                ,
                get local var a (0 0 param)
              end params ret values 2
            end call method ret values 1
          end set local var a (0 0 param)


[44] if(this.__zOrder !== a){

          begin if
            begin bool exp
              begin logic !==
                begin get property
                  push this
                  push const string "__zOrder"
                end get property ret values 1
                get local var a (0 0 param)
              end logic !==
            end bool exp
            begin then

[45] this.__zOrder = a

              begin scope
                begin set property
                  get local var a (0 0 param)
                  push this
                  push const string "__zOrder"
                end set property ret values 0


[46] if(this.__parent){

                begin if
                  begin bool exp
                    begin get property
                      push this
                      push const string "__parent"
                    end get property ret values 1
                  end bool exp
                  begin then

[47] this.__parentChildren[this][0] = a

                    begin scope
                      begin set property
                        get local var a (0 0 param)
                        begin get property auto create
                          begin get property auto create
                            push this
                            push const string "__parentChildren"
                          end get property auto create ret values 1
                          push this
                        end get property auto create ret values 1
                        push const number 0
                      end set property ret values 0


[48] this.__parent.sortChildren(this.__parentChildren)

                      begin call method
                        begin get property
                          push this
                          push const string "__parent"
                        end get property ret values 1
                        begin params 2
                          push const string "sortChildren"
                          ,
                          begin get property
                            push this
                            push const string "__parentChildren"
                          end get property ret values 1
                        end params ret values 2
                      end call method ret values 0
                    end scope ret values 0
                  end then
                end if ret values 0
              end scope ret values 0
            end then
          end if ret values 0
        end function
      end set by name: [__set@zOrder]
      ,

[53] sortChildren = function(children){

      begin set by name
        begin function
          begin locals, total 3
            0 children (param)
            1 _E
            2 _G
          end locals

[54] children.rsort(function(a b){

          begin call method
            get local var children (0 0 param)
            begin params 2
              push const string "rsort"
              ,
              begin function
                begin locals, total 5
                  0 a (param)
                  1 b (param)
                  2 _E
                  3 _G
                  4 z
                end locals

[55] var z = a[0] - b[0]

                begin set local var
                  begin operator -
                    begin get property
                      get local var a (0 0 param)
                      push const number 0
                    end get property ret values 1
                    begin get property
                      get local var b (1 0 param)
                      push const number 0
                    end get property ret values 1
                  end operator -
                end set local var z (4 0)


[56] return z != 0 ? z : a[1] - b[1]

                begin code list
                  begin return
                    begin question
                      begin bool exp
                        begin logic !=
                          get local var z (4 0)
                          push const number 0
                        end logic !=
                      end bool exp
                      begin then value
                        get local var z (4 0)
                      end then value
                      begin else value
                        begin operator -
                          begin get property
                            get local var a (0 0 param)
                            push const number 1
                          end get property ret values 1
                          begin get property
                            get local var b (1 0 param)
                            push const number 1
                          end get property ret values 1
                        end operator -
                      end else value
                    end question ret values 1
                  end return values 1
                end code list ret values 0
              end function
            end params ret values 2
          end call method ret values 0
        end function
      end set by name: [sortChildren]
      ,

[60] insert = function(node, zOrder){

      begin set by name
        begin function
          begin locals, total 5
            0 node (param)
            1 zOrder (param)
            2 _E
            3 _G
            4 children
          end locals

[61] node.remove()

          begin call method
            get local var node (0 0 param)
            begin params 1
              push const string "remove"
            end params ret values 1
          end call method ret values 0


[63] if(zOrder){

          begin if
            begin bool exp
              get local var zOrder (1 0 param)
            end bool exp
            begin then

[64] zOrder = math.round(zOrder)

              begin scope
                begin set local var
                  begin call method
                    get env var math
                    begin params 2
                      push const string "round"
                      ,
                      get local var zOrder (1 0 param)
                    end params ret values 2
                  end call method ret values 1
                end set local var zOrder (1 0 param)


[65] node.__zOrder = zOrder

                begin set property
                  get local var zOrder (1 0 param)
                  get local var auto create node (0 0 param)
                  push const string "__zOrder"
                end set property ret values 0
              end scope ret values 0
            end then
            begin else

[67] zOrder = node.__zOrder

              begin set local var
                begin get property
                  get local var node (0 0 param)
                  push const string "__zOrder"
                end get property ret values 1
              end set local var zOrder (1 0 param)
            end else
          end if ret values 0


[69] var children = zOrder < 0 ? this.__childrenNeg : this.__childrenPos

          begin set local var
            begin question
              begin bool exp
                begin logic <
                  get local var zOrder (1 0 param)
                  push const number 0
                end logic <
              end bool exp
              begin then value
                begin get property
                  push this
                  push const string "__childrenNeg"
                end get property ret values 1
              end then value
              begin else value
                begin get property
                  push this
                  push const string "__childrenPos"
                end get property ret values 1
              end else value
            end question ret values 1
          end set local var children (4 0)


[70] children[node] = [zOrder, ++counter]

          begin set property
            begin array 2
              begin set auto index
                get local var zOrder (1 0 param)
              end set auto index
              ,
              begin set auto index
                begin code list
                  begin set local var
                    begin operator +
                      get local var counter (2 1)
                      push const number 1
                    end operator +
                  end set local var counter (2 1)

                  get local var counter (2 1)
                end code list ret values 1
              end set auto index
            end array
            get local var auto create children (4 0)
            get local var node (0 0 param)
          end set property ret values 0


[71] this.sortChildren(children)

          begin call method
            push this
            begin params 2
              push const string "sortChildren"
              ,
              get local var children (4 0)
            end params ret values 2
          end call method ret values 0


[72] node.__parent = this

          begin set property
            push this
            get local var auto create node (0 0 param)
            push const string "__parent"
          end set property ret values 0


[73] node.__parentChildren = children

          begin set property
            get local var children (4 0)
            get local var auto create node (0 0 param)
            push const string "__parentChildren"
          end set property ret values 0


[74] node.triggerEvent("onEnter", {sender: node})

          begin call method
            get local var node (0 0 param)
            begin params 3
              push const string "triggerEvent"
              ,
              push const string "onEnter"
              ,
              begin object 1
                begin set by name
                  get local var node (0 0 param)
                end set by name: [sender]
              end object
            end params ret values 3
          end call method ret values 0


[75] return node

          begin code list
            begin return
              get local var node (0 0 param)
            end return values 1
          end code list ret values 0
        end function
      end set by name: [insert]
      ,

[78] insertTo = function(newParent, zOrder){

      begin set by name
        begin function
          begin locals, total 4
            0 newParent (param)
            1 zOrder (param)
            2 _E
            3 _G
          end locals

[79] return newParent.insert(this, zOrder)

          begin tail call method
            get local var newParent (0 0 param)
            begin params 3
              push const string "insert"
              ,
              push this
              ,
              get local var zOrder (1 0 param)
            end params ret values 3
          end tail call method
        end function
      end set by name: [insertTo]
      ,

[82] remove = function(node){

      begin set by name
        begin function
          begin locals, total 3
            0 node (param)
            1 _E
            2 _G
          end locals

[83] node = node || this

          begin set local var
            begin logic ||
              get local var node (0 0 param)
              push this
            end logic ||
          end set local var node (0 0 param)


[84] if(node.__parent){

          begin if
            begin bool exp
              begin get property
                get local var node (0 0 param)
                push const string "__parent"
              end get property ret values 1
            end bool exp
            begin then

[85] node.triggerEvent("onExit", {sender: node})

              begin scope
                begin call method
                  get local var node (0 0 param)
                  begin params 3
                    push const string "triggerEvent"
                    ,
                    push const string "onExit"
                    ,
                    begin object 1
                      begin set by name
                        get local var node (0 0 param)
                      end set by name: [sender]
                    end object
                  end params ret values 3
                end call method ret values 0


[86] delete node.__parentChildren[node]

                begin delete
                  begin get property
                    get local var node (0 0 param)
                    push const string "__parentChildren"
                  end get property ret values 1
                  get local var node (0 0 param)
                end delete


[87] node.__parent = null

                begin set property
                  const null
                  get local var auto create node (0 0 param)
                  push const string "__parent"
                end set property ret values 0


[88] node.__parentChildren = null

                begin set property
                  const null
                  get local var auto create node (0 0 param)
                  push const string "__parentChildren"
                end set property ret values 0
              end scope ret values 0
            end then
          end if ret values 0
        end function
      end set by name: [remove]
      ,

[92] contains = function(node){

      begin set by name
        begin function
          begin locals, total 3
            0 node (param)
            1 _E
            2 _G
          end locals

[93] return node in this.__childrenNeg || node in this.__childrenPos

          begin return
            begin logic ||
              begin in
                get local var node (0 0 param)
                begin get property
                  push this
                  push const string "__childrenNeg"
                end get property ret values 1
              end in
              begin in
                get local var node (0 0 param)
                begin get property
                  push this
                  push const string "__childrenPos"
                end get property ret values 1
              end in
            end logic ||
          end return values 1
        end function
      end set by name: [contains]
      ,

[96] handleUpdate = function(params){

      begin set by name
        begin function
          begin locals, total 13
            0 params (param)
            1 _E
            2 _G
            3 deltaTime
          end locals

[97] var deltaTime = params.deltaTime

          begin set local var
            begin get property
              get local var params (0 0 param)
              push const string "deltaTime"
            end get property ret values 1
          end set local var deltaTime (3 0)


[98] params.deltaTime = deltaTime * this.timeSpeed

          begin set property
            begin operator *
              get local var deltaTime (3 0)
              begin get property
                push this
                push const string "timeSpeed"
              end get property ret values 1
            end operator *
            get local var auto create params (0 0 param)
            push const string "deltaTime"
          end set property ret values 0


[99] this.time = this.time + params.deltaTime

          begin set property
            begin operator +
              begin get property
                push this
                push const string "time"
              end get property ret values 1
              begin get property
                get local var params (0 0 param)
                push const string "deltaTime"
              end get property ret values 1
            end operator +
            push this
            push const string "time"
          end set property ret values 0


[100] this.updateTimers(params)

          begin call method
            push this
            begin params 2
              push const string "updateTimers"
              ,
              get local var params (0 0 param)
            end params ret values 2
          end call method ret values 0


[101] for(var child in this.__childrenPos){

          begin scope
            begin locals 3
              4 child
              5 #func
              6 #valid
            end locals
            new local var child (4 0)

            new local var #func (5 0 temp)

            new local var #valid (6 0 temp)

            begin code list
              begin set local var
                begin call method
                  begin get property
                    push this
                    push const string "__childrenPos"
                  end get property ret values 1
                  begin params 1
                    push const string "__iter"
                  end params ret values 1
                end call method ret values 1
              end set local var #func (5 0 temp)

              begin loop
                begin set local var
                  begin set local var
                    begin call
                      get local var #func (5 0 temp)
                      begin params 0
                      end params ret values 0
                    end call ret values 2
                  end set local var child (4 0)
                end set local var #valid (6 0 temp)

                begin if
                  begin bool exp
                    begin logic not
                      get local var #valid (6 0 temp)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[102] child.handleUpdate(params)

                begin scope
                  begin call method
                    get local var child (4 0)
                    begin params 2
                      push const string "handleUpdate"
                      ,
                      get local var params (0 0 param)
                    end params ret values 2
                  end call method ret values 0
                end scope ret values 0
              end loop ret values 0
            end code list ret values 0
          end scope ret values 0


[104] if("enterFrame" in this.__events){

          begin if
            begin bool exp
              begin in
                push const string "enterFrame"
                begin get property
                  push this
                  push const string "__events"
                end get property ret values 1
              end in
            end bool exp
            begin then

[106] for(var func in this.__events["enterFrame"]){

              begin scope
                begin scope
                  begin locals 3
                    7 func
                    8 #func
                    9 #valid
                  end locals
                  new local var func (7 0)

                  new local var #func (8 0 temp)

                  new local var #valid (9 0 temp)

                  begin code list
                    begin set local var
                      begin call method
                        begin get property
                          begin get property
                            push this
                            push const string "__events"
                          end get property ret values 1
                          push const string "enterFrame"
                        end get property ret values 1
                        begin params 1
                          push const string "__iter"
                        end params ret values 1
                      end call method ret values 1
                    end set local var #func (8 0 temp)

                    begin loop
                      begin set local var
                        begin set local var
                          begin call
                            get local var #func (8 0 temp)
                            begin params 0
                            end params ret values 0
                          end call ret values 2
                        end set local var func (7 0)
                      end set local var #valid (9 0 temp)

                      begin if
                        begin bool exp
                          begin logic not
                            get local var #valid (9 0 temp)
                          end logic not
                        end bool exp
                        begin then
                          break
                        end then
                      end if ret values 0


[107] func.call(this, params)

                      begin scope
                        begin call method
                          get local var func (7 0)
                          begin params 3
                            push const string "call"
                            ,
                            push this
                            ,
                            get local var params (0 0 param)
                          end params ret values 3
                        end call method ret values 0
                      end scope ret values 0
                    end loop ret values 0
                  end code list ret values 0
                end scope ret values 0
              end scope ret values 0
            end then
          end if ret values 0


[110] for(var child in this.__childrenNeg){

          begin scope
            begin locals 3
              10 child
              11 #func
              12 #valid
            end locals
            new local var child (10 0)

            new local var #func (11 0 temp)

            new local var #valid (12 0 temp)

            begin code list
              begin set local var
                begin call method
                  begin get property
                    push this
                    push const string "__childrenNeg"
                  end get property ret values 1
                  begin params 1
                    push const string "__iter"
                  end params ret values 1
                end call method ret values 1
              end set local var #func (11 0 temp)

              begin loop
                begin set local var
                  begin set local var
                    begin call
                      get local var #func (11 0 temp)
                      begin params 0
                      end params ret values 0
                    end call ret values 2
                  end set local var child (10 0)
                end set local var #valid (12 0 temp)

                begin if
                  begin bool exp
                    begin logic not
                      get local var #valid (12 0 temp)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[111] child.handleUpdate(params)

                begin scope
                  begin call method
                    get local var child (10 0)
                    begin params 2
                      push const string "handleUpdate"
                      ,
                      get local var params (0 0 param)
                    end params ret values 2
                  end call method ret values 0
                end scope ret values 0
              end loop ret values 0
            end code list ret values 0
          end scope ret values 0


[113] params.deltaTime = deltaTime

          begin set property
            get local var deltaTime (3 0)
            get local var auto create params (0 0 param)
            push const string "deltaTime"
          end set property ret values 0
        end function
      end set by name: [handleUpdate]
      ,

[116] handlePaint = function(){}

      begin set by name
        begin function
          begin locals, total 2
            0 _E
            1 _G
          end locals
        end function
      end set by name: [handlePaint]
      ,

[117] handleTouch = function(){}

      begin set by name
        begin function
          begin locals, total 2
            0 _E
            1 _G
          end locals
        end function
      end set by name: [handleTouch]
      ,

[119] addEventListener = function(eventName, func, zOrder){

      begin set by name
        begin function
          begin locals, total 5
            0 eventName (param)
            1 func (param)
            2 zOrder (param)
            3 _E
            4 _G
          end locals

[120] functionof func || return;

          begin pop
            begin logic ||
              begin functionof
                get local var func (1 0 param)
              end functionof
              begin code list
                return
              end code list ret values 1
            end logic ||
          end pop ret values 0


[121] this.__events[eventName][func] = zOrder || 0

          begin set property
            begin logic ||
              get local var zOrder (2 0 param)
              push const number 0
            end logic ||
            begin get property auto create
              begin get property auto create
                push this
                push const string "__events"
              end get property auto create ret values 1
              get local var eventName (0 0 param)
            end get property auto create ret values 1
            get local var func (1 0 param)
          end set property ret values 0


[122] this.__events[eventName].rsort()

          begin call method
            begin get property
              begin get property
                push this
                push const string "__events"
              end get property ret values 1
              get local var eventName (0 0 param)
            end get property ret values 1
            begin params 1
              push const string "rsort"
            end params ret values 1
          end call method ret values 0


[123] return [eventName, func]

          begin code list
            begin return
              begin array 2
                begin set auto index
                  get local var eventName (0 0 param)
                end set auto index
                ,
                begin set auto index
                  get local var func (1 0 param)
                end set auto index
              end array
            end return values 1
          end code list ret values 0
        end function
      end set by name: [addEventListener]
      ,

[126] removeEventListener = function(eventName, func){

      begin set by name
        begin function
          begin locals, total 4
            0 eventName (param)
            1 func (param)
            2 _E
            3 _G
          end locals

[127] if(arrayof eventName){

          begin if
            begin bool exp
              begin arrayof
                get local var eventName (0 0 param)
              end arrayof
            end bool exp
            begin then

[128] eventName, func = eventName[0], eventName[1]

              begin scope
                begin set local var
                  begin set local var
                    begin params 2
                      begin get property
                        get local var eventName (0 0 param)
                        push const number 0
                      end get property ret values 1
                      ,
                      begin get property
                        get local var eventName (0 0 param)
                        push const number 1
                      end get property ret values 1
                    end params ret values 2
                  end set local var func (1 0 param)
                end set local var eventName (0 0 param)
              end scope ret values 0
            end then
          end if ret values 0


[130] if(eventName in this.__events){

          begin if
            begin bool exp
              begin in
                get local var eventName (0 0 param)
                begin get property
                  push this
                  push const string "__events"
                end get property ret values 1
              end in
            end bool exp
            begin then

[131] delete this.__events[eventName][func]

              begin scope
                begin delete
                  begin get property
                    begin get property
                      push this
                      push const string "__events"
                    end get property ret values 1
                    get local var eventName (0 0 param)
                  end get property ret values 1
                  get local var func (1 0 param)
                end delete
              end scope ret values 0
            end then
          end if ret values 0
        end function
      end set by name: [removeEventListener]
      ,

[135] triggerLocalEvent = function(eventName, params){

      begin set by name
        begin function
          begin locals, total 7
            0 eventName (param)
            1 params (param)
            2 _E
            3 _G
          end locals

[136] if(eventName in this.__events){

          begin if
            begin bool exp
              begin in
                get local var eventName (0 0 param)
                begin get property
                  push this
                  push const string "__events"
                end get property ret values 1
              end in
            end bool exp
            begin then

[138] for(var func in this.__events[eventName]){

              begin scope
                begin scope
                  begin locals 3
                    4 func
                    5 #func
                    6 #valid
                  end locals
                  new local var func (4 0)

                  new local var #func (5 0 temp)

                  new local var #valid (6 0 temp)

                  begin code list
                    begin set local var
                      begin call method
                        begin get property
                          begin get property
                            push this
                            push const string "__events"
                          end get property ret values 1
                          get local var eventName (0 0 param)
                        end get property ret values 1
                        begin params 1
                          push const string "__iter"
                        end params ret values 1
                      end call method ret values 1
                    end set local var #func (5 0 temp)

                    begin loop
                      begin set local var
                        begin set local var
                          begin call
                            get local var #func (5 0 temp)
                            begin params 0
                            end params ret values 0
                          end call ret values 2
                        end set local var func (4 0)
                      end set local var #valid (6 0 temp)

                      begin if
                        begin bool exp
                          begin logic not
                            get local var #valid (6 0 temp)
                          end logic not
                        end bool exp
                        begin then
                          break
                        end then
                      end if ret values 0


[139] func.call(this, params)

                      begin scope
                        begin call method
                          get local var func (4 0)
                          begin params 3
                            push const string "call"
                            ,
                            push this
                            ,
                            get local var params (1 0 param)
                          end params ret values 3
                        end call method ret values 0
                      end scope ret values 0
                    end loop ret values 0
                  end code list ret values 0
                end scope ret values 0
              end scope ret values 0
            end then
          end if ret values 0
        end function
      end set by name: [triggerLocalEvent]
      ,

[144] triggerEvent = function(eventName, params){

      begin set by name
        begin function
          begin locals, total 13
            0 eventName (param)
            1 params (param)
            2 _E
            3 _G
          end locals

[145] for(var child in this.__childrenPos){

          begin scope
            begin locals 3
              4 child
              5 #func
              6 #valid
            end locals
            new local var child (4 0)

            new local var #func (5 0 temp)

            new local var #valid (6 0 temp)

            begin code list
              begin set local var
                begin call method
                  begin get property
                    push this
                    push const string "__childrenPos"
                  end get property ret values 1
                  begin params 1
                    push const string "__iter"
                  end params ret values 1
                end call method ret values 1
              end set local var #func (5 0 temp)

              begin loop
                begin set local var
                  begin set local var
                    begin call
                      get local var #func (5 0 temp)
                      begin params 0
                      end params ret values 0
                    end call ret values 2
                  end set local var child (4 0)
                end set local var #valid (6 0 temp)

                begin if
                  begin bool exp
                    begin logic not
                      get local var #valid (6 0 temp)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[146] child.triggerEvent(eventName, params)

                begin scope
                  begin call method
                    get local var child (4 0)
                    begin params 3
                      push const string "triggerEvent"
                      ,
                      get local var eventName (0 0 param)
                      ,
                      get local var params (1 0 param)
                    end params ret values 3
                  end call method ret values 0
                end scope ret values 0
              end loop ret values 0
            end code list ret values 0
          end scope ret values 0


[148] if(eventName in this.__events){

          begin if
            begin bool exp
              begin in
                get local var eventName (0 0 param)
                begin get property
                  push this
                  push const string "__events"
                end get property ret values 1
              end in
            end bool exp
            begin then

[150] for(var func in this.__events[eventName]){

              begin scope
                begin scope
                  begin locals 3
                    7 func
                    8 #func
                    9 #valid
                  end locals
                  new local var func (7 0)

                  new local var #func (8 0 temp)

                  new local var #valid (9 0 temp)

                  begin code list
                    begin set local var
                      begin call method
                        begin get property
                          begin get property
                            push this
                            push const string "__events"
                          end get property ret values 1
                          get local var eventName (0 0 param)
                        end get property ret values 1
                        begin params 1
                          push const string "__iter"
                        end params ret values 1
                      end call method ret values 1
                    end set local var #func (8 0 temp)

                    begin loop
                      begin set local var
                        begin set local var
                          begin call
                            get local var #func (8 0 temp)
                            begin params 0
                            end params ret values 0
                          end call ret values 2
                        end set local var func (7 0)
                      end set local var #valid (9 0 temp)

                      begin if
                        begin bool exp
                          begin logic not
                            get local var #valid (9 0 temp)
                          end logic not
                        end bool exp
                        begin then
                          break
                        end then
                      end if ret values 0


[151] func.call(this, params)

                      begin scope
                        begin call method
                          get local var func (7 0)
                          begin params 3
                            push const string "call"
                            ,
                            push this
                            ,
                            get local var params (1 0 param)
                          end params ret values 3
                        end call method ret values 0
                      end scope ret values 0
                    end loop ret values 0
                  end code list ret values 0
                end scope ret values 0
              end scope ret values 0
            end then
          end if ret values 0


[154] for(var child in this.__childrenNeg){

          begin scope
            begin locals 3
              10 child
              11 #func
              12 #valid
            end locals
            new local var child (10 0)

            new local var #func (11 0 temp)

            new local var #valid (12 0 temp)

            begin code list
              begin set local var
                begin call method
                  begin get property
                    push this
                    push const string "__childrenNeg"
                  end get property ret values 1
                  begin params 1
                    push const string "__iter"
                  end params ret values 1
                end call method ret values 1
              end set local var #func (11 0 temp)

              begin loop
                begin set local var
                  begin set local var
                    begin call
                      get local var #func (11 0 temp)
                      begin params 0
                      end params ret values 0
                    end call ret values 2
                  end set local var child (10 0)
                end set local var #valid (12 0 temp)

                begin if
                  begin bool exp
                    begin logic not
                      get local var #valid (12 0 temp)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[155] child.triggerEvent(eventName, params)

                begin scope
                  begin call method
                    get local var child (10 0)
                    begin params 3
                      push const string "triggerEvent"
                      ,
                      get local var eventName (0 0 param)
                      ,
                      get local var params (1 0 param)
                    end params ret values 3
                  end call method ret values 0
                end scope ret values 0
              end loop ret values 0
            end code list ret values 0
          end scope ret values 0
        end function
      end set by name: [triggerEvent]
      ,

[159] setTimeout = function(func, delay, count, priority){

      begin set by name
        begin function
          begin locals, total 6
            0 func (param)
            1 delay (param)
            2 count (param)
            3 priority (param)
            4 _E
            5 _G
          end locals

[160] count = count || 1

          begin set local var
            begin logic ||
              get local var count (2 0 param)
              push const number 1
            end logic ||
          end set local var count (2 0 param)


[161] count > 0 && functionof func || return;

          begin pop
            begin logic ||
              begin logic &&
                begin logic >
                  get local var count (2 0 param)
                  push const number 0
                end logic >
                begin functionof
                  get local var func (0 0 param)
                end functionof
              end logic &&
              begin code list
                return
              end code list ret values 1
            end logic ||
          end pop ret values 0


[162] this.__timers[func] = {

          begin set property
            begin object 4

[163] nextTime = this.time + delay

              begin set by name
                begin operator +
                  begin get property
                    push this
                    push const string "time"
                  end get property ret values 1
                  get local var delay (1 0 param)
                end operator +
              end set by name: [nextTime]
              ,

[164] delay = delay

              begin set by name
                get local var delay (1 0 param)
              end set by name: [delay]
              ,

[165] count = count

              begin set by name
                get local var count (2 0 param)
              end set by name: [count]
              ,

[166] priority = priority || 0

              begin set by name
                begin logic ||
                  get local var priority (3 0 param)
                  push const number 0
                end logic ||
              end set by name: [priority]
            end object

[162] this.__timers[func] = {

            begin get property auto create
              push this
              push const string "__timers"
            end get property auto create ret values 1
            get local var func (0 0 param)
          end set property ret values 0


[168] this.__timers.rsort "priority"

          begin call method
            begin get property
              push this
              push const string "__timers"
            end get property ret values 1
            begin params 2
              push const string "rsort"
              ,
              push const string "priority"
            end params ret values 2
          end call method ret values 0


[169] return func

          begin code list
            begin return
              get local var func (0 0 param)
            end return values 1
          end code list ret values 0
        end function
      end set by name: [setTimeout]
      ,

[172] clearTimeout = function(t){

      begin set by name
        begin function
          begin locals, total 3
            0 t (param)
            1 _E
            2 _G
          end locals

[173] delete this.__timers[t]

          begin delete
            begin get property
              push this
              push const string "__timers"
            end get property ret values 1
            get local var t (0 0 param)
          end delete
        end function
      end set by name: [clearTimeout]
      ,

[176] updateTimers = function(){

      begin set by name
        begin function
          begin locals, total 7
            0 _E
            1 _G
            2 time
          end locals

[177] var time = this.time

          begin set local var
            begin get property
              push this
              push const string "time"
            end get property ret values 1
          end set local var time (2 0)


[178] for(var func, t in this.__timers){

          begin scope
            begin locals 4
              3 func
              4 t
              5 #func
              6 #valid
            end locals
            new local var func (3 0)

            new local var t (4 0)

            new local var #func (5 0 temp)

            new local var #valid (6 0 temp)

            begin code list
              begin set local var
                begin call method
                  begin get property
                    push this
                    push const string "__timers"
                  end get property ret values 1
                  begin params 1
                    push const string "__iter"
                  end params ret values 1
                end call method ret values 1
              end set local var #func (5 0 temp)

              begin loop
                begin set local var
                  begin set local var
                    begin set local var
                      begin call
                        get local var #func (5 0 temp)
                        begin params 0
                        end params ret values 0
                      end call ret values 3
                    end set local var t (4 0)
                  end set local var func (3 0)
                end set local var #valid (6 0 temp)

                begin if
                  begin bool exp
                    begin logic not
                      get local var #valid (6 0 temp)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[179] if(t.nextTime <= time){

                begin scope
                  begin if
                    begin bool exp
                      begin logic <=
                        begin get property
                          get local var t (4 0)
                          push const string "nextTime"
                        end get property ret values 1
                        get local var time (2 0)
                      end logic <=
                    end bool exp
                    begin then

[181] t.nextTime = time + t.delay

                      begin scope
                        begin set property
                          begin operator +
                            get local var time (2 0)
                            begin get property
                              get local var t (4 0)
                              push const string "delay"
                            end get property ret values 1
                          end operator +
                          get local var auto create t (4 0)
                          push const string "nextTime"
                        end set property ret values 0


[182] if(t.count === true){

                        begin if
                          begin bool exp
                            begin logic ===
                              begin get property
                                get local var t (4 0)
                                push const string "count"
                              end get property ret values 1
                              const true
                            end logic ===
                          end bool exp
                          begin then

[183] func.call(this)

                            begin scope
                              begin call method
                                get local var func (3 0)
                                begin params 2
                                  push const string "call"
                                  ,
                                  push this
                                end params ret values 2
                              end call method ret values 0
                            end scope ret values 0
                          end then
                          begin else

[185] if(t.count <= 1){

                            begin scope
                              begin if
                                begin bool exp
                                  begin logic <=
                                    begin get property
                                      get local var t (4 0)
                                      push const string "count"
                                    end get property ret values 1
                                    push const number 1
                                  end logic <=
                                end bool exp
                                begin then

[186] delete this.__timers[func]

                                  begin scope
                                    begin delete
                                      begin get property
                                        push this
                                        push const string "__timers"
                                      end get property ret values 1
                                      get local var func (3 0)
                                    end delete
                                  end scope ret values 0
                                end then
                                begin else

[188] t.count = t.count - 1

                                  begin scope
                                    begin set property
                                      begin operator -
                                        begin get property
                                          get local var t (4 0)
                                          push const string "count"
                                        end get property ret values 1
                                        push const number 1
                                      end operator -
                                      get local var auto create t (4 0)
                                      push const string "count"
                                    end set property ret values 0
                                  end scope ret values 0
                                end else
                              end if ret values 0


[190] func.call(this)

                              begin call method
                                get local var func (3 0)
                                begin params 2
                                  push const string "call"
                                  ,
                                  push this
                                end params ret values 2
                              end call method ret values 0
                            end scope ret values 0
                          end else
                        end if ret values 0
                      end scope ret values 0
                    end then
                  end if ret values 0
                end scope ret values 0
              end loop ret values 0
            end code list ret values 0
          end scope ret values 0
        end function
      end set by name: [updateTimers]
      ,

[196] transition = function(t){

      begin set by name
        begin function
          begin locals, total 3
            0 t (param)
            1 _E
            2 _G
          end locals

[197] return this.insert(Transition(t, this))

          begin tail call method
            push this
            begin params 2
              push const string "insert"
              ,
              begin call method
                get local var _E (1 0)
                begin params 3
                  push const string "Transition"
                  ,
                  get local var t (0 0 param)
                  ,
                  push this
                end params ret values 3
              end call method ret values 1
            end params ret values 2
          end tail call method
        end function
      end set by name: [transition]
      ,

[200] stopTransition = function(t){

      begin set by name
        begin function
          begin locals, total 3
            0 t (param)
            1 _E
            2 _G
          end locals

[201] t && t.remove()

          begin pop
            begin logic &&
              get local var t (0 0 param)
              begin call method
                get local var t (0 0 param)
                begin params 1
                  push const string "remove"
                end params ret values 1
              end call method ret values 1
            end logic &&
          end pop ret values 0
        end function
      end set by name: [stopTransition]
      ,

[204] stopAllTransitions = function(){

      begin set by name
        begin function
          begin locals, total 2
            0 _E
            1 _G
          end locals

[205] this.removeAllInstancesOf(Transition)

          begin call method
            push this
            begin params 2
              push const string "removeAllInstancesOf"
              ,
              get env var Transition
            end params ret values 2
          end call method ret values 0
        end function
      end set by name: [stopAllTransitions]
      ,

[208] removeAllInstancesOf = function(type){

      begin set by name
        begin function
          begin locals, total 9
            0 type (param)
            1 _E
            2 _G
          end locals

[209] for(var t in this.__childrenPos){

          begin scope
            begin locals 3
              3 t
              4 #func
              5 #valid
            end locals
            new local var t (3 0)

            new local var #func (4 0 temp)

            new local var #valid (5 0 temp)

            begin code list
              begin set local var
                begin call method
                  begin get property
                    push this
                    push const string "__childrenPos"
                  end get property ret values 1
                  begin params 1
                    push const string "__iter"
                  end params ret values 1
                end call method ret values 1
              end set local var #func (4 0 temp)

              begin loop
                begin set local var
                  begin set local var
                    begin call
                      get local var #func (4 0 temp)
                      begin params 0
                      end params ret values 0
                    end call ret values 2
                  end set local var t (3 0)
                end set local var #valid (5 0 temp)

                begin if
                  begin bool exp
                    begin logic not
                      get local var #valid (5 0 temp)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[210] if(t is type)

                begin scope
                  begin if
                    begin bool exp
                      begin is
                        get local var t (3 0)
                        get local var type (0 0 param)
                      end is
                    end bool exp
                    begin then

[211] t.remove()

                      begin call method
                        get local var t (3 0)
                        begin params 1
                          push const string "remove"
                        end params ret values 1
                      end call method ret values 0
                    end then
                  end if ret values 0
                end scope ret values 0
              end loop ret values 0
            end code list ret values 0
          end scope ret values 0


[213] for(var t in this.__childrenNeg){

          begin scope
            begin locals 3
              6 t
              7 #func
              8 #valid
            end locals
            new local var t (6 0)

            new local var #func (7 0 temp)

            new local var #valid (8 0 temp)

            begin code list
              begin set local var
                begin call method
                  begin get property
                    push this
                    push const string "__childrenNeg"
                  end get property ret values 1
                  begin params 1
                    push const string "__iter"
                  end params ret values 1
                end call method ret values 1
              end set local var #func (7 0 temp)

              begin loop
                begin set local var
                  begin set local var
                    begin call
                      get local var #func (7 0 temp)
                      begin params 0
                      end params ret values 0
                    end call ret values 2
                  end set local var t (6 0)
                end set local var #valid (8 0 temp)

                begin if
                  begin bool exp
                    begin logic not
                      get local var #valid (8 0 temp)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[214] if(t is type)

                begin scope
                  begin if
                    begin bool exp
                      begin is
                        get local var t (6 0)
                        get local var type (0 0 param)
                      end is
                    end bool exp
                    begin then

[215] t.remove()

                      begin call method
                        get local var t (6 0)
                        begin params 1
                          push const string "remove"
                        end params ret values 1
                      end call method ret values 0
                    end then
                  end if ret values 0
                end scope ret values 0
              end loop ret values 0
            end code list ret values 0
          end scope ret values 0
        end function
      end set by name: [removeAllInstancesOf]
    end object
  end set env var FunctionNode


[220] Node = extends FunctionNode {

  begin set env var
    begin extends
      get env var FunctionNode
      begin object 46

[221] __object = {

        begin set by name
          begin object 21

[222] visible = true

            begin set by name
              const true
            end set by name: [visible]
            ,

[223] modal = false

            begin set by name
              const false
            end set by name: [modal]
            ,

[224] opacity = 1

            begin set by name
              push const number 1
            end set by name: [opacity]
            ,

[225] color = null

            begin set by name
              const null
            end set by name: [color]
            ,

[227] __isRelativeAnchor = true

            begin set by name
              const true
            end set by name: [__isRelativeAnchor]
            ,

[228] __x = 0

            begin set by name
              push const number 0
            end set by name: [__x]
            ,

[229] __y = 0

            begin set by name
              push const number 0
            end set by name: [__y]
            ,

[230] __width = 0

            begin set by name
              push const number 0
            end set by name: [__width]
            ,

[231] __height = 0

            begin set by name
              push const number 0
            end set by name: [__height]
            ,

[232] __scaleX = 1

            begin set by name
              push const number 1
            end set by name: [__scaleX]
            ,

[233] __scaleY = 1

            begin set by name
              push const number 1
            end set by name: [__scaleY]
            ,

[234] __skewX = 0

            begin set by name
              push const number 0
            end set by name: [__skewX]
            ,

[235] __skewY = 0

            begin set by name
              push const number 0
            end set by name: [__skewY]
            ,

[236] __anchorX = 0.5

            begin set by name
              push const number 0.5
            end set by name: [__anchorX]
            ,

[237] __anchorY = 0.5

            begin set by name
              push const number 0.5
            end set by name: [__anchorY]
            ,

[238] __rotation = 0

            begin set by name
              push const number 0
            end set by name: [__rotation]
            ,

[240] __transformDirty = true

            begin set by name
              const true
            end set by name: [__transformDirty]
            ,

[241] __transform = null // node to parent

            begin set by name
              const null
            end set by name: [__transform]
            ,

[242] __inverseDirty = true

            begin set by name
              const true
            end set by name: [__inverseDirty]
            ,

[243] __inverseTransform = null // parent to node

            begin set by name
              const null
            end set by name: [__inverseTransform]
            ,

[244] __transformGL = null // node to parent (GL)

            begin set by name
              const null
            end set by name: [__transformGL]
          end object
        end set by name: [__object]
        ,

[247] __get@x = function(){return this.__x}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                push this
                push const string "__x"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@x]
        ,

[248] __set@x = function(a){if(this.__x !== a){ this.__x = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    push this
                    push const string "__x"
                  end get property ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__x"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@x]
        ,

[250] __get@y = function(){return this.__y}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                push this
                push const string "__y"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@y]
        ,

[251] __set@y = function(a){if(this.__y !== a){ this.__y = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    push this
                    push const string "__y"
                  end get property ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__y"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@y]
        ,

[253] __get@position = function(){return Point(this.__x this.__y)}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin tail call method
              get local var _E (0 0)
              begin params 3
                push const string "Point"
                ,
                begin get property
                  push this
                  push const string "__x"
                end get property ret values 1
                ,
                begin get property
                  push this
                  push const string "__y"
                end get property ret values 1
              end params ret values 3
            end tail call method
          end function
        end set by name: [__get@position]
        ,

[254] __set@position = function(a){ this.x, this.y = a.x, a.y }

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin set property
              begin set property
                begin params 2
                  begin get property
                    get local var a (0 0 param)
                    push const string "x"
                  end get property ret values 1
                  ,
                  begin get property
                    get local var a (0 0 param)
                    push const string "y"
                  end get property ret values 1
                end params ret values 2
                push this
                push const string "y"
              end set property ret values 1
              push this
              push const string "x"
            end set property ret values 0
          end function
        end set by name: [__set@position]
        ,

[256] __get@width = function(){return this.__width}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                push this
                push const string "__width"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@width]
        ,

[257] __set@width = function(a){if(this.__width !== a){ this.__width = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    push this
                    push const string "__width"
                  end get property ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__width"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@width]
        ,

[259] __get@height = function(){return this.__height}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                push this
                push const string "__height"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@height]
        ,

[260] __set@height = function(a){if(this.__height !== a){ this.__height = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    push this
                    push const string "__height"
                  end get property ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__height"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@height]
        ,

[262] __get@scaleX = function(){return this.__scaleX}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                push this
                push const string "__scaleX"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@scaleX]
        ,

[263] __set@scaleX = function(a){if(this.__scaleX !== a){ this.__scaleX = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    push this
                    push const string "__scaleX"
                  end get property ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__scaleX"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@scaleX]
        ,

[265] __get@scaleY = function(){return this.__scaleY}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                push this
                push const string "__scaleY"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@scaleY]
        ,

[266] __set@scaleY = function(a){if(this.__scaleY !== a){ this.__scaleY = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    push this
                    push const string "__scaleY"
                  end get property ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__scaleY"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@scaleY]
        ,

[268] __get@scale = function(){return this.__scaleX} // Point(this.__scaleX this.__scaleY)}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                push this
                push const string "__scaleX"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@scale]
        ,

[269] __set@scale = function(a){

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals

[270] if(numberof a){

            begin if
              begin bool exp
                begin numberof
                  get local var a (0 0 param)
                end numberof
              end bool exp
              begin then

[271] this.scaleX, this.scaleY = a, a

                begin scope
                  begin set property
                    begin set property
                      begin params 2
                        get local var a (0 0 param)
                        ,
                        get local var a (0 0 param)
                      end params ret values 2
                      push this
                      push const string "scaleY"
                    end set property ret values 1
                    push this
                    push const string "scaleX"
                  end set property ret values 0
                end scope ret values 0
              end then
              begin else

[273] this.scaleX, this.scaleY = a.x, a.y

                begin scope
                  begin set property
                    begin set property
                      begin params 2
                        begin get property
                          get local var a (0 0 param)
                          push const string "x"
                        end get property ret values 1
                        ,
                        begin get property
                          get local var a (0 0 param)
                          push const string "y"
                        end get property ret values 1
                      end params ret values 2
                      push this
                      push const string "scaleY"
                    end set property ret values 1
                    push this
                    push const string "scaleX"
                  end set property ret values 0
                end scope ret values 0
              end else
            end if ret values 0
          end function
        end set by name: [__set@scale]
        ,

[277] __get@skewX = function(){return this.__skewX}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                push this
                push const string "__skewX"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@skewX]
        ,

[278] __set@skewX = function(a){if(this.__skewX !== a){ this.__skewX = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    push this
                    push const string "__skewX"
                  end get property ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__skewX"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@skewX]
        ,

[280] __get@skewY = function(){return this.__skewY}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                push this
                push const string "__skewY"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@skewY]
        ,

[281] __set@skewY = function(a){if(this.__skewY !== a){ this.__skewY = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    push this
                    push const string "__skewY"
                  end get property ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__skewY"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@skewY]
        ,

[283] __get@skew = function(){return Point(this.__skewX this.__skewY)}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin tail call method
              get local var _E (0 0)
              begin params 3
                push const string "Point"
                ,
                begin get property
                  push this
                  push const string "__skewX"
                end get property ret values 1
                ,
                begin get property
                  push this
                  push const string "__skewY"
                end get property ret values 1
              end params ret values 3
            end tail call method
          end function
        end set by name: [__get@skew]
        ,

[284] __set@skew = function(a){ this.skewX, this.skewY = a.x, a.y }

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin set property
              begin set property
                begin params 2
                  begin get property
                    get local var a (0 0 param)
                    push const string "x"
                  end get property ret values 1
                  ,
                  begin get property
                    get local var a (0 0 param)
                    push const string "y"
                  end get property ret values 1
                end params ret values 2
                push this
                push const string "skewY"
              end set property ret values 1
              push this
              push const string "skewX"
            end set property ret values 0
          end function
        end set by name: [__set@skew]
        ,

[286] __get@anchorX = function(){return this.__anchorX}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                push this
                push const string "__anchorX"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@anchorX]
        ,

[287] __set@anchorX = function(a){if(this.__anchorX !== a){ this.__anchorX = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    push this
                    push const string "__anchorX"
                  end get property ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__anchorX"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@anchorX]
        ,

[289] __get@anchorY = function(){return this.__anchorY}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                push this
                push const string "__anchorY"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@anchorY]
        ,

[290] __set@anchorY = function(a){if(this.__anchorY !== a){ this.__anchorY = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    push this
                    push const string "__anchorY"
                  end get property ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__anchorY"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@anchorY]
        ,

[292] __get@anchor = function(){return Point(this.__anchorX this.__anchorY)}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin tail call method
              get local var _E (0 0)
              begin params 3
                push const string "Point"
                ,
                begin get property
                  push this
                  push const string "__anchorX"
                end get property ret values 1
                ,
                begin get property
                  push this
                  push const string "__anchorY"
                end get property ret values 1
              end params ret values 3
            end tail call method
          end function
        end set by name: [__get@anchor]
        ,

[293] __set@anchor = function(a){ this.anchorX, this.anchorY = a.x, a.y }

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin set property
              begin set property
                begin params 2
                  begin get property
                    get local var a (0 0 param)
                    push const string "x"
                  end get property ret values 1
                  ,
                  begin get property
                    get local var a (0 0 param)
                    push const string "y"
                  end get property ret values 1
                end params ret values 2
                push this
                push const string "anchorY"
              end set property ret values 1
              push this
              push const string "anchorX"
            end set property ret values 0
          end function
        end set by name: [__set@anchor]
        ,

[295] __get@rotation = function(){return this.__rotation}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                push this
                push const string "__rotation"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@rotation]
        ,

[296] __set@rotation = function(a){if(this.__rotation !== a){ this.__rotation = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    push this
                    push const string "__rotation"
                  end get property ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__rotation"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@rotation]
        ,

[298] __get@isRelativeAnchor = function(){return this.__isRelativeAnchor}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                push this
                push const string "__isRelativeAnchor"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@isRelativeAnchor]
        ,

[299] __set@isRelativeAnchor = function(a){if(this.__isRelativeAnchor !== a){ this.__isRelativeAnchor = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    push this
                    push const string "__isRelativeAnchor"
                  end get property ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__isRelativeAnchor"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@isRelativeAnchor]
        ,

[301] __construct = function(){

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals

[302] super()

            begin call
              super
              begin params 0
              end params ret values 0
            end call ret values 0


[303] this.width = director.width

            begin set property
              begin get property
                get env var director
                push const string "width"
              end get property ret values 1
              push this
              push const string "width"
            end set property ret values 0


[304] this.height = director.height

            begin set property
              begin get property
                get env var director
                push const string "height"
              end get property ret values 1
              push this
              push const string "height"
            end set property ret values 0
          end function
        end set by name: [__construct]
        ,

[307] paint = function(){}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
          end function
        end set by name: [paint]
        ,

[309] nodeToParentTransform = function(){

        begin set by name
          begin function
            begin locals, total 5
              0 _E
              1 _G
            end locals

[310] if(this.__transformDirty){

            begin if
              begin bool exp
                begin get property
                  push this
                  push const string "__transformDirty"
                end get property ret values 1
              end bool exp
              begin then

[311] var t = Matrix()

                begin scope
                  begin locals 3
                    2 t
                    3 anchorX
                    4 anchorY
                  end locals
                  begin set local var
                    begin call method
                      get local var _E (0 0)
                      begin params 1
                        push const string "Matrix"
                      end params ret values 1
                    end call method ret values 1
                  end set local var t (2 0)


[312] var anchorX, anchorY

                  begin params 2
                    new local var anchorX (3 0)
                    ,
                    new local var anchorY (4 0)
                  end params ret values 0


[313] if(this.__anchorX !== 0 || this.__anchorY !== 0){

                  begin if
                    begin bool exp
                      begin logic ||
                        begin logic !==
                          begin get property
                            push this
                            push const string "__anchorX"
                          end get property ret values 1
                          push const number 0
                        end logic !==
                        begin logic !==
                          begin get property
                            push this
                            push const string "__anchorY"
                          end get property ret values 1
                          push const number 0
                        end logic !==
                      end logic ||
                    end bool exp
                    begin then

[314] anchorX = this.__anchorX * this.__width

                      begin scope
                        begin set local var
                          begin operator *
                            begin get property
                              push this
                              push const string "__anchorX"
                            end get property ret values 1
                            begin get property
                              push this
                              push const string "__width"
                            end get property ret values 1
                          end operator *
                        end set local var anchorX (3 0)


[315] anchorY = this.__anchorY * this.__height

                        begin set local var
                          begin operator *
                            begin get property
                              push this
                              push const string "__anchorY"
                            end get property ret values 1
                            begin get property
                              push this
                              push const string "__height"
                            end get property ret values 1
                          end operator *
                        end set local var anchorY (4 0)
                      end scope ret values 0
                    end then
                  end if ret values 0


[317] if(anchorX && !this.__isRelativeAnchor){

                  begin if
                    begin bool exp
                      begin logic &&
                        get local var anchorX (3 0)
                        begin logic not
                          begin get property
                            push this
                            push const string "__isRelativeAnchor"
                          end get property ret values 1
                        end logic not
                      end logic &&
                    end bool exp
                    begin then

[318] t = t.translate(anchorX, anchorY)

                      begin scope
                        begin set local var
                          begin call method
                            get local var t (2 0)
                            begin params 3
                              push const string "translate"
                              ,
                              get local var anchorX (3 0)
                              ,
                              get local var anchorY (4 0)
                            end params ret values 3
                          end call method ret values 1
                        end set local var t (2 0)
                      end scope ret values 0
                    end then
                  end if ret values 0


[320] if(this.__x !== 0 || this.__y !== 0){

                  begin if
                    begin bool exp
                      begin logic ||
                        begin logic !==
                          begin get property
                            push this
                            push const string "__x"
                          end get property ret values 1
                          push const number 0
                        end logic !==
                        begin logic !==
                          begin get property
                            push this
                            push const string "__y"
                          end get property ret values 1
                          push const number 0
                        end logic !==
                      end logic ||
                    end bool exp
                    begin then

[321] t = t.translate(this.__x, this.__y)

                      begin scope
                        begin set local var
                          begin call method
                            get local var t (2 0)
                            begin params 3
                              push const string "translate"
                              ,
                              begin get property
                                push this
                                push const string "__x"
                              end get property ret values 1
                              ,
                              begin get property
                                push this
                                push const string "__y"
                              end get property ret values 1
                            end params ret values 3
                          end call method ret values 1
                        end set local var t (2 0)
                      end scope ret values 0
                    end then
                  end if ret values 0


[323] if(this.__rotation !== 0){

                  begin if
                    begin bool exp
                      begin logic !==
                        begin get property
                          push this
                          push const string "__rotation"
                        end get property ret values 1
                        push const number 0
                      end logic !==
                    end bool exp
                    begin then

[324] t = t.rotate(this.__rotation)

                      begin scope
                        begin set local var
                          begin call method
                            get local var t (2 0)
                            begin params 2
                              push const string "rotate"
                              ,
                              begin get property
                                push this
                                push const string "__rotation"
                              end get property ret values 1
                            end params ret values 2
                          end call method ret values 1
                        end set local var t (2 0)
                      end scope ret values 0
                    end then
                  end if ret values 0


[326] if(this.__skewX !== 0 || this.__skewY !== 0){

                  begin if
                    begin bool exp
                      begin logic ||
                        begin logic !==
                          begin get property
                            push this
                            push const string "__skewX"
                          end get property ret values 1
                          push const number 0
                        end logic !==
                        begin logic !==
                          begin get property
                            push this
                            push const string "__skewY"
                          end get property ret values 1
                          push const number 0
                        end logic !==
                      end logic ||
                    end bool exp
                    begin then

[327] t = t.skew(this.__skewX, this.__skewY)

                      begin scope
                        begin set local var
                          begin call method
                            get local var t (2 0)
                            begin params 3
                              push const string "skew"
                              ,
                              begin get property
                                push this
                                push const string "__skewX"
                              end get property ret values 1
                              ,
                              begin get property
                                push this
                                push const string "__skewY"
                              end get property ret values 1
                            end params ret values 3
                          end call method ret values 1
                        end set local var t (2 0)
                      end scope ret values 0
                    end then
                  end if ret values 0


[329] if(this.__scaleX !== 0 || this.__scaleY !== 0){

                  begin if
                    begin bool exp
                      begin logic ||
                        begin logic !==
                          begin get property
                            push this
                            push const string "__scaleX"
                          end get property ret values 1
                          push const number 0
                        end logic !==
                        begin logic !==
                          begin get property
                            push this
                            push const string "__scaleY"
                          end get property ret values 1
                          push const number 0
                        end logic !==
                      end logic ||
                    end bool exp
                    begin then

[330] t = t.scale(this.__scaleX, this.__scaleY)

                      begin scope
                        begin set local var
                          begin call method
                            get local var t (2 0)
                            begin params 3
                              push const string "scale"
                              ,
                              begin get property
                                push this
                                push const string "__scaleX"
                              end get property ret values 1
                              ,
                              begin get property
                                push this
                                push const string "__scaleY"
                              end get property ret values 1
                            end params ret values 3
                          end call method ret values 1
                        end set local var t (2 0)
                      end scope ret values 0
                    end then
                  end if ret values 0


[332] if(anchorX){

                  begin if
                    begin bool exp
                      get local var anchorX (3 0)
                    end bool exp
                    begin then

[333] t = t.translate(-anchorX, -anchorY)

                      begin scope
                        begin set local var
                          begin call method
                            get local var t (2 0)
                            begin params 3
                              push const string "translate"
                              ,
                              begin neg
                                get local var anchorX (3 0)
                              end neg
                              ,
                              begin neg
                                get local var anchorY (4 0)
                              end neg
                            end params ret values 3
                          end call method ret values 1
                        end set local var t (2 0)
                      end scope ret values 0
                    end then
                  end if ret values 0


[335] this.__transform = t

                  begin set property
                    get local var t (2 0)
                    push this
                    push const string "__transform"
                  end set property ret values 0


[336] this.__transformGL = t.toGL()

                  begin set property
                    begin call method
                      get local var t (2 0)
                      begin params 1
                        push const string "toGL"
                      end params ret values 1
                    end call method ret values 1
                    push this
                    push const string "__transformGL"
                  end set property ret values 0


[337] this.__transformDirty = false

                  begin set property
                    const false
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[339] return this.__transform

            begin code list
              begin return
                begin get property
                  push this
                  push const string "__transform"
                end get property ret values 1
              end return values 1
            end code list ret values 0
          end function
        end set by name: [nodeToParentTransform]
        ,

[342] parentToNodeTransform = function(){

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals

[343] if(this.__inverseDirty){

            begin if
              begin bool exp
                begin get property
                  push this
                  push const string "__inverseDirty"
                end get property ret values 1
              end bool exp
              begin then

[344] this.__inverseTransform = (clone this.nodeToParentTransform()).inverse()

                begin scope
                  begin set property
                    begin call method
                      begin clone
                        begin call method
                          push this
                          begin params 1
                            push const string "nodeToParentTransform"
                          end params ret values 1
                        end call method ret values 1
                      end clone
                      begin params 1
                        push const string "inverse"
                      end params ret values 1
                    end call method ret values 1
                    push this
                    push const string "__inverseTransform"
                  end set property ret values 0


[345] this.__inverseDirty = false

                  begin set property
                    const false
                    push this
                    push const string "__inverseDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [parentToNodeTransform]
        ,

[349] nodeToWorldTransform = function(){

        begin set by name
          begin function
            begin locals, total 4
              0 _E
              1 _G
              2 t
            end locals

[351] var t = clone this.nodeToParentTransform()

            begin set local var
              begin clone
                begin call method
                  push this
                  begin params 1
                    push const string "nodeToParentTransform"
                  end params ret values 1
                end call method ret values 1
              end clone
            end set local var t (2 0)


[352] for(var p = this.__parent; p;){

            begin scope
              begin locals 1
                3 p
              end locals
              begin set local var
                begin get property
                  push this
                  push const string "__parent"
                end get property ret values 1
              end set local var p (3 0)

              begin loop
                begin if
                  begin bool exp
                    begin logic not
                      get local var p (3 0)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[353] t = t.mult( p.nodeToParentTransform() )

                begin scope
                  begin set local var
                    begin call method
                      get local var t (2 0)
                      begin params 2
                        push const string "mult"
                        ,
                        begin call method
                          get local var p (3 0)
                          begin params 1
                            push const string "nodeToParentTransform"
                          end params ret values 1
                        end call method ret values 1
                      end params ret values 2
                    end call method ret values 1
                  end set local var t (2 0)


[354] p = p.__parent

                  begin set local var
                    begin get property
                      get local var p (3 0)
                      push const string "__parent"
                    end get property ret values 1
                  end set local var p (3 0)
                end scope ret values 0


[352] for(var p = this.__parent; p;){

                nop
              end loop ret values 0
            end scope ret values 0


[357] return t

            begin code list
              begin return
                get local var t (2 0)
              end return values 1
            end code list ret values 0
          end function
        end set by name: [nodeToWorldTransform]
        ,

[360] worldToNodeTransform = function(){

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals

[361] return this.nodeToWorldTransform().inverse()

            begin tail call method
              begin call method
                push this
                begin params 1
                  push const string "nodeToWorldTransform"
                end params ret values 1
              end call method ret values 1
              begin params 1
                push const string "inverse"
              end params ret values 1
            end tail call method
          end function
        end set by name: [worldToNodeTransform]
        ,

[364] pointToNodeSpace = function(point){

        begin set by name
          begin function
            begin locals, total 3
              0 point (param)
              1 _E
              2 _G
            end locals

[365] return this.worldToNodeTransform().transform(point)

            begin tail call method
              begin call method
                push this
                begin params 1
                  push const string "worldToNodeTransform"
                end params ret values 1
              end call method ret values 1
              begin params 2
                push const string "transform"
                ,
                get local var point (0 0 param)
              end params ret values 2
            end tail call method
          end function
        end set by name: [pointToNodeSpace]
        ,

[368] isLocalPoint = function(point){

        begin set by name
          begin function
            begin locals, total 3
              0 point (param)
              1 _E
              2 _G
            end locals

[369] return point.x >= 0 && point.x < this.__width

            begin return

[370] && point.y >= 0 && point.y < this.__height

              begin logic &&
                begin logic &&

[369] return point.x >= 0 && point.x < this.__width

                  begin logic &&
                    begin logic >=
                      begin get property
                        get local var point (0 0 param)
                        push const string "x"
                      end get property ret values 1
                      push const number 0
                    end logic >=
                    begin logic <
                      begin get property
                        get local var point (0 0 param)
                        push const string "x"
                      end get property ret values 1
                      begin get property
                        push this
                        push const string "__width"
                      end get property ret values 1
                    end logic <
                  end logic &&

[370] && point.y >= 0 && point.y < this.__height

                  begin logic >=
                    begin get property
                      get local var point (0 0 param)
                      push const string "y"
                    end get property ret values 1
                    push const number 0
                  end logic >=
                end logic &&
                begin logic <
                  begin get property
                    get local var point (0 0 param)
                    push const string "y"
                  end get property ret values 1
                  begin get property
                    push this
                    push const string "__height"
                  end get property ret values 1
                end logic <
              end logic &&
            end return values 1
          end function
        end set by name: [isLocalPoint]
        ,

[373] transform = function(){

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals

[374] this.nodeToParentTransform()

            begin call method
              push this
              begin params 1
                push const string "nodeToParentTransform"
              end params ret values 1
            end call method ret values 0


[375] glMultMatrix(this.__transformGL)

            begin call method
              get local var _E (0 0)
              begin params 2
                push const string "glMultMatrix"
                ,
                begin get property
                  push this
                  push const string "__transformGL"
                end get property ret values 1
              end params ret values 2
            end call method ret values 0
          end function
        end set by name: [transform]
        ,

[378] handlePaint = function(params){

        begin set by name
          begin function
            begin locals, total 13
              0 params (param)
              1 _E
              2 _G
              3 saveOpacity
            end locals

[379] this.visible || return;

            begin pop
              begin logic ||
                begin get property
                  push this
                  push const string "visible"
                end get property ret values 1
                begin code list
                  return
                end code list ret values 1
              end logic ||
            end pop ret values 0


[381] var saveOpacity = params.opacity

            begin set local var
              begin get property
                get local var params (0 0 param)
                push const string "opacity"
              end get property ret values 1
            end set local var saveOpacity (3 0)


[382] params.opacity = params.opacity * this.opacity

            begin set property
              begin operator *
                begin get property
                  get local var params (0 0 param)
                  push const string "opacity"
                end get property ret values 1
                begin get property
                  push this
                  push const string "opacity"
                end get property ret values 1
              end operator *
              get local var auto create params (0 0 param)
              push const string "opacity"
            end set property ret values 0


[384] glPushMatrix()

            begin call method
              get local var _E (1 0)
              begin params 1
                push const string "glPushMatrix"
              end params ret values 1
            end call method ret values 0


[385] this.transform()

            begin call method
              push this
              begin params 1
                push const string "transform"
              end params ret values 1
            end call method ret values 0


[387] for(var child in this.__childrenNeg.reverseIter()){

            begin scope
              begin locals 3
                4 child
                5 #func
                6 #valid
              end locals
              new local var child (4 0)

              new local var #func (5 0 temp)

              new local var #valid (6 0 temp)

              begin code list
                begin set local var
                  begin call method
                    begin call method
                      begin get property
                        push this
                        push const string "__childrenNeg"
                      end get property ret values 1
                      begin params 1
                        push const string "reverseIter"
                      end params ret values 1
                    end call method ret values 1
                    begin params 1
                      push const string "__iter"
                    end params ret values 1
                  end call method ret values 1
                end set local var #func (5 0 temp)

                begin loop
                  begin set local var
                    begin set local var
                      begin call
                        get local var #func (5 0 temp)
                        begin params 0
                        end params ret values 0
                      end call ret values 2
                    end set local var child (4 0)
                  end set local var #valid (6 0 temp)

                  begin if
                    begin bool exp
                      begin logic not
                        get local var #valid (6 0 temp)
                      end logic not
                    end bool exp
                    begin then
                      break
                    end then
                  end if ret values 0


[388] child.handlePaint(params)

                  begin scope
                    begin call method
                      get local var child (4 0)
                      begin params 2
                        push const string "handlePaint"
                        ,
                        get local var params (0 0 param)
                      end params ret values 2
                    end call method ret values 0
                  end scope ret values 0
                end loop ret values 0
              end code list ret values 0
            end scope ret values 0


[391] this.paint(params)

            begin call method
              push this
              begin params 2
                push const string "paint"
                ,
                get local var params (0 0 param)
              end params ret values 2
            end call method ret values 0


[392] if("paint" in this.__events){

            begin if
              begin bool exp
                begin in
                  push const string "paint"
                  begin get property
                    push this
                    push const string "__events"
                  end get property ret values 1
                end in
              end bool exp
              begin then

[394] for(var func in this.__events["paint"]){

                begin scope
                  begin scope
                    begin locals 3
                      7 func
                      8 #func
                      9 #valid
                    end locals
                    new local var func (7 0)

                    new local var #func (8 0 temp)

                    new local var #valid (9 0 temp)

                    begin code list
                      begin set local var
                        begin call method
                          begin get property
                            begin get property
                              push this
                              push const string "__events"
                            end get property ret values 1
                            push const string "paint"
                          end get property ret values 1
                          begin params 1
                            push const string "__iter"
                          end params ret values 1
                        end call method ret values 1
                      end set local var #func (8 0 temp)

                      begin loop
                        begin set local var
                          begin set local var
                            begin call
                              get local var #func (8 0 temp)
                              begin params 0
                              end params ret values 0
                            end call ret values 2
                          end set local var func (7 0)
                        end set local var #valid (9 0 temp)

                        begin if
                          begin bool exp
                            begin logic not
                              get local var #valid (9 0 temp)
                            end logic not
                          end bool exp
                          begin then
                            break
                          end then
                        end if ret values 0


[395] func.call(this, params)

                        begin scope
                          begin call method
                            get local var func (7 0)
                            begin params 3
                              push const string "call"
                              ,
                              push this
                              ,
                              get local var params (0 0 param)
                            end params ret values 3
                          end call method ret values 0
                        end scope ret values 0
                      end loop ret values 0
                    end code list ret values 0
                  end scope ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[399] for(var child in this.__childrenPos.reverseIter()){

            begin scope
              begin locals 3
                10 child
                11 #func
                12 #valid
              end locals
              new local var child (10 0)

              new local var #func (11 0 temp)

              new local var #valid (12 0 temp)

              begin code list
                begin set local var
                  begin call method
                    begin call method
                      begin get property
                        push this
                        push const string "__childrenPos"
                      end get property ret values 1
                      begin params 1
                        push const string "reverseIter"
                      end params ret values 1
                    end call method ret values 1
                    begin params 1
                      push const string "__iter"
                    end params ret values 1
                  end call method ret values 1
                end set local var #func (11 0 temp)

                begin loop
                  begin set local var
                    begin set local var
                      begin call
                        get local var #func (11 0 temp)
                        begin params 0
                        end params ret values 0
                      end call ret values 2
                    end set local var child (10 0)
                  end set local var #valid (12 0 temp)

                  begin if
                    begin bool exp
                      begin logic not
                        get local var #valid (12 0 temp)
                      end logic not
                    end bool exp
                    begin then
                      break
                    end then
                  end if ret values 0


[400] child.handlePaint(params)

                  begin scope
                    begin call method
                      get local var child (10 0)
                      begin params 2
                        push const string "handlePaint"
                        ,
                        get local var params (0 0 param)
                      end params ret values 2
                    end call method ret values 0
                  end scope ret values 0
                end loop ret values 0
              end code list ret values 0
            end scope ret values 0


[403] glPopMatrix()

            begin call method
              get local var _E (1 0)
              begin params 1
                push const string "glPopMatrix"
              end params ret values 1
            end call method ret values 0


[405] params.opacity = saveOpacity

            begin set property
              get local var saveOpacity (3 0)
              get local var auto create params (0 0 param)
              push const string "opacity"
            end set property ret values 0
          end function
        end set by name: [handlePaint]
        ,

[408] handleTouch = function(touch){

        begin set by name
          begin function
            begin locals, total 20
              0 touch (param)
              1 _E
              2 _G
              9 autoCapture
            end locals

[409] if(touch.captured !== this){

            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    get local var touch (0 0 param)
                    push const string "captured"
                  end get property ret values 1
                  push this
                end logic !==
              end bool exp
              begin then

[410] for(var child in this.__childrenPos){

                begin scope
                  begin scope
                    begin locals 3
                      3 child
                      4 #func
                      5 #valid
                    end locals
                    new local var child (3 0)

                    new local var #func (4 0 temp)

                    new local var #valid (5 0 temp)

                    begin code list
                      begin set local var
                        begin call method
                          begin get property
                            push this
                            push const string "__childrenPos"
                          end get property ret values 1
                          begin params 1
                            push const string "__iter"
                          end params ret values 1
                        end call method ret values 1
                      end set local var #func (4 0 temp)

                      begin loop
                        begin set local var
                          begin set local var
                            begin call
                              get local var #func (4 0 temp)
                              begin params 0
                              end params ret values 0
                            end call ret values 2
                          end set local var child (3 0)
                        end set local var #valid (5 0 temp)

                        begin if
                          begin bool exp
                            begin logic not
                              get local var #valid (5 0 temp)
                            end logic not
                          end bool exp
                          begin then
                            break
                          end then
                        end if ret values 0


[411] child.handleTouch(touch) && return true;

                        begin scope
                          begin pop
                            begin logic &&
                              begin call method
                                get local var child (3 0)
                                begin params 2
                                  push const string "handleTouch"
                                  ,
                                  get local var touch (0 0 param)
                                end params ret values 2
                              end call method ret values 1
                              begin return
                                const true
                              end return values 1
                            end logic &&
                          end pop ret values 0
                        end scope ret values 0
                      end loop ret values 0
                    end code list ret values 0
                  end scope ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[414] if("nativeTouch" in this.__events){

            begin if
              begin bool exp
                begin in
                  push const string "nativeTouch"
                  begin get property
                    push this
                    push const string "__events"
                  end get property ret values 1
                end in
              end bool exp
              begin then

[416] for(var func in this.__events["nativeTouch"]){

                begin scope
                  begin scope
                    begin locals 3
                      6 func
                      7 #func
                      8 #valid
                    end locals
                    new local var func (6 0)

                    new local var #func (7 0 temp)

                    new local var #valid (8 0 temp)

                    begin code list
                      begin set local var
                        begin call method
                          begin get property
                            begin get property
                              push this
                              push const string "__events"
                            end get property ret values 1
                            push const string "nativeTouch"
                          end get property ret values 1
                          begin params 1
                            push const string "__iter"
                          end params ret values 1
                        end call method ret values 1
                      end set local var #func (7 0 temp)

                      begin loop
                        begin set local var
                          begin set local var
                            begin call
                              get local var #func (7 0 temp)
                              begin params 0
                              end params ret values 0
                            end call ret values 2
                          end set local var func (6 0)
                        end set local var #valid (8 0 temp)

                        begin if
                          begin bool exp
                            begin logic not
                              get local var #valid (8 0 temp)
                            end logic not
                          end bool exp
                          begin then
                            break
                          end then
                        end if ret values 0


[417] func.call(this, touch)

                        begin scope
                          begin call method
                            get local var func (6 0)
                            begin params 3
                              push const string "call"
                              ,
                              push this
                              ,
                              get local var touch (0 0 param)
                            end params ret values 3
                          end call method ret values 0
                        end scope ret values 0
                      end loop ret values 0
                    end code list ret values 0
                  end scope ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[420] var autoCapture

            begin params 1
              new local var autoCapture (9 0)
            end params ret values 0


[421] if("touch" in this.__events){

            begin if
              begin bool exp
                begin in
                  push const string "touch"
                  begin get property
                    push this
                    push const string "__events"
                  end get property ret values 1
                end in
              end bool exp
              begin then

[422] if(touch.phase == "start"){

                begin scope
                  begin if
                    begin bool exp
                      begin logic ==
                        begin get property
                          get local var touch (0 0 param)
                          push const string "phase"
                        end get property ret values 1
                        push const string "start"
                      end logic ==
                    end bool exp
                    begin then

[423] if(!touch.captured){

                      begin scope
                        begin if
                          begin bool exp
                            begin logic not
                              begin get property
                                get local var touch (0 0 param)
                                push const string "captured"
                              end get property ret values 1
                            end logic not
                          end bool exp
                          begin then

[425] var local = this.pointToNodeSpace(touch)

                            begin scope
                              begin locals 1
                                10 local
                              end locals
                              begin set local var
                                begin call method
                                  push this
                                  begin params 2
                                    push const string "pointToNodeSpace"
                                    ,
                                    get local var touch (0 0 param)
                                  end params ret values 2
                                end call method ret values 1
                              end set local var local (10 0)


[427] if(this.isLocalPoint(local)){

                              begin if
                                begin bool exp
                                  begin call method
                                    push this
                                    begin params 2
                                      push const string "isLocalPoint"
                                      ,
                                      get local var local (10 0)
                                    end params ret values 2
                                  end call method ret values 1
                                end bool exp
                                begin then

[428] touch.local, autoCapture = local, true

                                  begin scope
                                    begin set property
                                      begin set local var
                                        begin params 2
                                          get local var local (10 0)
                                          ,
                                          const true
                                        end params ret values 2
                                      end set local var autoCapture (9 0)
                                      get local var auto create touch (0 0 param)
                                      push const string "local"
                                    end set property ret values 0


[430] for(var func in this.__events["touch"]){

                                    begin scope
                                      begin locals 3
                                        11 func
                                        12 #func
                                        13 #valid
                                      end locals
                                      new local var func (11 0)

                                      new local var #func (12 0 temp)

                                      new local var #valid (13 0 temp)

                                      begin code list
                                        begin set local var
                                          begin call method
                                            begin get property
                                              begin get property
                                                push this
                                                push const string "__events"
                                              end get property ret values 1
                                              push const string "touch"
                                            end get property ret values 1
                                            begin params 1
                                              push const string "__iter"
                                            end params ret values 1
                                          end call method ret values 1
                                        end set local var #func (12 0 temp)

                                        begin loop
                                          begin set local var
                                            begin set local var
                                              begin call
                                                get local var #func (12 0 temp)
                                                begin params 0
                                                end params ret values 0
                                              end call ret values 2
                                            end set local var func (11 0)
                                          end set local var #valid (13 0 temp)

                                          begin if
                                            begin bool exp
                                              begin logic not
                                                get local var #valid (13 0 temp)
                                              end logic not
                                            end bool exp
                                            begin then
                                              break
                                            end then
                                          end if ret values 0


[431] if(func.call(this, touch) === true){

                                          begin scope
                                            begin if
                                              begin bool exp
                                                begin logic ===
                                                  begin call method
                                                    get local var func (11 0)
                                                    begin params 3
                                                      push const string "call"
                                                      ,
                                                      push this
                                                      ,
                                                      get local var touch (0 0 param)
                                                    end params ret values 3
                                                  end call method ret values 1
                                                  const true
                                                end logic ===
                                              end bool exp
                                              begin then

[432] touch.captured = this

                                                begin scope
                                                  begin set property
                                                    push this
                                                    get local var auto create touch (0 0 param)
                                                    push const string "captured"
                                                  end set property ret values 0


[433] touch.capturedFunc = func

                                                  begin set property
                                                    get local var func (11 0)
                                                    get local var auto create touch (0 0 param)
                                                    push const string "capturedFunc"
                                                  end set property ret values 0


[434] delete touch.local

                                                  begin delete
                                                    get local var touch (0 0 param)
                                                    push const string "local"
                                                  end delete


[435] return true

                                                  begin code list
                                                    begin return
                                                      const true
                                                    end return values 1
                                                  end code list ret values 0
                                                end scope ret values 0
                                              end then
                                            end if ret values 0
                                          end scope ret values 0
                                        end loop ret values 0
                                      end code list ret values 0
                                    end scope ret values 0


[438] delete touch.local

                                    begin delete
                                      get local var touch (0 0 param)
                                      push const string "local"
                                    end delete
                                  end scope ret values 0
                                end then
                              end if ret values 0
                            end scope ret values 0
                          end then
                        end if ret values 0
                      end scope ret values 0
                    end then
                    begin else

[441] }else if(touch.captured === this){

                      begin if
                        begin bool exp
                          begin logic ===
                            begin get property
                              get local var touch (0 0 param)
                              push const string "captured"
                            end get property ret values 1
                            push this
                          end logic ===
                        end bool exp
                        begin then

[443] touch.local = this.pointToNodeSpace(touch)

                          begin scope
                            begin pop
                              begin code list
                                begin set property
                                  begin call method
                                    push this
                                    begin params 2
                                      push const string "pointToNodeSpace"
                                      ,
                                      get local var touch (0 0 param)
                                    end params ret values 2
                                  end call method ret values 1
                                  get local var auto create touch (0 0 param)
                                  push const string "local"
                                end set property ret values 0


[445] if(touch.capturedFunc){

                                begin if
                                  begin bool exp
                                    begin get property
                                      get local var touch (0 0 param)
                                      push const string "capturedFunc"
                                    end get property ret values 1
                                  end bool exp
                                  begin then

[446] if(touch.capturedFunc in this.__events["touch"]){

                                    begin scope
                                      begin if
                                        begin bool exp
                                          begin in
                                            begin get property
                                              get local var touch (0 0 param)
                                              push const string "capturedFunc"
                                            end get property ret values 1
                                            begin get property
                                              begin get property
                                                push this
                                                push const string "__events"
                                              end get property ret values 1
                                              push const string "touch"
                                            end get property ret values 1
                                          end in
                                        end bool exp
                                        begin then

[447] touch.capturedFunc.call(this, touch)

                                          begin scope
                                            begin call method
                                              begin get property
                                                get local var touch (0 0 param)
                                                push const string "capturedFunc"
                                              end get property ret values 1
                                              begin params 3
                                                push const string "call"
                                                ,
                                                push this
                                                ,
                                                get local var touch (0 0 param)
                                              end params ret values 3
                                            end call method ret values 0
                                          end scope ret values 0
                                        end then
                                      end if ret values 0
                                    end scope ret values 0
                                  end then
                                  begin else

[450] for(var func in this.__events["touch"]){

                                    begin scope
                                      begin scope
                                        begin locals 3
                                          14 func
                                          15 #func
                                          16 #valid
                                        end locals
                                        new local var func (14 0)

                                        new local var #func (15 0 temp)

                                        new local var #valid (16 0 temp)

                                        begin code list
                                          begin set local var
                                            begin call method
                                              begin get property
                                                begin get property
                                                  push this
                                                  push const string "__events"
                                                end get property ret values 1
                                                push const string "touch"
                                              end get property ret values 1
                                              begin params 1
                                                push const string "__iter"
                                              end params ret values 1
                                            end call method ret values 1
                                          end set local var #func (15 0 temp)

                                          begin loop
                                            begin set local var
                                              begin set local var
                                                begin call
                                                  get local var #func (15 0 temp)
                                                  begin params 0
                                                  end params ret values 0
                                                end call ret values 2
                                              end set local var func (14 0)
                                            end set local var #valid (16 0 temp)

                                            begin if
                                              begin bool exp
                                                begin logic not
                                                  get local var #valid (16 0 temp)
                                                end logic not
                                              end bool exp
                                              begin then
                                                break
                                              end then
                                            end if ret values 0


[451] func.call(this, touch)

                                            begin scope
                                              begin call method
                                                get local var func (14 0)
                                                begin params 3
                                                  push const string "call"
                                                  ,
                                                  push this
                                                  ,
                                                  get local var touch (0 0 param)
                                                end params ret values 3
                                              end call method ret values 0
                                            end scope ret values 0
                                          end loop ret values 0
                                        end code list ret values 0
                                      end scope ret values 0
                                    end scope ret values 0
                                  end else
                                end if ret values 0


[454] delete touch.local

                                begin delete
                                  get local var touch (0 0 param)
                                  push const string "local"
                                end delete


[455] touch.captured && return true;

                                begin logic &&
                                  begin get property
                                    get local var touch (0 0 param)
                                    push const string "captured"
                                  end get property ret values 1
                                  begin return
                                    const true
                                  end return values 1
                                end logic &&
                              end code list ret values 1
                            end pop ret values 0
                          end scope ret values 0
                        end then
                      end if ret values 0
                    end else
                  end if ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[458] if(touch.captured !== this){

            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    get local var touch (0 0 param)
                    push const string "captured"
                  end get property ret values 1
                  push this
                end logic !==
              end bool exp
              begin then

[459] for(var child in this.__childrenNeg){

                begin scope
                  begin scope
                    begin locals 3
                      17 child
                      18 #func
                      19 #valid
                    end locals
                    new local var child (17 0)

                    new local var #func (18 0 temp)

                    new local var #valid (19 0 temp)

                    begin code list
                      begin set local var
                        begin call method
                          begin get property
                            push this
                            push const string "__childrenNeg"
                          end get property ret values 1
                          begin params 1
                            push const string "__iter"
                          end params ret values 1
                        end call method ret values 1
                      end set local var #func (18 0 temp)

                      begin loop
                        begin set local var
                          begin set local var
                            begin call
                              get local var #func (18 0 temp)
                              begin params 0
                              end params ret values 0
                            end call ret values 2
                          end set local var child (17 0)
                        end set local var #valid (19 0 temp)

                        begin if
                          begin bool exp
                            begin logic not
                              get local var #valid (19 0 temp)
                            end logic not
                          end bool exp
                          begin then
                            break
                          end then
                        end if ret values 0


[460] child.handleTouch(touch) && return true;

                        begin scope
                          begin pop
                            begin logic &&
                              begin call method
                                get local var child (17 0)
                                begin params 2
                                  push const string "handleTouch"
                                  ,
                                  get local var touch (0 0 param)
                                end params ret values 2
                              end call method ret values 1
                              begin return
                                const true
                              end return values 1
                            end logic &&
                          end pop ret values 0
                        end scope ret values 0
                      end loop ret values 0
                    end code list ret values 0
                  end scope ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[463] if(!touch.captured){

            begin if
              begin bool exp
                begin logic not
                  begin get property
                    get local var touch (0 0 param)
                    push const string "captured"
                  end get property ret values 1
                end logic not
              end bool exp
              begin then

[464] if(autoCapture){

                begin scope
                  begin if
                    begin bool exp
                      get local var autoCapture (9 0)
                    end bool exp
                    begin then

[465] touch.captured = this

                      begin scope
                        begin set property
                          push this
                          get local var auto create touch (0 0 param)
                          push const string "captured"
                        end set property ret values 0


[466] return true

                        begin code list
                          begin return
                            const true
                          end return values 1
                        end code list ret values 0
                      end scope ret values 0
                    end then
                    begin else

[467] }else if(this.modal){

                      begin if
                        begin bool exp
                          begin get property
                            push this
                            push const string "modal"
                          end get property ret values 1
                        end bool exp
                        begin then

[468] touch.captured = this

                          begin scope
                            begin set property
                              push this
                              get local var auto create touch (0 0 param)
                              push const string "captured"
                            end set property ret values 0


[469] touch.modal = true

                            begin set property
                              const true
                              get local var auto create touch (0 0 param)
                              push const string "modal"
                            end set property ret values 0


[470] return true

                            begin code list
                              begin return
                                const true
                              end return values 1
                            end code list ret values 0
                          end scope ret values 0
                        end then
                      end if ret values 0
                    end else
                  end if ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[473] return false

            begin code list
              begin return
                const false
              end return values 1
            end code list ret values 0
          end function
        end set by name: [handleTouch]
        ,

[476] setRect = function(x y width height){

        begin set by name
          begin function
            begin locals, total 6
              0 x (param)
              1 y (param)
              2 width (param)
              3 height (param)
              4 _E
              5 _G
            end locals

[477] this.x = x

            begin set property
              get local var x (0 0 param)
              push this
              push const string "x"
            end set property ret values 0


[478] this.y = y

            begin set property
              get local var y (1 0 param)
              push this
              push const string "y"
            end set property ret values 0


[479] this.width = width

            begin set property
              get local var width (2 0 param)
              push this
              push const string "width"
            end set property ret values 0


[480] this.height = height

            begin set property
              get local var height (3 0 param)
              push this
              push const string "height"
            end set property ret values 0
          end function
        end set by name: [setRect]
        ,

[483] drawBB = function(color, fill){

        begin set by name
          begin function
            begin locals, total 5
              0 color (param)
              1 fill (param)
              2 _E
              3 _G
              4 points
            end locals

[484] var points = [

            begin set local var
              begin array 4

[485] [0, 0],

                begin set auto index
                  begin array 2
                    begin set auto index
                      push const number 0
                    end set auto index
                    ,
                    begin set auto index
                      push const number 0
                    end set auto index
                  end array
                end set auto index
                ,

[486] [this.width, 0],

                begin set auto index
                  begin array 2
                    begin set auto index
                      begin get property
                        push this
                        push const string "width"
                      end get property ret values 1
                    end set auto index
                    ,
                    begin set auto index
                      push const number 0
                    end set auto index
                  end array
                end set auto index
                ,

[487] [this.width, this.height],

                begin set auto index
                  begin array 2
                    begin set auto index
                      begin get property
                        push this
                        push const string "width"
                      end get property ret values 1
                    end set auto index
                    ,
                    begin set auto index
                      begin get property
                        push this
                        push const string "height"
                      end get property ret values 1
                    end set auto index
                  end array
                end set auto index
                ,

[488] [0, this.height],

                begin set auto index
                  begin array 2
                    begin set auto index
                      push const number 0
                    end set auto index
                    ,
                    begin set auto index
                      begin get property
                        push this
                        push const string "height"
                      end get property ret values 1
                    end set auto index
                  end array
                end set auto index
              end array
            end set local var points (4 0)


[490] glColor(color)

            begin call method
              get local var _E (2 0)
              begin params 2
                push const string "glColor"
                ,
                get local var color (0 0 param)
              end params ret values 2
            end call method ret values 0


[491] ccDrawPoly(points, true, fill)

            begin call method
              get local var _E (2 0)
              begin params 4
                push const string "ccDrawPoly"
                ,
                get local var points (4 0)
                ,
                const true
                ,
                get local var fill (1 0 param)
              end params ret values 4
            end call method ret values 0
          end function
        end set by name: [drawBB]
      end object
    end extends ret values 1
  end set env var Node


[495] Transition = extends FunctionNode {

  begin set env var
    begin extends
      get env var FunctionNode
      begin object 6

[496] __object = {

        begin set by name
          begin object 4

[497] duration = 0

            begin set by name
              push const number 0
            end set by name: [duration]
            ,

[498] list = []

            begin set by name
              begin array 0
              end array
            end set by name: [list]
            ,

[499] finished = false

            begin set by name
              const false
            end set by name: [finished]
            ,

[500] onComplete = null

            begin set by name
              const null
            end set by name: [onComplete]
          end object
        end set by name: [__object]
        ,

[503] __construct = function(params, target){

        begin set by name
          begin function
            begin locals, total 5
              0 params (param)
              1 target (param)
              2 _E
              3 _G
              4 t
            end locals

[504] super()

            begin call
              super
              begin params 0
              end params ret values 0
            end call ret values 0


[505] this.target = target

            begin set property
              get local var target (1 0 param)
              push this
              push const string "target"
            end set property ret values 0


[506] if("onComplete" in params){

            begin if
              begin bool exp
                begin in
                  push const string "onComplete"
                  get local var params (0 0 param)
                end in
              end bool exp
              begin then

[507] this.onComplete = functionof params.onComplete

                begin scope
                  begin set property
                    begin functionof
                      begin get property
                        get local var params (0 0 param)
                        push const string "onComplete"
                      end get property ret values 1
                    end functionof
                    push this
                    push const string "onComplete"
                  end set property ret values 0


[508] delete params.onComplete

                  begin delete
                    get local var params (0 0 param)
                    push const string "onComplete"
                  end delete
                end scope ret values 0
              end then
            end if ret values 0


[510] var t = this.calculateTransition(this.list, params, 0, 1)

            begin set local var
              begin call method
                push this
                begin params 5
                  push const string "calculateTransition"
                  ,
                  begin get property
                    push this
                    push const string "list"
                  end get property ret values 1
                  ,
                  get local var params (0 0 param)
                  ,
                  push const number 0
                  ,
                  push const number 1
                end params ret values 5
              end call method ret values 1
            end set local var t (4 0)


[511] this.duration = t.endTime

            begin set property
              begin get property
                get local var t (4 0)
                push const string "endTime"
              end get property ret values 1
              push this
              push const string "duration"
            end set property ret values 0


[513] this.addEventListener("enterFrame", this.update, true)

            begin call method
              push this
              begin params 4
                push const string "addEventListener"
                ,
                push const string "enterFrame"
                ,
                begin get property
                  push this
                  push const string "update"
                end get property ret values 1
                ,
                const true
              end params ret values 4
            end call method ret values 0
          end function
        end set by name: [__construct]
        ,

[516] calculateTransition = function(list, params, startTime, speed){

        begin set by name
          begin function
            begin locals, total 25
              0 list (param)
              1 params (param)
              2 startTime (param)
              3 speed (param)
              4 _E
              5 _G
              6 t
              7 delay
              8 duration
            end locals

[517] var t = {}

            begin set local var
              begin object 0
              end object
            end set local var t (6 0)


[518] var delay = 0

            begin set local var
              push const number 0
            end set local var delay (7 0)


[519] if("delay" in params){

            begin if
              begin bool exp
                begin in
                  push const string "delay"
                  get local var params (1 0 param)
                end in
              end bool exp
              begin then

[520] delay = math.max(0, params.delay)

                begin scope
                  begin set local var
                    begin call method
                      get env var math
                      begin params 3
                        push const string "max"
                        ,
                        push const number 0
                        ,
                        begin get property
                          get local var params (1 0 param)
                          push const string "delay"
                        end get property ret values 1
                      end params ret values 3
                    end call method ret values 1
                  end set local var delay (7 0)


[521] delete params.delay

                  begin delete
                    get local var params (1 0 param)
                    push const string "delay"
                  end delete
                end scope ret values 0
              end then
            end if ret values 0


[523] var duration = 0

            begin set local var
              push const number 0
            end set local var duration (8 0)


[524] if("duration" in params){

            begin if
              begin bool exp
                begin in
                  push const string "duration"
                  get local var params (1 0 param)
                end in
              end bool exp
              begin then

[525] duration = math.max(0, params.duration)

                begin scope
                  begin set local var
                    begin call method
                      get env var math
                      begin params 3
                        push const string "max"
                        ,
                        push const number 0
                        ,
                        begin get property
                          get local var params (1 0 param)
                          push const string "duration"
                        end get property ret values 1
                      end params ret values 3
                    end call method ret values 1
                  end set local var duration (8 0)


[526] delete params.duration

                  begin delete
                    get local var params (1 0 param)
                    push const string "duration"
                  end delete
                end scope ret values 0
              end then
            end if ret values 0


[528] if("speed" in params){

            begin if
              begin bool exp
                begin in
                  push const string "speed"
                  get local var params (1 0 param)
                end in
              end bool exp
              begin then

[529] speed = speed * params.speed

                begin scope
                  begin set local var
                    begin operator *
                      get local var speed (3 0 param)
                      begin get property
                        get local var params (1 0 param)
                        push const string "speed"
                      end get property ret values 1
                    end operator *
                  end set local var speed (3 0 param)


[530] delete params.speed

                  begin delete
                    get local var params (1 0 param)
                    push const string "speed"
                  end delete
                end scope ret values 0
              end then
            end if ret values 0


[532] if(speed > 0){

            begin if
              begin bool exp
                begin logic >
                  get local var speed (3 0 param)
                  push const number 0
                end logic >
              end bool exp
              begin then

[533] duration = duration / speed

                begin scope
                  begin set local var
                    begin operator /
                      get local var duration (8 0)
                      get local var speed (3 0 param)
                    end operator /
                  end set local var duration (8 0)


[534] delay = delay / speed

                  begin set local var
                    begin operator /
                      get local var delay (7 0)
                      get local var speed (3 0 param)
                    end operator /
                  end set local var delay (7 0)
                end scope ret values 0
              end then
              begin else

[536] duration, delay = 0, 0

                begin scope
                  begin set local var
                    begin set local var
                      begin params 2
                        push const number 0
                        ,
                        push const number 0
                      end params ret values 2
                    end set local var delay (7 0)
                  end set local var duration (8 0)
                end scope ret values 0
              end else
            end if ret values 0


[538] t.easy = null

            begin set property
              const null
              get local var auto create t (6 0)
              push const string "easy"
            end set property ret values 0


[539] if("easy" in params){

            begin if
              begin bool exp
                begin in
                  push const string "easy"
                  get local var params (1 0 param)
                end in
              end bool exp
              begin then

[540] t.easy = functionof params.easy

                begin scope
                  begin set property
                    begin functionof
                      begin get property
                        get local var params (1 0 param)
                        push const string "easy"
                      end get property ret values 1
                    end functionof
                    get local var auto create t (6 0)
                    push const string "easy"
                  end set property ret values 0


[541] delete params.easy

                  begin delete
                    get local var params (1 0 param)
                    push const string "easy"
                  end delete
                end scope ret values 0
              end then
            end if ret values 0


[543] t.repeat = 1

            begin set property
              push const number 1
              get local var auto create t (6 0)
              push const string "repeat"
            end set property ret values 0


[544] if("repeat" in params){

            begin if
              begin bool exp
                begin in
                  push const string "repeat"
                  get local var params (1 0 param)
                end in
              end bool exp
              begin then

[545] t.repeat = params.repeat

                begin scope
                  begin set property
                    begin get property
                      get local var params (1 0 param)
                      push const string "repeat"
                    end get property ret values 1
                    get local var auto create t (6 0)
                    push const string "repeat"
                  end set property ret values 0


[546] delete params.repeat

                  begin delete
                    get local var params (1 0 param)
                    push const string "repeat"
                  end delete
                end scope ret values 0
              end then
            end if ret values 0


[548] t.infinite = t.repeat === true

            begin set property
              begin logic ===
                begin get property
                  get local var t (6 0)
                  push const string "repeat"
                end get property ret values 1
                const true
              end logic ===
              get local var auto create t (6 0)
              push const string "infinite"
            end set property ret values 0


[549] t.repeat = math.max(0, numberof t.repeat)

            begin set property
              begin call method
                get env var math
                begin params 3
                  push const string "max"
                  ,
                  push const number 0
                  ,
                  begin numberof
                    begin get property
                      get local var t (6 0)
                      push const string "repeat"
                    end get property ret values 1
                  end numberof
                end params ret values 3
              end call method ret values 1
              get local var auto create t (6 0)
              push const string "repeat"
            end set property ret values 0


[551] t.alignRotation = false

            begin set property
              const false
              get local var auto create t (6 0)
              push const string "alignRotation"
            end set property ret values 0


[552] if("alignRotation" in params){

            begin if
              begin bool exp
                begin in
                  push const string "alignRotation"
                  get local var params (1 0 param)
                end in
              end bool exp
              begin then

[553] t.alignRotation = params.alignRotation

                begin scope
                  begin set property
                    begin get property
                      get local var params (1 0 param)
                      push const string "alignRotation"
                    end get property ret values 1
                    get local var auto create t (6 0)
                    push const string "alignRotation"
                  end set property ret values 0


[554] delete params.alignRotation

                  begin delete
                    get local var params (1 0 param)
                    push const string "alignRotation"
                  end delete
                end scope ret values 0
              end then
            end if ret values 0


[558] t.startTime = startTime

            begin set property
              get local var startTime (2 0 param)
              get local var auto create t (6 0)
              push const string "startTime"
            end set property ret values 0


[559] t.startTransitionTime = startTime + delay

            begin set property
              begin operator +
                get local var startTime (2 0 param)
                get local var delay (7 0)
              end operator +
              get local var auto create t (6 0)
              push const string "startTransitionTime"
            end set property ret values 0


[560] t.endTime = t.startTransitionTime + duration

            begin set property
              begin operator +
                begin get property
                  get local var t (6 0)
                  push const string "startTransitionTime"
                end get property ret values 1
                get local var duration (8 0)
              end operator +
              get local var auto create t (6 0)
              push const string "endTime"
            end set property ret values 0


[561] list.push(t)

            begin call method
              get local var list (0 0 param)
              begin params 2
                push const string "push"
                ,
                get local var t (6 0)
              end params ret values 2
            end call method ret values 0


[563] t.startValues = null

            begin set property
              const null
              get local var auto create t (6 0)
              push const string "startValues"
            end set property ret values 0


[564] t.endValues = {}

            begin set property
              begin object 0
              end object
              get local var auto create t (6 0)
              push const string "endValues"
            end set property ret values 0


[565] t.subTransitions = []

            begin set property
              begin array 0
              end array
              get local var auto create t (6 0)
              push const string "subTransitions"
            end set property ret values 0


[566] for(var name, value in params){

            begin scope
              begin locals 4
                9 name
                10 value
                23 #func
                24 #valid
              end locals
              new local var name (9 0)

              new local var value (10 0)

              new local var #func (23 0 temp)

              new local var #valid (24 0 temp)

              begin code list
                begin set local var
                  begin call method
                    get local var params (1 0 param)
                    begin params 1
                      push const string "__iter"
                    end params ret values 1
                  end call method ret values 1
                end set local var #func (23 0 temp)

                begin loop
                  begin set local var
                    begin set local var
                      begin set local var
                        begin call
                          get local var #func (23 0 temp)
                          begin params 0
                          end params ret values 0
                        end call ret values 3
                      end set local var value (10 0)
                    end set local var name (9 0)
                  end set local var #valid (24 0 temp)

                  begin if
                    begin bool exp
                      begin logic not
                        get local var #valid (24 0 temp)
                      end logic not
                    end bool exp
                    begin then
                      break
                    end then
                  end if ret values 0


[567] if(name === "sequence"){

                  begin scope
                    begin if
                      begin bool exp
                        begin logic ===
                          get local var name (9 0)
                          push const string "sequence"
                        end logic ===
                      end bool exp
                      begin then

[569] var sequenceStartTime = t.startTransitionTime

                        begin scope
                          begin locals 3
                            11 sequenceStartTime
                            12 closed
                            13 alignRotation
                          end locals
                          begin set local var
                            begin get property
                              get local var t (6 0)
                              push const string "startTransitionTime"
                            end get property ret values 1
                          end set local var sequenceStartTime (11 0)


[570] var closed = false

                          begin set local var
                            const false
                          end set local var closed (12 0)


[571] if("closed" in value){

                          begin if
                            begin bool exp
                              begin in
                                push const string "closed"
                                get local var value (10 0)
                              end in
                            end bool exp
                            begin then

[572] closed = value.closed

                              begin scope
                                begin set local var
                                  begin get property
                                    get local var value (10 0)
                                    push const string "closed"
                                  end get property ret values 1
                                end set local var closed (12 0)


[573] delete value.closed

                                begin delete
                                  get local var value (10 0)
                                  push const string "closed"
                                end delete


[574] if(closed){

                                begin if
                                  begin bool exp
                                    get local var closed (12 0)
                                  end bool exp
                                  begin then

[575] value.push(clone value[0])

                                    begin scope
                                      begin call method
                                        get local var value (10 0)
                                        begin params 2
                                          push const string "push"
                                          ,
                                          begin clone
                                            begin get property
                                              get local var value (10 0)
                                              push const number 0
                                            end get property ret values 1
                                          end clone
                                        end params ret values 2
                                      end call method ret values 0
                                    end scope ret values 0
                                  end then
                                end if ret values 0
                              end scope ret values 0
                            end then
                          end if ret values 0


[578] var alignRotation = t.alignRotation

                          begin set local var
                            begin get property
                              get local var t (6 0)
                              push const string "alignRotation"
                            end get property ret values 1
                          end set local var alignRotation (13 0)


[579] if("alignRotation" in value){

                          begin if
                            begin bool exp
                              begin in
                                push const string "alignRotation"
                                get local var value (10 0)
                              end in
                            end bool exp
                            begin then

[580] alignRotation = value.alignRotation

                              begin scope
                                begin set local var
                                  begin get property
                                    get local var value (10 0)
                                    push const string "alignRotation"
                                  end get property ret values 1
                                end set local var alignRotation (13 0)


[581] delete value.alignRotation

                                begin delete
                                  get local var value (10 0)
                                  push const string "alignRotation"
                                end delete
                              end scope ret values 0
                            end then
                          end if ret values 0


[583] for(var i, sub in value){

                          begin scope
                            begin locals 4
                              14 i
                              15 sub
                              16 #func
                              17 #valid
                            end locals
                            new local var i (14 0)

                            new local var sub (15 0)

                            new local var #func (16 0 temp)

                            new local var #valid (17 0 temp)

                            begin code list
                              begin set local var
                                begin call method
                                  get local var value (10 0)
                                  begin params 1
                                    push const string "__iter"
                                  end params ret values 1
                                end call method ret values 1
                              end set local var #func (16 0 temp)

                              begin loop
                                begin set local var
                                  begin set local var
                                    begin set local var
                                      begin call
                                        get local var #func (16 0 temp)
                                        begin params 0
                                        end params ret values 0
                                      end call ret values 3
                                    end set local var sub (15 0)
                                  end set local var i (14 0)
                                end set local var #valid (17 0 temp)

                                begin if
                                  begin bool exp
                                    begin logic not
                                      get local var #valid (17 0 temp)
                                    end logic not
                                  end bool exp
                                  begin then
                                    break
                                  end then
                                end if ret values 0


[584] if(objectof sub){

                                begin scope
                                  begin if
                                    begin bool exp
                                      begin objectof
                                        get local var sub (15 0)
                                      end objectof
                                    end bool exp
                                    begin then

[585] sub.alignRotation = alignRotation

                                      begin scope
                                        begin set property
                                          get local var alignRotation (13 0)
                                          get local var auto create sub (15 0)
                                          push const string "alignRotation"
                                        end set property ret values 0


[586] sub = this.calculateTransition(t.subTransitions, sub, sequenceStartTime, speed)

                                        begin set local var
                                          begin call method
                                            push this
                                            begin params 5
                                              push const string "calculateTransition"
                                              ,
                                              begin get property
                                                get local var t (6 0)
                                                push const string "subTransitions"
                                              end get property ret values 1
                                              ,
                                              get local var sub (15 0)
                                              ,
                                              get local var sequenceStartTime (11 0)
                                              ,
                                              get local var speed (3 0 param)
                                            end params ret values 5
                                          end call method ret values 1
                                        end set local var sub (15 0)


[587] sequenceStartTime = sub.endTime

                                        begin set local var
                                          begin get property
                                            get local var sub (15 0)
                                            push const string "endTime"
                                          end get property ret values 1
                                        end set local var sequenceStartTime (11 0)


[588] t.endTime = math.max(t.endTime, sub.endTime)

                                        begin set property
                                          begin call method
                                            get env var math
                                            begin params 3
                                              push const string "max"
                                              ,
                                              begin get property
                                                get local var t (6 0)
                                                push const string "endTime"
                                              end get property ret values 1
                                              ,
                                              begin get property
                                                get local var sub (15 0)
                                                push const string "endTime"
                                              end get property ret values 1
                                            end params ret values 3
                                          end call method ret values 1
                                          get local var auto create t (6 0)
                                          push const string "endTime"
                                        end set property ret values 0
                                      end scope ret values 0
                                    end then
                                  end if ret values 0
                                end scope ret values 0
                              end loop ret values 0
                            end code list ret values 0
                          end scope ret values 0


[591] continue

                          continue
                        end scope ret values 0
                      end then
                    end if ret values 0


[593] if(name === "spawn"){

                    begin if
                      begin bool exp
                        begin logic ===
                          get local var name (9 0)
                          push const string "spawn"
                        end logic ===
                      end bool exp
                      begin then

[595] var alignRotation = t.alignRotation

                        begin scope
                          begin locals 1
                            18 alignRotation
                          end locals
                          begin set local var
                            begin get property
                              get local var t (6 0)
                              push const string "alignRotation"
                            end get property ret values 1
                          end set local var alignRotation (18 0)


[596] if("alignRotation" in value){

                          begin if
                            begin bool exp
                              begin in
                                push const string "alignRotation"
                                get local var value (10 0)
                              end in
                            end bool exp
                            begin then

[597] alignRotation = value.alignRotation

                              begin scope
                                begin set local var
                                  begin get property
                                    get local var value (10 0)
                                    push const string "alignRotation"
                                  end get property ret values 1
                                end set local var alignRotation (18 0)


[598] delete value.alignRotation

                                begin delete
                                  get local var value (10 0)
                                  push const string "alignRotation"
                                end delete
                              end scope ret values 0
                            end then
                          end if ret values 0


[600] for(var i, sub in value){

                          begin scope
                            begin locals 4
                              19 i
                              20 sub
                              21 #func
                              22 #valid
                            end locals
                            new local var i (19 0)

                            new local var sub (20 0)

                            new local var #func (21 0 temp)

                            new local var #valid (22 0 temp)

                            begin code list
                              begin set local var
                                begin call method
                                  get local var value (10 0)
                                  begin params 1
                                    push const string "__iter"
                                  end params ret values 1
                                end call method ret values 1
                              end set local var #func (21 0 temp)

                              begin loop
                                begin set local var
                                  begin set local var
                                    begin set local var
                                      begin call
                                        get local var #func (21 0 temp)
                                        begin params 0
                                        end params ret values 0
                                      end call ret values 3
                                    end set local var sub (20 0)
                                  end set local var i (19 0)
                                end set local var #valid (22 0 temp)

                                begin if
                                  begin bool exp
                                    begin logic not
                                      get local var #valid (22 0 temp)
                                    end logic not
                                  end bool exp
                                  begin then
                                    break
                                  end then
                                end if ret values 0


[601] if(objectof sub){

                                begin scope
                                  begin if
                                    begin bool exp
                                      begin objectof
                                        get local var sub (20 0)
                                      end objectof
                                    end bool exp
                                    begin then

[602] sub.alignRotation = alignRotation

                                      begin scope
                                        begin set property
                                          get local var alignRotation (18 0)
                                          get local var auto create sub (20 0)
                                          push const string "alignRotation"
                                        end set property ret values 0


[603] sub = this.calculateTransition(t.subTransitions, sub, t.startTransitionTime, speed)

                                        begin set local var
                                          begin call method
                                            push this
                                            begin params 5
                                              push const string "calculateTransition"
                                              ,
                                              begin get property
                                                get local var t (6 0)
                                                push const string "subTransitions"
                                              end get property ret values 1
                                              ,
                                              get local var sub (20 0)
                                              ,
                                              begin get property
                                                get local var t (6 0)
                                                push const string "startTransitionTime"
                                              end get property ret values 1
                                              ,
                                              get local var speed (3 0 param)
                                            end params ret values 5
                                          end call method ret values 1
                                        end set local var sub (20 0)


[604] t.endTime = math.max(t.endTime, sub.endTime)

                                        begin set property
                                          begin call method
                                            get env var math
                                            begin params 3
                                              push const string "max"
                                              ,
                                              begin get property
                                                get local var t (6 0)
                                                push const string "endTime"
                                              end get property ret values 1
                                              ,
                                              begin get property
                                                get local var sub (20 0)
                                                push const string "endTime"
                                              end get property ret values 1
                                            end params ret values 3
                                          end call method ret values 1
                                          get local var auto create t (6 0)
                                          push const string "endTime"
                                        end set property ret values 0
                                      end scope ret values 0
                                    end then
                                  end if ret values 0
                                end scope ret values 0
                              end loop ret values 0
                            end code list ret values 0
                          end scope ret values 0


[607] continue

                          continue
                        end scope ret values 0
                      end then
                    end if ret values 0


[609] if(name == "endValues"){

                    begin if
                      begin bool exp
                        begin logic ==
                          get local var name (9 0)
                          push const string "endValues"
                        end logic ==
                      end bool exp
                      begin then

[611] continue

                        begin scope
                          continue
                        end scope ret values 0
                      end then
                    end if ret values 0


[614] t.endValues[name] = value

                    begin set property
                      get local var value (10 0)
                      begin get property auto create
                        get local var auto create t (6 0)
                        push const string "endValues"
                      end get property auto create ret values 1
                      get local var name (9 0)
                    end set property ret values 0
                  end scope ret values 0
                end loop ret values 0
              end code list ret values 0
            end scope ret values 0


[616] t.endTransitionTime = t.endTime

            begin set property
              begin get property
                get local var t (6 0)
                push const string "endTime"
              end get property ret values 1
              get local var auto create t (6 0)
              push const string "endTransitionTime"
            end set property ret values 0


[617] if(t.infinite){

            begin if
              begin bool exp
                begin get property
                  get local var t (6 0)
                  push const string "infinite"
                end get property ret values 1
              end bool exp
              begin then

[618] t.endTime = math.MAX_NUMBER

                begin scope
                  begin set property
                    begin get property
                      get env var math
                      push const string "MAX_NUMBER"
                    end get property ret values 1
                    get local var auto create t (6 0)
                    push const string "endTime"
                  end set property ret values 0
                end scope ret values 0
              end then
              begin else

[620] t.endTime = t.startTime + (t.endTime - t.startTime) * t.repeat

                begin scope
                  begin set property
                    begin operator +
                      begin get property
                        get local var t (6 0)
                        push const string "startTime"
                      end get property ret values 1
                      begin operator *
                        begin operator -
                          begin get property
                            get local var t (6 0)
                            push const string "endTime"
                          end get property ret values 1
                          begin get property
                            get local var t (6 0)
                            push const string "startTime"
                          end get property ret values 1
                        end operator -
                        begin get property
                          get local var t (6 0)
                          push const string "repeat"
                        end get property ret values 1
                      end operator *
                    end operator +
                    get local var auto create t (6 0)
                    push const string "endTime"
                  end set property ret values 0
                end scope ret values 0
              end else
            end if ret values 0


[622] if(#t.subTransitions == 0){

            begin if
              begin bool exp
                begin logic ==
                  begin length
                    begin get property
                      get local var t (6 0)
                      push const string "subTransitions"
                    end get property ret values 1
                  end length
                  push const number 0
                end logic ==
              end bool exp
              begin then

[623] t.subTransitions = null

                begin scope
                  begin set property
                    const null
                    get local var auto create t (6 0)
                    push const string "subTransitions"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[625] return t

            begin code list
              begin return
                get local var t (6 0)
              end return values 1
            end code list ret values 0
          end function
        end set by name: [calculateTransition]
        ,

[628] update = function(){

        begin set by name
          begin function
            begin locals, total 4
              0 _E
              1 _G
              2 time
              3 duration
            end locals

[629] var time, duration = this.time, this.duration

            begin set local var
              begin set local var
                begin params 2
                  begin get property
                    push this
                    push const string "time"
                  end get property ret values 1
                  ,
                  begin get property
                    push this
                    push const string "duration"
                  end get property ret values 1
                end params ret values 2
              end set local var duration (3 0)
            end set local var time (2 0)


[630] if(time >= duration){

            begin if
              begin bool exp
                begin logic >=
                  get local var time (2 0)
                  get local var duration (3 0)
                end logic >=
              end bool exp
              begin then

[632] this.remove()

                begin scope
                  begin call method
                    push this
                    begin params 1
                      push const string "remove"
                    end params ret values 1
                  end call method ret values 0


[633] this.finished = true

                  begin set property
                    const true
                    push this
                    push const string "finished"
                  end set property ret values 0


[634] this.onComplete && this.onComplete.call(this.target)

                  begin pop
                    begin logic &&
                      begin get property
                        push this
                        push const string "onComplete"
                      end get property ret values 1
                      begin call method
                        begin get property
                          push this
                          push const string "onComplete"
                        end get property ret values 1
                        begin params 2
                          push const string "call"
                          ,
                          begin get property
                            push this
                            push const string "target"
                          end get property ret values 1
                        end params ret values 2
                      end call method ret values 1
                    end logic &&
                  end pop ret values 0


[637] time = duration

                  begin set local var
                    get local var duration (3 0)
                  end set local var time (2 0)
                end scope ret values 0
              end then
            end if ret values 0


[639] this.applyTimeToList(time, this.list)

            begin call method
              push this
              begin params 3
                push const string "applyTimeToList"
                ,
                get local var time (2 0)
                ,
                begin get property
                  push this
                  push const string "list"
                end get property ret values 1
              end params ret values 3
            end call method ret values 0
          end function
        end set by name: [update]
        ,

[642] applyTimeToList = function(time, list){

        begin set by name
          begin function
            begin locals, total 9
              0 time (param)
              1 list (param)
              2 _E
              3 _G
              4 prev
            end locals

[643] var prev

            begin params 1
              new local var prev (4 0)
            end params ret values 0


[644] for(var i, t in list){

            begin scope
              begin locals 4
                5 i
                6 t
                7 #func
                8 #valid
              end locals
              new local var i (5 0)

              new local var t (6 0)

              new local var #func (7 0 temp)

              new local var #valid (8 0 temp)

              begin code list
                begin set local var
                  begin call method
                    get local var list (1 0 param)
                    begin params 1
                      push const string "__iter"
                    end params ret values 1
                  end call method ret values 1
                end set local var #func (7 0 temp)

                begin loop
                  begin set local var
                    begin set local var
                      begin set local var
                        begin call
                          get local var #func (7 0 temp)
                          begin params 0
                          end params ret values 0
                        end call ret values 3
                      end set local var t (6 0)
                    end set local var i (5 0)
                  end set local var #valid (8 0 temp)

                  begin if
                    begin bool exp
                      begin logic not
                        get local var #valid (8 0 temp)
                      end logic not
                    end bool exp
                    begin then
                      break
                    end then
                  end if ret values 0


[645] this.applyTimeToItem(time, t, prev)

                  begin scope
                    begin call method
                      push this
                      begin params 4
                        push const string "applyTimeToItem"
                        ,
                        get local var time (0 0 param)
                        ,
                        get local var t (6 0)
                        ,
                        get local var prev (4 0)
                      end params ret values 4
                    end call method ret values 0


[646] prev = t.endValues

                    begin set local var
                      begin get property
                        get local var t (6 0)
                        push const string "endValues"
                      end get property ret values 1
                    end set local var prev (4 0)
                  end scope ret values 0
                end loop ret values 0
              end code list ret values 0
            end scope ret values 0
          end function
        end set by name: [applyTimeToList]
        ,

[650] applyTimeToItem = function(time, t, prev){

        begin set by name
          begin function
            begin locals, total 19
              0 time (param)
              1 t (param)
              2 prev (param)
              3 _E
              4 _G
              5 target
              13 tween
              14 duration
            end locals

[651] if(time < t.startTransitionTime){

            begin if
              begin bool exp
                begin logic <
                  get local var time (0 0 param)
                  begin get property
                    get local var t (1 0 param)
                    push const string "startTransitionTime"
                  end get property ret values 1
                end logic <
              end bool exp
              begin then

[652] return

                begin scope
                  return
                end scope ret values 0
              end then
            end if ret values 0


[654] if(!t.infinite && time > t.endTime){

            begin if
              begin bool exp
                begin logic &&
                  begin logic not
                    begin get property
                      get local var t (1 0 param)
                      push const string "infinite"
                    end get property ret values 1
                  end logic not
                  begin logic >
                    get local var time (0 0 param)
                    begin get property
                      get local var t (1 0 param)
                      push const string "endTime"
                    end get property ret values 1
                  end logic >
                end logic &&
              end bool exp
              begin then

[655] return

                begin scope
                  return
                end scope ret values 0
              end then
            end if ret values 0


[658] var target = this.target

            begin set local var
              begin get property
                push this
                push const string "target"
              end get property ret values 1
            end set local var target (5 0)


[659] if(!t.startValues){

            begin if
              begin bool exp
                begin logic not
                  begin get property
                    get local var t (1 0 param)
                    push const string "startValues"
                  end get property ret values 1
                end logic not
              end bool exp
              begin then

[660] t.startValues = {}

                begin scope
                  begin set property
                    begin object 0
                    end object
                    get local var auto create t (1 0 param)
                    push const string "startValues"
                  end set property ret values 0


[661] for(var name, value in t.endValues){

                  begin scope
                    begin locals 4
                      6 name
                      7 value
                      8 #func
                      9 #valid
                    end locals
                    new local var name (6 0)

                    new local var value (7 0)

                    new local var #func (8 0 temp)

                    new local var #valid (9 0 temp)

                    begin code list
                      begin set local var
                        begin call method
                          begin get property
                            get local var t (1 0 param)
                            push const string "endValues"
                          end get property ret values 1
                          begin params 1
                            push const string "__iter"
                          end params ret values 1
                        end call method ret values 1
                      end set local var #func (8 0 temp)

                      begin loop
                        begin set local var
                          begin set local var
                            begin set local var
                              begin call
                                get local var #func (8 0 temp)
                                begin params 0
                                end params ret values 0
                              end call ret values 3
                            end set local var value (7 0)
                          end set local var name (6 0)
                        end set local var #valid (9 0 temp)

                        begin if
                          begin bool exp
                            begin logic not
                              get local var #valid (9 0 temp)
                            end logic not
                          end bool exp
                          begin then
                            break
                          end then
                        end if ret values 0


[662] if(numberof value && name in target && numberof target[name]){

                        begin scope
                          begin if
                            begin bool exp
                              begin logic &&
                                begin logic &&
                                  begin numberof
                                    get local var value (7 0)
                                  end numberof
                                  begin in
                                    get local var name (6 0)
                                    get local var target (5 0)
                                  end in
                                end logic &&
                                begin numberof
                                  begin get property
                                    get local var target (5 0)
                                    get local var name (6 0)
                                  end get property ret values 1
                                end numberof
                              end logic &&
                            end bool exp
                            begin then

[663] t.startValues[name] = name in prev ? prev[name] : target[name]

                              begin scope
                                begin set property
                                  begin question
                                    begin bool exp
                                      begin in
                                        get local var name (6 0)
                                        get local var prev (2 0 param)
                                      end in
                                    end bool exp
                                    begin then value
                                      begin get property
                                        get local var prev (2 0 param)
                                        get local var name (6 0)
                                      end get property ret values 1
                                    end then value
                                    begin else value
                                      begin get property
                                        get local var target (5 0)
                                        get local var name (6 0)
                                      end get property ret values 1
                                    end else value
                                  end question ret values 1
                                  begin get property auto create
                                    get local var auto create t (1 0 param)
                                    push const string "startValues"
                                  end get property auto create ret values 1
                                  get local var name (6 0)
                                end set property ret values 0
                              end scope ret values 0
                            end then
                            begin else

[665] delete t.endValues[name]

                              begin scope
                                begin delete
                                  begin get property
                                    get local var t (1 0 param)
                                    push const string "endValues"
                                  end get property ret values 1
                                  get local var name (6 0)
                                end delete
                              end scope ret values 0
                            end else
                          end if ret values 0
                        end scope ret values 0
                      end loop ret values 0
                    end code list ret values 0
                  end scope ret values 0


[668] if(t.alignRotation && "rotation" in t.endValues){

                  begin if
                    begin bool exp
                      begin logic &&
                        begin get property
                          get local var t (1 0 param)
                          push const string "alignRotation"
                        end get property ret values 1
                        begin in
                          push const string "rotation"
                          begin get property
                            get local var t (1 0 param)
                            push const string "endValues"
                          end get property ret values 1
                        end in
                      end logic &&
                    end bool exp
                    begin then

[669] var start = t.startValues.rotation

                      begin scope
                        begin locals 3
                          10 start
                          11 end
                          12 diff
                        end locals
                        begin set local var
                          begin get property
                            begin get property
                              get local var t (1 0 param)
                              push const string "startValues"
                            end get property ret values 1
                            push const string "rotation"
                          end get property ret values 1
                        end set local var start (10 0)


[670] var end = t.endValues.rotation

                        begin set local var
                          begin get property
                            begin get property
                              get local var t (1 0 param)
                              push const string "endValues"
                            end get property ret values 1
                            push const string "rotation"
                          end get property ret values 1
                        end set local var end (11 0)


[671] var diff = end - start

                        begin set local var
                          begin operator -
                            get local var end (11 0)
                            get local var start (10 0)
                          end operator -
                        end set local var diff (12 0)


[672] if(math.abs(diff) > 180){

                        begin if
                          begin bool exp
                            begin logic >
                              begin call method
                                get env var math
                                begin params 2
                                  push const string "abs"
                                  ,
                                  get local var diff (12 0)
                                end params ret values 2
                              end call method ret values 1
                              push const number 180
                            end logic >
                          end bool exp
                          begin then

[673] if(diff < 0){

                            begin scope
                              begin if
                                begin bool exp
                                  begin logic <
                                    get local var diff (12 0)
                                    push const number 0
                                  end logic <
                                end bool exp
                                begin then

[674] diff = 360 + diff - math.floor(diff / 360) * 360

                                  begin scope
                                    begin set local var
                                      begin operator -
                                        begin operator +
                                          push const number 360
                                          get local var diff (12 0)
                                        end operator +
                                        begin operator *
                                          begin call method
                                            get env var math
                                            begin params 2
                                              push const string "floor"
                                              ,
                                              begin operator /
                                                get local var diff (12 0)
                                                push const number 360
                                              end operator /
                                            end params ret values 2
                                          end call method ret values 1
                                          push const number 360
                                        end operator *
                                      end operator -
                                    end set local var diff (12 0)
                                  end scope ret values 0
                                end then
                                begin else

[675] }else if(diff > 360){

                                  begin if
                                    begin bool exp
                                      begin logic >
                                        get local var diff (12 0)
                                        push const number 360
                                      end logic >
                                    end bool exp
                                    begin then

[676] diff = diff - math.floor(diff / 360) * 360

                                      begin scope
                                        begin set local var
                                          begin operator -
                                            get local var diff (12 0)
                                            begin operator *
                                              begin call method
                                                get env var math
                                                begin params 2
                                                  push const string "floor"
                                                  ,
                                                  begin operator /
                                                    get local var diff (12 0)
                                                    push const number 360
                                                  end operator /
                                                end params ret values 2
                                              end call method ret values 1
                                              push const number 360
                                            end operator *
                                          end operator -
                                        end set local var diff (12 0)
                                      end scope ret values 0
                                    end then
                                  end if ret values 0
                                end else
                              end if ret values 0


[678] if(diff > 180){

                              begin if
                                begin bool exp
                                  begin logic >
                                    get local var diff (12 0)
                                    push const number 180
                                  end logic >
                                end bool exp
                                begin then

[679] diff = diff - 360

                                  begin scope
                                    begin set local var
                                      begin operator -
                                        get local var diff (12 0)
                                        push const number 360
                                      end operator -
                                    end set local var diff (12 0)
                                  end scope ret values 0
                                end then
                              end if ret values 0


[681] t.endValues.rotation = start + diff

                              begin set property
                                begin operator +
                                  get local var start (10 0)
                                  get local var diff (12 0)
                                end operator +
                                begin get property auto create
                                  get local var auto create t (1 0 param)
                                  push const string "endValues"
                                end get property auto create ret values 1
                                push const string "rotation"
                              end set property ret values 0
                            end scope ret values 0
                          end then
                        end if ret values 0
                      end scope ret values 0
                    end then
                  end if ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[686] var tween

            begin params 1
              new local var tween (13 0)
            end params ret values 0


[687] var duration = t.endTransitionTime - t.startTransitionTime

            begin set local var
              begin operator -
                begin get property
                  get local var t (1 0 param)
                  push const string "endTransitionTime"
                end get property ret values 1
                begin get property
                  get local var t (1 0 param)
                  push const string "startTransitionTime"
                end get property ret values 1
              end operator -
            end set local var duration (14 0)


[688] if(this.finished)

            begin if
              begin bool exp
                begin get property
                  push this
                  push const string "finished"
                end get property ret values 1
              end bool exp
              begin then

[689] time = time - t.startTransitionTime

                begin set local var
                  begin operator -
                    get local var time (0 0 param)
                    begin get property
                      get local var t (1 0 param)
                      push const string "startTransitionTime"
                    end get property ret values 1
                  end operator -
                end set local var time (0 0 param)
              end then
              begin else

[691] time = math.fmod(time - t.startTransitionTime,  duration)

                begin set local var
                  begin call method
                    get env var math
                    begin params 3
                      push const string "fmod"
                      ,
                      begin operator -
                        get local var time (0 0 param)
                        begin get property
                          get local var t (1 0 param)
                          push const string "startTransitionTime"
                        end get property ret values 1
                      end operator -
                      ,
                      get local var duration (14 0)
                    end params ret values 3
                  end call method ret values 1
                end set local var time (0 0 param)
              end else
            end if ret values 0


[693] if(duration <= 0){ // || time >= duration){

            begin if
              begin bool exp
                begin logic <=
                  get local var duration (14 0)
                  push const number 0
                end logic <=
              end bool exp
              begin then

[694] tween = 1

                begin scope
                  begin set local var
                    push const number 1
                  end set local var tween (13 0)
                end scope ret values 0
              end then
              begin else

[695] }else if(t.easy){

                begin if
                  begin bool exp
                    begin get property
                      get local var t (1 0 param)
                      push const string "easy"
                    end get property ret values 1
                  end bool exp
                  begin then

[696] tween = t.easy(time / duration)

                    begin scope
                      begin set local var
                        begin call method
                          get local var t (1 0 param)
                          begin params 2
                            push const string "easy"
                            ,
                            begin operator /
                              get local var time (0 0 param)
                              get local var duration (14 0)
                            end operator /
                          end params ret values 2
                        end call method ret values 1
                      end set local var tween (13 0)


[697] time = tween * duration

                      begin set local var
                        begin operator *
                          get local var tween (13 0)
                          get local var duration (14 0)
                        end operator *
                      end set local var time (0 0 param)
                    end scope ret values 0
                  end then
                  begin else

[699] tween = time / duration

                    begin scope
                      begin set local var
                        begin operator /
                          get local var time (0 0 param)
                          get local var duration (14 0)
                        end operator /
                      end set local var tween (13 0)
                    end scope ret values 0
                  end else
                end if ret values 0
              end else
            end if ret values 0


[701] for(var name, endValue in t.endValues){

            begin scope
              begin locals 4
                15 name
                16 endValue
                17 #func
                18 #valid
              end locals
              new local var name (15 0)

              new local var endValue (16 0)

              new local var #func (17 0 temp)

              new local var #valid (18 0 temp)

              begin code list
                begin set local var
                  begin call method
                    begin get property
                      get local var t (1 0 param)
                      push const string "endValues"
                    end get property ret values 1
                    begin params 1
                      push const string "__iter"
                    end params ret values 1
                  end call method ret values 1
                end set local var #func (17 0 temp)

                begin loop
                  begin set local var
                    begin set local var
                      begin set local var
                        begin call
                          get local var #func (17 0 temp)
                          begin params 0
                          end params ret values 0
                        end call ret values 3
                      end set local var endValue (16 0)
                    end set local var name (15 0)
                  end set local var #valid (18 0 temp)

                  begin if
                    begin bool exp
                      begin logic not
                        get local var #valid (18 0 temp)
                      end logic not
                    end bool exp
                    begin then
                      break
                    end then
                  end if ret values 0


[702] target[name] = t.startValues[name] * (1 - tween) + endValue * tween

                  begin scope
                    begin set property
                      begin operator +
                        begin operator *
                          begin get property
                            begin get property
                              get local var t (1 0 param)
                              push const string "startValues"
                            end get property ret values 1
                            get local var name (15 0)
                          end get property ret values 1
                          begin operator -
                            push const number 1
                            get local var tween (13 0)
                          end operator -
                        end operator *
                        begin operator *
                          get local var endValue (16 0)
                          get local var tween (13 0)
                        end operator *
                      end operator +
                      get local var auto create target (5 0)
                      get local var name (15 0)
                    end set property ret values 0
                  end scope ret values 0
                end loop ret values 0
              end code list ret values 0
            end scope ret values 0


[705] if(t.subTransitions)

            begin if
              begin bool exp
                begin get property
                  get local var t (1 0 param)
                  push const string "subTransitions"
                end get property ret values 1
              end bool exp
              begin then

[706] this.applyTimeToList(time + t.startTransitionTime, t.subTransitions)

                begin call method
                  push this
                  begin params 3
                    push const string "applyTimeToList"
                    ,
                    begin operator +
                      get local var time (0 0 param)
                      begin get property
                        get local var t (1 0 param)
                        push const string "startTransitionTime"
                      end get property ret values 1
                    end operator +
                    ,
                    begin get property
                      get local var t (1 0 param)
                      push const string "subTransitions"
                    end get property ret values 1
                  end params ret values 3
                end call method ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [applyTimeToItem]
      end object
    end extends ret values 1
  end set env var Transition


[710] ColorNode = extends Node {

  begin set env var
    begin extends
      get env var Node
      begin object 2

[711] __object = {

        begin set by name
          begin object 1

[712] color: [0.5 0.7 0.5 1]

            begin set by name
              begin array 4
                begin set auto index
                  push const number 0.5
                end set auto index
                ,
                begin set auto index
                  push const number 0.7
                end set auto index
                ,
                begin set auto index
                  push const number 0.5
                end set auto index
                ,
                begin set auto index
                  push const number 1
                end set auto index
              end array
            end set by name: [color]
          end object
        end set by name: [__object]
        ,

[715] paint = function(){

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals

[716] this.drawBB(this.color, true)

            begin call method
              push this
              begin params 3
                push const string "drawBB"
                ,
                begin get property
                  push this
                  push const string "color"
                end get property ret values 1
                ,
                const true
              end params ret values 3
            end call method ret values 0
          end function
        end set by name: [paint]
      end object
    end extends ret values 1
  end set env var ColorNode


[720] Scene = extends Node {

  begin set env var
    begin extends
      get env var Node
      begin object 1

[721] __object = {

        begin set by name
          begin object 1

[722] __isRelativeAnchor = false

            begin set by name
              const false
            end set by name: [__isRelativeAnchor]
          end object
        end set by name: [__object]
      end object
    end extends ret values 1
  end set env var Scene


[725] }

  begin code list
    begin return
      get local var _E (0 0)
    end return values 1
  end code list ret values 0
end function
