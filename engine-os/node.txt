
[FILE] raw://../../engine-os/node.os
[1] require("utils")

begin function
  begin locals, total 3
    0 _E
    1 _G
    2 counter
  end locals
  begin call method
    get local var _E (0 0)
    begin params 2
      push const string "require"
      ,
      push const string "utils"
    end params ret values 2
  end call method ret values 0


[3] Point = {

  begin set env var
    begin object 1

[4] __construct = function(x, y){

      begin set by name
        begin function
          begin locals, total 4
            0 x (param)
            1 y (param)
            2 _E
            3 _G
          end locals

[5] this.x = x

          begin set property
            get local var x (0 0 param)
            push this
            push const string "x"
          end set property ret values 0


[6] this.y = y

          begin set property
            get local var y (1 0 param)
            push this
            push const string "y"
          end set property ret values 0
        end function
      end set by name: [__construct]
    end object
  end set env var Point


[10] Size = {

  begin set env var
    begin object 1

[11] __construct = function(width, height){

      begin set by name
        begin function
          begin locals, total 4
            0 width (param)
            1 height (param)
            2 _E
            3 _G
          end locals

[12] this.width = width

          begin set property
            get local var width (0 0 param)
            push this
            push const string "width"
          end set property ret values 0


[13] this.height = height

          begin set property
            get local var height (1 0 param)
            push this
            push const string "height"
          end set property ret values 0
        end function
      end set by name: [__construct]
    end object
  end set env var Size


[17] var counter = 0

  begin set local var
    push const number 0
  end set local var counter (2 0)


[19] FunctionNode = {

  begin set env var
    begin object 27

[20] __object = {

      begin set by name
        begin object 9

[21] time = 0

          begin set by name
            push const number 0
          end set by name: [time]
          ,

[22] timeSpeed = 1

          begin set by name
            push const number 1
          end set by name: [timeSpeed]
          ,

[24] __events = {}

          begin set by name
            begin object 0
            end object
          end set by name: [__events]
          ,

[25] __childrenNeg = {}

          begin set by name
            begin object 0
            end object
          end set by name: [__childrenNeg]
          ,

[26] __childrenPos = {}

          begin set by name
            begin object 0
            end object
          end set by name: [__childrenPos]
          ,

[27] __timers = {}

          begin set by name
            begin object 0
            end object
          end set by name: [__timers]
          ,

[28] __parent = null

          begin set by name
            const null
          end set by name: [__parent]
          ,

[29] __parentChildren = null

          begin set by name
            const null
          end set by name: [__parentChildren]
          ,

[30] __zOrder = 0

          begin set by name
            push const number 0
          end set by name: [__zOrder]
        end object
      end set by name: [__object]
      ,

[33] __get@parent = function(){return this.__parent}

      begin set by name
        begin function
          begin locals, total 2
            0 _E
            1 _G
          end locals
          begin return
            begin get this property by string
              push this
              push const string "__parent"
            end get this property by string ret values 1
          end return values 1
        end function
      end set by name: [__get@parent]
      ,

[34] __set@parent = function(a){

      begin set by name
        begin function
          begin locals, total 3
            0 a (param)
            1 _E
            2 _G
          end locals

[35] if(this.__parent !== a){

          begin if
            begin bool exp
              begin logic !==
                begin get this property by string
                  push this
                  push const string "__parent"
                end get this property by string ret values 1
                get local var a (0 0 param)
              end logic !==
            end bool exp
            begin then

[36] this.remove()

              begin scope
                begin pop
                  begin code list
                    begin call method
                      push this
                      begin params 1
                        push const string "remove"
                      end params ret values 1
                    end call method ret values 0


[37] a && a.insert(this)

                    begin logic &&
                      get local var a (0 0 param)
                      begin call method
                        get local var a (0 0 param)
                        begin params 2
                          push const string "insert"
                          ,
                          push this
                        end params ret values 2
                      end call method ret values 1
                    end logic &&
                  end code list ret values 1
                end pop ret values 0
              end scope ret values 0
            end then
          end if ret values 0
        end function
      end set by name: [__set@parent]
      ,

[41] __get@zOrder = function(){return this.__zOrder}

      begin set by name
        begin function
          begin locals, total 2
            0 _E
            1 _G
          end locals
          begin return
            begin get this property by string
              push this
              push const string "__zOrder"
            end get this property by string ret values 1
          end return values 1
        end function
      end set by name: [__get@zOrder]
      ,

[42] __set@zOrder = function(a){

      begin set by name
        begin function
          begin locals, total 3
            0 a (param)
            1 _E
            2 _G
          end locals

[43] a = math.round(a)

          begin set local var
            begin call method
              get env var math
              begin params 2
                push const string "round"
                ,
                get local var a (0 0 param)
              end params ret values 2
            end call method ret values 1
          end set local var a (0 0 param)


[44] if(this.__zOrder !== a){

          begin if
            begin bool exp
              begin logic !==
                begin get this property by string
                  push this
                  push const string "__zOrder"
                end get this property by string ret values 1
                get local var a (0 0 param)
              end logic !==
            end bool exp
            begin then

[45] this.__zOrder = a

              begin scope
                begin set property
                  get local var a (0 0 param)
                  push this
                  push const string "__zOrder"
                end set property ret values 0


[46] if(this.__parent){

                begin if
                  begin bool exp
                    begin get this property by string
                      push this
                      push const string "__parent"
                    end get this property by string ret values 1
                  end bool exp
                  begin then

[47] this.__parentChildren[this][0] = a

                    begin scope
                      begin set property
                        get local var a (0 0 param)
                        begin get property auto create
                          begin get property auto create
                            push this
                            push const string "__parentChildren"
                          end get property auto create ret values 1
                          push this
                        end get property auto create ret values 1
                        push const number 0
                      end set property ret values 0


[48] this.__parent.sortChildren(this.__parentChildren)

                      begin call method
                        begin get this property by string
                          push this
                          push const string "__parent"
                        end get this property by string ret values 1
                        begin params 2
                          push const string "sortChildren"
                          ,
                          begin get this property by string
                            push this
                            push const string "__parentChildren"
                          end get this property by string ret values 1
                        end params ret values 2
                      end call method ret values 0
                    end scope ret values 0
                  end then
                end if ret values 0
              end scope ret values 0
            end then
          end if ret values 0
        end function
      end set by name: [__set@zOrder]
      ,

[53] attrs: function(parsms){

      begin set by name
        begin function
          begin locals, total 7
            0 parsms (param)
            1 _E
            2 _G
          end locals

[54] for(var field, value in objectof parsms){

          begin scope
            begin locals 4
              3 field
              4 value
              5 #func
              6 #valid
            end locals
            new local var field (3 0)

            new local var value (4 0)

            new local var #func (5 0 temp)

            new local var #valid (6 0 temp)

            begin code list
              begin set local var
                begin call method
                  begin objectof
                    get local var parsms (0 0 param)
                  end objectof
                  begin params 1
                    push const string "__iter"
                  end params ret values 1
                end call method ret values 1
              end set local var #func (5 0 temp)

              begin loop
                begin set local var
                  begin set local var
                    begin set local var
                      begin call
                        get local var #func (5 0 temp)
                        begin params 0
                        end params ret values 0
                      end call ret values 3
                    end set local var value (4 0)
                  end set local var field (3 0)
                end set local var #valid (6 0 temp)

                begin if
                  begin bool exp
                    begin logic not
                      get local var #valid (6 0 temp)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[55] this[field] = value

                begin scope
                  begin set property
                    get local var value (4 0)
                    push this
                    get local var field (3 0)
                  end set property ret values 0
                end scope ret values 0
              end loop ret values 0
            end code list ret values 0
          end scope ret values 0


[57] return this

          begin code list
            begin return
              push this
            end return values 1
          end code list ret values 0
        end function
      end set by name: [attrs]
      ,

[60] sortChildren = function(children){

      begin set by name
        begin function
          begin locals, total 3
            0 children (param)
            1 _E
            2 _G
          end locals

[61] children.rsort(function(a b){

          begin call method
            get local var children (0 0 param)
            begin params 2
              push const string "rsort"
              ,
              begin function
                begin locals, total 5
                  0 a (param)
                  1 b (param)
                  2 _E
                  3 _G
                  4 z
                end locals

[62] var z = a[0] - b[0]

                begin set local var
                  begin operator -
                    begin get property by local & number
                      get local var a (0 0 param)
                      push const number 0
                    end get property by local & number ret values 1
                    begin get property by local & number
                      get local var b (1 0 param)
                      push const number 0
                    end get property by local & number ret values 1
                  end operator -
                end set local var z (4 0)


[63] return z != 0 ? z : a[1] - b[1]

                begin code list
                  begin return
                    begin question
                      begin bool exp
                        begin binary operator by local & number
                          begin logic !=
                            get local var z (4 0)
                            push const number 0
                          end logic !=
                        end binary operator by local & number
                      end bool exp
                      begin then value
                        get local var z (4 0)
                      end then value
                      begin else value
                        begin operator -
                          begin get property by local & number
                            get local var a (0 0 param)
                            push const number 1
                          end get property by local & number ret values 1
                          begin get property by local & number
                            get local var b (1 0 param)
                            push const number 1
                          end get property by local & number ret values 1
                        end operator -
                      end else value
                    end question ret values 1
                  end return values 1
                end code list ret values 0
              end function
            end params ret values 2
          end call method ret values 0
        end function
      end set by name: [sortChildren]
      ,

[67] insert = function(node, zOrder){

      begin set by name
        begin function
          begin locals, total 5
            0 node (param)
            1 zOrder (param)
            2 _E
            3 _G
            4 children
          end locals

[68] node.remove()

          begin call method
            get local var node (0 0 param)
            begin params 1
              push const string "remove"
            end params ret values 1
          end call method ret values 0


[70] if(zOrder){

          begin if
            begin bool exp
              get local var zOrder (1 0 param)
            end bool exp
            begin then

[71] zOrder = math.round(zOrder)

              begin scope
                begin set local var
                  begin call method
                    get env var math
                    begin params 2
                      push const string "round"
                      ,
                      get local var zOrder (1 0 param)
                    end params ret values 2
                  end call method ret values 1
                end set local var zOrder (1 0 param)


[72] node.__zOrder = zOrder

                begin set property
                  get local var zOrder (1 0 param)
                  get local var auto create node (0 0 param)
                  push const string "__zOrder"
                end set property ret values 0
              end scope ret values 0
            end then
            begin else

[74] zOrder = node.__zOrder

              begin set local var
                begin get property
                  get local var node (0 0 param)
                  push const string "__zOrder"
                end get property ret values 1
              end set local var zOrder (1 0 param)
            end else
          end if ret values 0


[76] var children = zOrder < 0 ? this.__childrenNeg : this.__childrenPos

          begin set local var
            begin question
              begin bool exp
                begin binary operator by local & number
                  begin logic <
                    get local var zOrder (1 0 param)
                    push const number 0
                  end logic <
                end binary operator by local & number
              end bool exp
              begin then value
                begin get this property by string
                  push this
                  push const string "__childrenNeg"
                end get this property by string ret values 1
              end then value
              begin else value
                begin get this property by string
                  push this
                  push const string "__childrenPos"
                end get this property by string ret values 1
              end else value
            end question ret values 1
          end set local var children (4 0)


[77] children[node] = [zOrder, ++counter]

          begin set property by locals auto create
            begin array 2
              begin set auto index
                get local var zOrder (1 0 param)
              end set auto index
              ,
              begin set auto index
                begin code list
                  begin set local var
                    begin operator +
                      get local var counter (2 1)
                      push const number 1
                    end operator +
                  end set local var counter (2 1)

                  get local var counter (2 1)
                end code list ret values 1
              end set auto index
            end array
            get local var auto create children (4 0)
            get local var node (0 0 param)
          end set property by locals auto create ret values 0


[78] this.sortChildren(children)

          begin call method
            push this
            begin params 2
              push const string "sortChildren"
              ,
              get local var children (4 0)
            end params ret values 2
          end call method ret values 0


[79] node.__parent = this

          begin set property
            push this
            get local var auto create node (0 0 param)
            push const string "__parent"
          end set property ret values 0


[80] node.__parentChildren = children

          begin set property
            get local var children (4 0)
            get local var auto create node (0 0 param)
            push const string "__parentChildren"
          end set property ret values 0


[81] node.triggerEvent("onEnter", {sender: node})

          begin call method
            get local var node (0 0 param)
            begin params 3
              push const string "triggerEvent"
              ,
              push const string "onEnter"
              ,
              begin object 1
                begin set by name
                  get local var node (0 0 param)
                end set by name: [sender]
              end object
            end params ret values 3
          end call method ret values 0


[82] return node

          begin code list
            begin return
              get local var node (0 0 param)
            end return values 1
          end code list ret values 0
        end function
      end set by name: [insert]
      ,

[85] insertTo = function(newParent, zOrder){

      begin set by name
        begin function
          begin locals, total 4
            0 newParent (param)
            1 zOrder (param)
            2 _E
            3 _G
          end locals

[86] return newParent.insert(this, zOrder)

          begin tail call method
            get local var newParent (0 0 param)
            begin params 3
              push const string "insert"
              ,
              push this
              ,
              get local var zOrder (1 0 param)
            end params ret values 3
          end tail call method
        end function
      end set by name: [insertTo]
      ,

[89] remove = function(node){

      begin set by name
        begin function
          begin locals, total 3
            0 node (param)
            1 _E
            2 _G
          end locals

[90] node = node || this

          begin set local var
            begin logic ||
              get local var node (0 0 param)
              push this
            end logic ||
          end set local var node (0 0 param)


[91] if(node.__parent){

          begin if
            begin bool exp
              begin get property
                get local var node (0 0 param)
                push const string "__parent"
              end get property ret values 1
            end bool exp
            begin then

[92] node.triggerEvent("onExit", {sender: node})

              begin scope
                begin call method
                  get local var node (0 0 param)
                  begin params 3
                    push const string "triggerEvent"
                    ,
                    push const string "onExit"
                    ,
                    begin object 1
                      begin set by name
                        get local var node (0 0 param)
                      end set by name: [sender]
                    end object
                  end params ret values 3
                end call method ret values 0


[93] delete node.__parentChildren[node]

                begin delete
                  begin get property
                    get local var node (0 0 param)
                    push const string "__parentChildren"
                  end get property ret values 1
                  get local var node (0 0 param)
                end delete


[94] node.__parent = null

                begin set property
                  const null
                  get local var auto create node (0 0 param)
                  push const string "__parent"
                end set property ret values 0


[95] node.__parentChildren = null

                begin set property
                  const null
                  get local var auto create node (0 0 param)
                  push const string "__parentChildren"
                end set property ret values 0
              end scope ret values 0
            end then
          end if ret values 0
        end function
      end set by name: [remove]
      ,

[99] removeAll = function(){

      begin set by name
        begin function
          begin locals, total 2
            0 _E
            1 _G
          end locals

[100] this.__childrenNeg, this.__childrenPos = {}, {}

          begin set property
            begin set property
              begin params 2
                begin object 0
                end object
                ,
                begin object 0
                end object
              end params ret values 2
              push this
              push const string "__childrenPos"
            end set property ret values 1
            push this
            push const string "__childrenNeg"
          end set property ret values 0
        end function
      end set by name: [removeAll]
      ,

[103] contains = function(node){

      begin set by name
        begin function
          begin locals, total 3
            0 node (param)
            1 _E
            2 _G
          end locals

[104] return node in this.__childrenNeg || node in this.__childrenPos

          begin return
            begin logic ||
              begin in
                get local var node (0 0 param)
                begin get this property by string
                  push this
                  push const string "__childrenNeg"
                end get this property by string ret values 1
              end in
              begin in
                get local var node (0 0 param)
                begin get this property by string
                  push this
                  push const string "__childrenPos"
                end get this property by string ret values 1
              end in
            end logic ||
          end return values 1
        end function
      end set by name: [contains]
      ,

[107] handleUpdate = function(params){

      begin set by name
        begin function
          begin locals, total 13
            0 params (param)
            1 _E
            2 _G
            3 deltaTime
          end locals

[108] var deltaTime = params.deltaTime

          begin set local var
            begin get property
              get local var params (0 0 param)
              push const string "deltaTime"
            end get property ret values 1
          end set local var deltaTime (3 0)


[109] params.deltaTime = deltaTime * this.timeSpeed

          begin set property
            begin operator *
              get local var deltaTime (3 0)
              begin get this property by string
                push this
                push const string "timeSpeed"
              end get this property by string ret values 1
            end operator *
            get local var auto create params (0 0 param)
            push const string "deltaTime"
          end set property ret values 0


[110] this.time = this.time + params.deltaTime

          begin set property
            begin operator +
              begin get this property by string
                push this
                push const string "time"
              end get this property by string ret values 1
              begin get property
                get local var params (0 0 param)
                push const string "deltaTime"
              end get property ret values 1
            end operator +
            push this
            push const string "time"
          end set property ret values 0


[111] this.updateTimers(params)

          begin call method
            push this
            begin params 2
              push const string "updateTimers"
              ,
              get local var params (0 0 param)
            end params ret values 2
          end call method ret values 0


[112] for(var child in this.__childrenPos){

          begin scope
            begin locals 3
              4 child
              5 #func
              6 #valid
            end locals
            new local var child (4 0)

            new local var #func (5 0 temp)

            new local var #valid (6 0 temp)

            begin code list
              begin set local var
                begin call method
                  begin get this property by string
                    push this
                    push const string "__childrenPos"
                  end get this property by string ret values 1
                  begin params 1
                    push const string "__iter"
                  end params ret values 1
                end call method ret values 1
              end set local var #func (5 0 temp)

              begin loop
                begin set local var
                  begin set local var
                    begin call
                      get local var #func (5 0 temp)
                      begin params 0
                      end params ret values 0
                    end call ret values 2
                  end set local var child (4 0)
                end set local var #valid (6 0 temp)

                begin if
                  begin bool exp
                    begin logic not
                      get local var #valid (6 0 temp)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[113] child.handleUpdate(params)

                begin scope
                  begin call method
                    get local var child (4 0)
                    begin params 2
                      push const string "handleUpdate"
                      ,
                      get local var params (0 0 param)
                    end params ret values 2
                  end call method ret values 0
                end scope ret values 0
              end loop ret values 0
            end code list ret values 0
          end scope ret values 0


[115] if("enterFrame" in this.__events){

          begin if
            begin bool exp
              begin in
                push const string "enterFrame"
                begin get this property by string
                  push this
                  push const string "__events"
                end get this property by string ret values 1
              end in
            end bool exp
            begin then

[117] for(var func in this.__events["enterFrame"]){

              begin scope
                begin scope
                  begin locals 3
                    7 func
                    8 #func
                    9 #valid
                  end locals
                  new local var func (7 0)

                  new local var #func (8 0 temp)

                  new local var #valid (9 0 temp)

                  begin code list
                    begin set local var
                      begin call method
                        begin get property
                          begin get this property by string
                            push this
                            push const string "__events"
                          end get this property by string ret values 1
                          push const string "enterFrame"
                        end get property ret values 1
                        begin params 1
                          push const string "__iter"
                        end params ret values 1
                      end call method ret values 1
                    end set local var #func (8 0 temp)

                    begin loop
                      begin set local var
                        begin set local var
                          begin call
                            get local var #func (8 0 temp)
                            begin params 0
                            end params ret values 0
                          end call ret values 2
                        end set local var func (7 0)
                      end set local var #valid (9 0 temp)

                      begin if
                        begin bool exp
                          begin logic not
                            get local var #valid (9 0 temp)
                          end logic not
                        end bool exp
                        begin then
                          break
                        end then
                      end if ret values 0


[118] func.call(this, params)

                      begin scope
                        begin call method
                          get local var func (7 0)
                          begin params 3
                            push const string "call"
                            ,
                            push this
                            ,
                            get local var params (0 0 param)
                          end params ret values 3
                        end call method ret values 0
                      end scope ret values 0
                    end loop ret values 0
                  end code list ret values 0
                end scope ret values 0
              end scope ret values 0
            end then
          end if ret values 0


[121] for(var child in this.__childrenNeg){

          begin scope
            begin locals 3
              10 child
              11 #func
              12 #valid
            end locals
            new local var child (10 0)

            new local var #func (11 0 temp)

            new local var #valid (12 0 temp)

            begin code list
              begin set local var
                begin call method
                  begin get this property by string
                    push this
                    push const string "__childrenNeg"
                  end get this property by string ret values 1
                  begin params 1
                    push const string "__iter"
                  end params ret values 1
                end call method ret values 1
              end set local var #func (11 0 temp)

              begin loop
                begin set local var
                  begin set local var
                    begin call
                      get local var #func (11 0 temp)
                      begin params 0
                      end params ret values 0
                    end call ret values 2
                  end set local var child (10 0)
                end set local var #valid (12 0 temp)

                begin if
                  begin bool exp
                    begin logic not
                      get local var #valid (12 0 temp)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[122] child.handleUpdate(params)

                begin scope
                  begin call method
                    get local var child (10 0)
                    begin params 2
                      push const string "handleUpdate"
                      ,
                      get local var params (0 0 param)
                    end params ret values 2
                  end call method ret values 0
                end scope ret values 0
              end loop ret values 0
            end code list ret values 0
          end scope ret values 0


[124] params.deltaTime = deltaTime

          begin set property
            get local var deltaTime (3 0)
            get local var auto create params (0 0 param)
            push const string "deltaTime"
          end set property ret values 0
        end function
      end set by name: [handleUpdate]
      ,

[127] handlePaint = function(){}

      begin set by name
        begin function
          begin locals, total 2
            0 _E
            1 _G
          end locals
        end function
      end set by name: [handlePaint]
      ,

[128] handleTouch = function(){}

      begin set by name
        begin function
          begin locals, total 2
            0 _E
            1 _G
          end locals
        end function
      end set by name: [handleTouch]
      ,

[129] handleKeyEvent = function(){}

      begin set by name
        begin function
          begin locals, total 2
            0 _E
            1 _G
          end locals
        end function
      end set by name: [handleKeyEvent]
      ,

[131] addEventListener = function(eventName, func, zOrder){

      begin set by name
        begin function
          begin locals, total 5
            0 eventName (param)
            1 func (param)
            2 zOrder (param)
            3 _E
            4 _G
          end locals

[132] functionof func || return;

          begin pop
            begin logic ||
              begin functionof
                get local var func (1 0 param)
              end functionof
              begin code list
                return
              end code list ret values 1
            end logic ||
          end pop ret values 0


[133] this.__events[eventName][func] = zOrder || 0

          begin set property
            begin logic ||
              get local var zOrder (2 0 param)
              push const number 0
            end logic ||
            begin get property auto create
              begin get property auto create
                push this
                push const string "__events"
              end get property auto create ret values 1
              get local var eventName (0 0 param)
            end get property auto create ret values 1
            get local var func (1 0 param)
          end set property ret values 0


[134] this.__events[eventName].rsort()

          begin call method
            begin get property
              begin get this property by string
                push this
                push const string "__events"
              end get this property by string ret values 1
              get local var eventName (0 0 param)
            end get property ret values 1
            begin params 1
              push const string "rsort"
            end params ret values 1
          end call method ret values 0


[135] return [eventName, func]

          begin code list
            begin return
              begin array 2
                begin set auto index
                  get local var eventName (0 0 param)
                end set auto index
                ,
                begin set auto index
                  get local var func (1 0 param)
                end set auto index
              end array
            end return values 1
          end code list ret values 0
        end function
      end set by name: [addEventListener]
      ,

[138] removeEventListener = function(eventName, func){

      begin set by name
        begin function
          begin locals, total 4
            0 eventName (param)
            1 func (param)
            2 _E
            3 _G
          end locals

[139] if(arrayof eventName){

          begin if
            begin bool exp
              begin arrayof
                get local var eventName (0 0 param)
              end arrayof
            end bool exp
            begin then

[140] eventName, func = eventName[0], eventName[1]

              begin scope
                begin set local var
                  begin set local var
                    begin params 2
                      begin get property by local & number
                        get local var eventName (0 0 param)
                        push const number 0
                      end get property by local & number ret values 1
                      ,
                      begin get property by local & number
                        get local var eventName (0 0 param)
                        push const number 1
                      end get property by local & number ret values 1
                    end params ret values 2
                  end set local var func (1 0 param)
                end set local var eventName (0 0 param)
              end scope ret values 0
            end then
          end if ret values 0


[142] if(eventName in this.__events){

          begin if
            begin bool exp
              begin in
                get local var eventName (0 0 param)
                begin get this property by string
                  push this
                  push const string "__events"
                end get this property by string ret values 1
              end in
            end bool exp
            begin then

[143] delete this.__events[eventName][func]

              begin scope
                begin delete
                  begin get property
                    begin get this property by string
                      push this
                      push const string "__events"
                    end get this property by string ret values 1
                    get local var eventName (0 0 param)
                  end get property ret values 1
                  get local var func (1 0 param)
                end delete
              end scope ret values 0
            end then
          end if ret values 0
        end function
      end set by name: [removeEventListener]
      ,

[147] triggerLocalEvent = function(eventName, params){

      begin set by name
        begin function
          begin locals, total 7
            0 eventName (param)
            1 params (param)
            2 _E
            3 _G
          end locals

[148] if(eventName in this.__events){

          begin if
            begin bool exp
              begin in
                get local var eventName (0 0 param)
                begin get this property by string
                  push this
                  push const string "__events"
                end get this property by string ret values 1
              end in
            end bool exp
            begin then

[150] for(var func in this.__events[eventName]){

              begin scope
                begin scope
                  begin locals 3
                    4 func
                    5 #func
                    6 #valid
                  end locals
                  new local var func (4 0)

                  new local var #func (5 0 temp)

                  new local var #valid (6 0 temp)

                  begin code list
                    begin set local var
                      begin call method
                        begin get property
                          begin get this property by string
                            push this
                            push const string "__events"
                          end get this property by string ret values 1
                          get local var eventName (0 0 param)
                        end get property ret values 1
                        begin params 1
                          push const string "__iter"
                        end params ret values 1
                      end call method ret values 1
                    end set local var #func (5 0 temp)

                    begin loop
                      begin set local var
                        begin set local var
                          begin call
                            get local var #func (5 0 temp)
                            begin params 0
                            end params ret values 0
                          end call ret values 2
                        end set local var func (4 0)
                      end set local var #valid (6 0 temp)

                      begin if
                        begin bool exp
                          begin logic not
                            get local var #valid (6 0 temp)
                          end logic not
                        end bool exp
                        begin then
                          break
                        end then
                      end if ret values 0


[151] func.call(this, params)

                      begin scope
                        begin call method
                          get local var func (4 0)
                          begin params 3
                            push const string "call"
                            ,
                            push this
                            ,
                            get local var params (1 0 param)
                          end params ret values 3
                        end call method ret values 0
                      end scope ret values 0
                    end loop ret values 0
                  end code list ret values 0
                end scope ret values 0
              end scope ret values 0
            end then
          end if ret values 0
        end function
      end set by name: [triggerLocalEvent]
      ,

[156] triggerEvent = function(eventName, params){

      begin set by name
        begin function
          begin locals, total 13
            0 eventName (param)
            1 params (param)
            2 _E
            3 _G
          end locals

[157] for(var child in this.__childrenPos){

          begin scope
            begin locals 3
              4 child
              5 #func
              6 #valid
            end locals
            new local var child (4 0)

            new local var #func (5 0 temp)

            new local var #valid (6 0 temp)

            begin code list
              begin set local var
                begin call method
                  begin get this property by string
                    push this
                    push const string "__childrenPos"
                  end get this property by string ret values 1
                  begin params 1
                    push const string "__iter"
                  end params ret values 1
                end call method ret values 1
              end set local var #func (5 0 temp)

              begin loop
                begin set local var
                  begin set local var
                    begin call
                      get local var #func (5 0 temp)
                      begin params 0
                      end params ret values 0
                    end call ret values 2
                  end set local var child (4 0)
                end set local var #valid (6 0 temp)

                begin if
                  begin bool exp
                    begin logic not
                      get local var #valid (6 0 temp)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[158] child.triggerEvent(eventName, params)

                begin scope
                  begin call method
                    get local var child (4 0)
                    begin params 3
                      push const string "triggerEvent"
                      ,
                      get local var eventName (0 0 param)
                      ,
                      get local var params (1 0 param)
                    end params ret values 3
                  end call method ret values 0
                end scope ret values 0
              end loop ret values 0
            end code list ret values 0
          end scope ret values 0


[160] if(eventName in this.__events){

          begin if
            begin bool exp
              begin in
                get local var eventName (0 0 param)
                begin get this property by string
                  push this
                  push const string "__events"
                end get this property by string ret values 1
              end in
            end bool exp
            begin then

[162] for(var func in this.__events[eventName]){

              begin scope
                begin scope
                  begin locals 3
                    7 func
                    8 #func
                    9 #valid
                  end locals
                  new local var func (7 0)

                  new local var #func (8 0 temp)

                  new local var #valid (9 0 temp)

                  begin code list
                    begin set local var
                      begin call method
                        begin get property
                          begin get this property by string
                            push this
                            push const string "__events"
                          end get this property by string ret values 1
                          get local var eventName (0 0 param)
                        end get property ret values 1
                        begin params 1
                          push const string "__iter"
                        end params ret values 1
                      end call method ret values 1
                    end set local var #func (8 0 temp)

                    begin loop
                      begin set local var
                        begin set local var
                          begin call
                            get local var #func (8 0 temp)
                            begin params 0
                            end params ret values 0
                          end call ret values 2
                        end set local var func (7 0)
                      end set local var #valid (9 0 temp)

                      begin if
                        begin bool exp
                          begin logic not
                            get local var #valid (9 0 temp)
                          end logic not
                        end bool exp
                        begin then
                          break
                        end then
                      end if ret values 0


[163] func.call(this, params)

                      begin scope
                        begin call method
                          get local var func (7 0)
                          begin params 3
                            push const string "call"
                            ,
                            push this
                            ,
                            get local var params (1 0 param)
                          end params ret values 3
                        end call method ret values 0
                      end scope ret values 0
                    end loop ret values 0
                  end code list ret values 0
                end scope ret values 0
              end scope ret values 0
            end then
          end if ret values 0


[166] for(var child in this.__childrenNeg){

          begin scope
            begin locals 3
              10 child
              11 #func
              12 #valid
            end locals
            new local var child (10 0)

            new local var #func (11 0 temp)

            new local var #valid (12 0 temp)

            begin code list
              begin set local var
                begin call method
                  begin get this property by string
                    push this
                    push const string "__childrenNeg"
                  end get this property by string ret values 1
                  begin params 1
                    push const string "__iter"
                  end params ret values 1
                end call method ret values 1
              end set local var #func (11 0 temp)

              begin loop
                begin set local var
                  begin set local var
                    begin call
                      get local var #func (11 0 temp)
                      begin params 0
                      end params ret values 0
                    end call ret values 2
                  end set local var child (10 0)
                end set local var #valid (12 0 temp)

                begin if
                  begin bool exp
                    begin logic not
                      get local var #valid (12 0 temp)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[167] child.triggerEvent(eventName, params)

                begin scope
                  begin call method
                    get local var child (10 0)
                    begin params 3
                      push const string "triggerEvent"
                      ,
                      get local var eventName (0 0 param)
                      ,
                      get local var params (1 0 param)
                    end params ret values 3
                  end call method ret values 0
                end scope ret values 0
              end loop ret values 0
            end code list ret values 0
          end scope ret values 0
        end function
      end set by name: [triggerEvent]
      ,

[171] setTimeout = function(func, delay, count, priority){

      begin set by name
        begin function
          begin locals, total 6
            0 func (param)
            1 delay (param)
            2 count (param)
            3 priority (param)
            4 _E
            5 _G
          end locals

[172] count = count || 1

          begin set local var
            begin logic ||
              get local var count (2 0 param)
              push const number 1
            end logic ||
          end set local var count (2 0 param)


[173] count > 0 && functionof func || return;

          begin pop
            begin logic ||
              begin logic &&
                begin binary operator by local & number
                  begin logic >
                    get local var count (2 0 param)
                    push const number 0
                  end logic >
                end binary operator by local & number
                begin functionof
                  get local var func (0 0 param)
                end functionof
              end logic &&
              begin code list
                return
              end code list ret values 1
            end logic ||
          end pop ret values 0


[174] this.__timers[func] = {

          begin set property
            begin object 4

[175] nextTime = this.time + delay

              begin set by name
                begin operator +
                  begin get this property by string
                    push this
                    push const string "time"
                  end get this property by string ret values 1
                  get local var delay (1 0 param)
                end operator +
              end set by name: [nextTime]
              ,

[176] delay = delay

              begin set by name
                get local var delay (1 0 param)
              end set by name: [delay]
              ,

[177] count = count

              begin set by name
                get local var count (2 0 param)
              end set by name: [count]
              ,

[178] priority = priority || 0

              begin set by name
                begin logic ||
                  get local var priority (3 0 param)
                  push const number 0
                end logic ||
              end set by name: [priority]
            end object

[174] this.__timers[func] = {

            begin get property auto create
              push this
              push const string "__timers"
            end get property auto create ret values 1
            get local var func (0 0 param)
          end set property ret values 0


[180] this.__timers.rsort "priority"

          begin call method
            begin get this property by string
              push this
              push const string "__timers"
            end get this property by string ret values 1
            begin params 2
              push const string "rsort"
              ,
              push const string "priority"
            end params ret values 2
          end call method ret values 0


[181] return func

          begin code list
            begin return
              get local var func (0 0 param)
            end return values 1
          end code list ret values 0
        end function
      end set by name: [setTimeout]
      ,

[184] clearTimeout = function(t){

      begin set by name
        begin function
          begin locals, total 3
            0 t (param)
            1 _E
            2 _G
          end locals

[185] delete this.__timers[t]

          begin delete
            begin get this property by string
              push this
              push const string "__timers"
            end get this property by string ret values 1
            get local var t (0 0 param)
          end delete
        end function
      end set by name: [clearTimeout]
      ,

[188] updateTimers = function(){

      begin set by name
        begin function
          begin locals, total 7
            0 _E
            1 _G
            2 time
          end locals

[189] var time = this.time

          begin set local var
            begin get this property by string
              push this
              push const string "time"
            end get this property by string ret values 1
          end set local var time (2 0)


[190] for(var func, t in this.__timers){

          begin scope
            begin locals 4
              3 func
              4 t
              5 #func
              6 #valid
            end locals
            new local var func (3 0)

            new local var t (4 0)

            new local var #func (5 0 temp)

            new local var #valid (6 0 temp)

            begin code list
              begin set local var
                begin call method
                  begin get this property by string
                    push this
                    push const string "__timers"
                  end get this property by string ret values 1
                  begin params 1
                    push const string "__iter"
                  end params ret values 1
                end call method ret values 1
              end set local var #func (5 0 temp)

              begin loop
                begin set local var
                  begin set local var
                    begin set local var
                      begin call
                        get local var #func (5 0 temp)
                        begin params 0
                        end params ret values 0
                      end call ret values 3
                    end set local var t (4 0)
                  end set local var func (3 0)
                end set local var #valid (6 0 temp)

                begin if
                  begin bool exp
                    begin logic not
                      get local var #valid (6 0 temp)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[191] if(t.nextTime <= time){

                begin scope
                  begin if
                    begin bool exp
                      begin logic <=
                        begin get property
                          get local var t (4 0)
                          push const string "nextTime"
                        end get property ret values 1
                        get local var time (2 0)
                      end logic <=
                    end bool exp
                    begin then

[193] t.nextTime = time + t.delay

                      begin scope
                        begin set property
                          begin operator +
                            get local var time (2 0)
                            begin get property
                              get local var t (4 0)
                              push const string "delay"
                            end get property ret values 1
                          end operator +
                          get local var auto create t (4 0)
                          push const string "nextTime"
                        end set property ret values 0


[194] if(t.count === true){

                        begin if
                          begin bool exp
                            begin logic ===
                              begin get property
                                get local var t (4 0)
                                push const string "count"
                              end get property ret values 1
                              const true
                            end logic ===
                          end bool exp
                          begin then

[195] func.call(this)

                            begin scope
                              begin call method
                                get local var func (3 0)
                                begin params 2
                                  push const string "call"
                                  ,
                                  push this
                                end params ret values 2
                              end call method ret values 0
                            end scope ret values 0
                          end then
                          begin else

[197] if(t.count <= 1){

                            begin scope
                              begin if
                                begin bool exp
                                  begin logic <=
                                    begin get property
                                      get local var t (4 0)
                                      push const string "count"
                                    end get property ret values 1
                                    push const number 1
                                  end logic <=
                                end bool exp
                                begin then

[198] delete this.__timers[func]

                                  begin scope
                                    begin delete
                                      begin get this property by string
                                        push this
                                        push const string "__timers"
                                      end get this property by string ret values 1
                                      get local var func (3 0)
                                    end delete
                                  end scope ret values 0
                                end then
                                begin else

[200] t.count = t.count - 1

                                  begin scope
                                    begin set property
                                      begin operator -
                                        begin get property
                                          get local var t (4 0)
                                          push const string "count"
                                        end get property ret values 1
                                        push const number 1
                                      end operator -
                                      get local var auto create t (4 0)
                                      push const string "count"
                                    end set property ret values 0
                                  end scope ret values 0
                                end else
                              end if ret values 0


[202] func.call(this)

                              begin call method
                                get local var func (3 0)
                                begin params 2
                                  push const string "call"
                                  ,
                                  push this
                                end params ret values 2
                              end call method ret values 0
                            end scope ret values 0
                          end else
                        end if ret values 0
                      end scope ret values 0
                    end then
                  end if ret values 0
                end scope ret values 0
              end loop ret values 0
            end code list ret values 0
          end scope ret values 0
        end function
      end set by name: [updateTimers]
      ,

[208] transition = function(t){

      begin set by name
        begin function
          begin locals, total 3
            0 t (param)
            1 _E
            2 _G
          end locals

[209] return this.insert(Transition(t, this))

          begin tail call method
            push this
            begin params 2
              push const string "insert"
              ,
              begin call method
                get local var _E (1 0)
                begin params 3
                  push const string "Transition"
                  ,
                  get local var t (0 0 param)
                  ,
                  push this
                end params ret values 3
              end call method ret values 1
            end params ret values 2
          end tail call method
        end function
      end set by name: [transition]
      ,

[212] stopTransition = function(t){

      begin set by name
        begin function
          begin locals, total 3
            0 t (param)
            1 _E
            2 _G
          end locals

[213] t && t.remove()

          begin pop
            begin logic &&
              get local var t (0 0 param)
              begin call method
                get local var t (0 0 param)
                begin params 1
                  push const string "remove"
                end params ret values 1
              end call method ret values 1
            end logic &&
          end pop ret values 0
        end function
      end set by name: [stopTransition]
      ,

[216] stopAllTransitions = function(){

      begin set by name
        begin function
          begin locals, total 2
            0 _E
            1 _G
          end locals

[217] this.removeAllInstancesOf(Transition)

          begin call method
            push this
            begin params 2
              push const string "removeAllInstancesOf"
              ,
              get env var Transition
            end params ret values 2
          end call method ret values 0
        end function
      end set by name: [stopAllTransitions]
      ,

[220] removeAllInstancesOf = function(type){

      begin set by name
        begin function
          begin locals, total 9
            0 type (param)
            1 _E
            2 _G
          end locals

[221] for(var t in this.__childrenPos){

          begin scope
            begin locals 3
              3 t
              4 #func
              5 #valid
            end locals
            new local var t (3 0)

            new local var #func (4 0 temp)

            new local var #valid (5 0 temp)

            begin code list
              begin set local var
                begin call method
                  begin get this property by string
                    push this
                    push const string "__childrenPos"
                  end get this property by string ret values 1
                  begin params 1
                    push const string "__iter"
                  end params ret values 1
                end call method ret values 1
              end set local var #func (4 0 temp)

              begin loop
                begin set local var
                  begin set local var
                    begin call
                      get local var #func (4 0 temp)
                      begin params 0
                      end params ret values 0
                    end call ret values 2
                  end set local var t (3 0)
                end set local var #valid (5 0 temp)

                begin if
                  begin bool exp
                    begin logic not
                      get local var #valid (5 0 temp)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[222] if(t is type)

                begin scope
                  begin if
                    begin bool exp
                      begin is
                        get local var t (3 0)
                        get local var type (0 0 param)
                      end is
                    end bool exp
                    begin then

[223] t.remove()

                      begin call method
                        get local var t (3 0)
                        begin params 1
                          push const string "remove"
                        end params ret values 1
                      end call method ret values 0
                    end then
                  end if ret values 0
                end scope ret values 0
              end loop ret values 0
            end code list ret values 0
          end scope ret values 0


[225] for(var t in this.__childrenNeg){

          begin scope
            begin locals 3
              6 t
              7 #func
              8 #valid
            end locals
            new local var t (6 0)

            new local var #func (7 0 temp)

            new local var #valid (8 0 temp)

            begin code list
              begin set local var
                begin call method
                  begin get this property by string
                    push this
                    push const string "__childrenNeg"
                  end get this property by string ret values 1
                  begin params 1
                    push const string "__iter"
                  end params ret values 1
                end call method ret values 1
              end set local var #func (7 0 temp)

              begin loop
                begin set local var
                  begin set local var
                    begin call
                      get local var #func (7 0 temp)
                      begin params 0
                      end params ret values 0
                    end call ret values 2
                  end set local var t (6 0)
                end set local var #valid (8 0 temp)

                begin if
                  begin bool exp
                    begin logic not
                      get local var #valid (8 0 temp)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[226] if(t is type)

                begin scope
                  begin if
                    begin bool exp
                      begin is
                        get local var t (6 0)
                        get local var type (0 0 param)
                      end is
                    end bool exp
                    begin then

[227] t.remove()

                      begin call method
                        get local var t (6 0)
                        begin params 1
                          push const string "remove"
                        end params ret values 1
                      end call method ret values 0
                    end then
                  end if ret values 0
                end scope ret values 0
              end loop ret values 0
            end code list ret values 0
          end scope ret values 0
        end function
      end set by name: [removeAllInstancesOf]
    end object
  end set env var FunctionNode


[232] Node = extends FunctionNode {

  begin set env var
    begin extends
      get env var FunctionNode
      begin object 47

[233] __object = {

        begin set by name
          begin object 21

[234] visible = true

            begin set by name
              const true
            end set by name: [visible]
            ,

[235] modal = false

            begin set by name
              const false
            end set by name: [modal]
            ,

[236] opacity = 1

            begin set by name
              push const number 1
            end set by name: [opacity]
            ,

[237] color = null

            begin set by name
              const null
            end set by name: [color]
            ,

[239] __isRelativeAnchor = true

            begin set by name
              const true
            end set by name: [__isRelativeAnchor]
            ,

[240] __x = 0

            begin set by name
              push const number 0
            end set by name: [__x]
            ,

[241] __y = 0

            begin set by name
              push const number 0
            end set by name: [__y]
            ,

[242] __width = 0

            begin set by name
              push const number 0
            end set by name: [__width]
            ,

[243] __height = 0

            begin set by name
              push const number 0
            end set by name: [__height]
            ,

[244] __scaleX = 1

            begin set by name
              push const number 1
            end set by name: [__scaleX]
            ,

[245] __scaleY = 1

            begin set by name
              push const number 1
            end set by name: [__scaleY]
            ,

[246] __skewX = 0

            begin set by name
              push const number 0
            end set by name: [__skewX]
            ,

[247] __skewY = 0

            begin set by name
              push const number 0
            end set by name: [__skewY]
            ,

[248] __anchorX = 0.5

            begin set by name
              push const number 0.5
            end set by name: [__anchorX]
            ,

[249] __anchorY = 0.5

            begin set by name
              push const number 0.5
            end set by name: [__anchorY]
            ,

[250] __rotation = 0

            begin set by name
              push const number 0
            end set by name: [__rotation]
            ,

[252] __transformDirty = true

            begin set by name
              const true
            end set by name: [__transformDirty]
            ,

[253] __transform = null // node to parent

            begin set by name
              const null
            end set by name: [__transform]
            ,

[254] __inverseDirty = true

            begin set by name
              const true
            end set by name: [__inverseDirty]
            ,

[255] __inverseTransform = null // parent to node

            begin set by name
              const null
            end set by name: [__inverseTransform]
            ,

[256] __transformGL = null // node to parent (GL)

            begin set by name
              const null
            end set by name: [__transformGL]
          end object
        end set by name: [__object]
        ,

[259] __get@x = function(){return this.__x}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get this property by string
                push this
                push const string "__x"
              end get this property by string ret values 1
            end return values 1
          end function
        end set by name: [__get@x]
        ,

[260] __set@x = function(a){if(this.__x !== a){ this.__x = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get this property by string
                    push this
                    push const string "__x"
                  end get this property by string ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__x"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@x]
        ,

[262] __get@y = function(){return this.__y}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get this property by string
                push this
                push const string "__y"
              end get this property by string ret values 1
            end return values 1
          end function
        end set by name: [__get@y]
        ,

[263] __set@y = function(a){if(this.__y !== a){ this.__y = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get this property by string
                    push this
                    push const string "__y"
                  end get this property by string ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__y"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@y]
        ,

[265] __get@position = function(){return Point(this.__x this.__y)}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin tail call method
              get local var _E (0 0)
              begin params 3
                push const string "Point"
                ,
                begin get this property by string
                  push this
                  push const string "__x"
                end get this property by string ret values 1
                ,
                begin get this property by string
                  push this
                  push const string "__y"
                end get this property by string ret values 1
              end params ret values 3
            end tail call method
          end function
        end set by name: [__get@position]
        ,

[266] __set@position = function(a){ this.x, this.y = a.x, a.y }

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin set property
              begin set property
                begin params 2
                  begin get property
                    get local var a (0 0 param)
                    push const string "x"
                  end get property ret values 1
                  ,
                  begin get property
                    get local var a (0 0 param)
                    push const string "y"
                  end get property ret values 1
                end params ret values 2
                push this
                push const string "y"
              end set property ret values 1
              push this
              push const string "x"
            end set property ret values 0
          end function
        end set by name: [__set@position]
        ,

[268] __get@width = function(){return this.__width}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get this property by string
                push this
                push const string "__width"
              end get this property by string ret values 1
            end return values 1
          end function
        end set by name: [__get@width]
        ,

[269] __set@width = function(a){if(this.__width !== a){ this.__width = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get this property by string
                    push this
                    push const string "__width"
                  end get this property by string ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__width"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@width]
        ,

[271] __get@height = function(){return this.__height}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get this property by string
                push this
                push const string "__height"
              end get this property by string ret values 1
            end return values 1
          end function
        end set by name: [__get@height]
        ,

[272] __set@height = function(a){if(this.__height !== a){ this.__height = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get this property by string
                    push this
                    push const string "__height"
                  end get this property by string ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__height"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@height]
        ,

[274] __get@scaleX = function(){return this.__scaleX}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get this property by string
                push this
                push const string "__scaleX"
              end get this property by string ret values 1
            end return values 1
          end function
        end set by name: [__get@scaleX]
        ,

[275] __set@scaleX = function(a){if(this.__scaleX !== a){ this.__scaleX = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get this property by string
                    push this
                    push const string "__scaleX"
                  end get this property by string ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__scaleX"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@scaleX]
        ,

[277] __get@scaleY = function(){return this.__scaleY}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get this property by string
                push this
                push const string "__scaleY"
              end get this property by string ret values 1
            end return values 1
          end function
        end set by name: [__get@scaleY]
        ,

[278] __set@scaleY = function(a){if(this.__scaleY !== a){ this.__scaleY = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get this property by string
                    push this
                    push const string "__scaleY"
                  end get this property by string ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__scaleY"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@scaleY]
        ,

[280] __get@scale = function(){return this.__scaleX} // Point(this.__scaleX this.__scaleY)}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get this property by string
                push this
                push const string "__scaleX"
              end get this property by string ret values 1
            end return values 1
          end function
        end set by name: [__get@scale]
        ,

[281] __set@scale = function(a){

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals

[282] if(numberof a){

            begin if
              begin bool exp
                begin numberof
                  get local var a (0 0 param)
                end numberof
              end bool exp
              begin then

[283] this.scaleX, this.scaleY = a, a

                begin scope
                  begin set property
                    begin set property
                      begin params 2
                        get local var a (0 0 param)
                        ,
                        get local var a (0 0 param)
                      end params ret values 2
                      push this
                      push const string "scaleY"
                    end set property ret values 1
                    push this
                    push const string "scaleX"
                  end set property ret values 0
                end scope ret values 0
              end then
              begin else

[285] this.scaleX, this.scaleY = a.x, a.y

                begin scope
                  begin set property
                    begin set property
                      begin params 2
                        begin get property
                          get local var a (0 0 param)
                          push const string "x"
                        end get property ret values 1
                        ,
                        begin get property
                          get local var a (0 0 param)
                          push const string "y"
                        end get property ret values 1
                      end params ret values 2
                      push this
                      push const string "scaleY"
                    end set property ret values 1
                    push this
                    push const string "scaleX"
                  end set property ret values 0
                end scope ret values 0
              end else
            end if ret values 0
          end function
        end set by name: [__set@scale]
        ,

[289] __get@skewX = function(){return this.__skewX}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get this property by string
                push this
                push const string "__skewX"
              end get this property by string ret values 1
            end return values 1
          end function
        end set by name: [__get@skewX]
        ,

[290] __set@skewX = function(a){if(this.__skewX !== a){ this.__skewX = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get this property by string
                    push this
                    push const string "__skewX"
                  end get this property by string ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__skewX"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@skewX]
        ,

[292] __get@skewY = function(){return this.__skewY}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get this property by string
                push this
                push const string "__skewY"
              end get this property by string ret values 1
            end return values 1
          end function
        end set by name: [__get@skewY]
        ,

[293] __set@skewY = function(a){if(this.__skewY !== a){ this.__skewY = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get this property by string
                    push this
                    push const string "__skewY"
                  end get this property by string ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__skewY"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@skewY]
        ,

[295] __get@skew = function(){return Point(this.__skewX this.__skewY)}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin tail call method
              get local var _E (0 0)
              begin params 3
                push const string "Point"
                ,
                begin get this property by string
                  push this
                  push const string "__skewX"
                end get this property by string ret values 1
                ,
                begin get this property by string
                  push this
                  push const string "__skewY"
                end get this property by string ret values 1
              end params ret values 3
            end tail call method
          end function
        end set by name: [__get@skew]
        ,

[296] __set@skew = function(a){ this.skewX, this.skewY = a.x, a.y }

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin set property
              begin set property
                begin params 2
                  begin get property
                    get local var a (0 0 param)
                    push const string "x"
                  end get property ret values 1
                  ,
                  begin get property
                    get local var a (0 0 param)
                    push const string "y"
                  end get property ret values 1
                end params ret values 2
                push this
                push const string "skewY"
              end set property ret values 1
              push this
              push const string "skewX"
            end set property ret values 0
          end function
        end set by name: [__set@skew]
        ,

[298] __get@anchorX = function(){return this.__anchorX}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get this property by string
                push this
                push const string "__anchorX"
              end get this property by string ret values 1
            end return values 1
          end function
        end set by name: [__get@anchorX]
        ,

[299] __set@anchorX = function(a){if(this.__anchorX !== a){ this.__anchorX = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get this property by string
                    push this
                    push const string "__anchorX"
                  end get this property by string ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__anchorX"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@anchorX]
        ,

[301] __get@anchorY = function(){return this.__anchorY}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get this property by string
                push this
                push const string "__anchorY"
              end get this property by string ret values 1
            end return values 1
          end function
        end set by name: [__get@anchorY]
        ,

[302] __set@anchorY = function(a){if(this.__anchorY !== a){ this.__anchorY = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get this property by string
                    push this
                    push const string "__anchorY"
                  end get this property by string ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__anchorY"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@anchorY]
        ,

[304] __get@anchor = function(){return Point(this.__anchorX this.__anchorY)}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin tail call method
              get local var _E (0 0)
              begin params 3
                push const string "Point"
                ,
                begin get this property by string
                  push this
                  push const string "__anchorX"
                end get this property by string ret values 1
                ,
                begin get this property by string
                  push this
                  push const string "__anchorY"
                end get this property by string ret values 1
              end params ret values 3
            end tail call method
          end function
        end set by name: [__get@anchor]
        ,

[305] __set@anchor = function(a){ this.anchorX, this.anchorY = a.x, a.y }

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin set property
              begin set property
                begin params 2
                  begin get property
                    get local var a (0 0 param)
                    push const string "x"
                  end get property ret values 1
                  ,
                  begin get property
                    get local var a (0 0 param)
                    push const string "y"
                  end get property ret values 1
                end params ret values 2
                push this
                push const string "anchorY"
              end set property ret values 1
              push this
              push const string "anchorX"
            end set property ret values 0
          end function
        end set by name: [__set@anchor]
        ,

[307] __get@rotation = function(){return this.__rotation}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get this property by string
                push this
                push const string "__rotation"
              end get this property by string ret values 1
            end return values 1
          end function
        end set by name: [__get@rotation]
        ,

[308] __set@rotation = function(a){if(this.__rotation !== a){ this.__rotation = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get this property by string
                    push this
                    push const string "__rotation"
                  end get this property by string ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__rotation"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@rotation]
        ,

[310] __get@isRelativeAnchor = function(){return this.__isRelativeAnchor}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get this property by string
                push this
                push const string "__isRelativeAnchor"
              end get this property by string ret values 1
            end return values 1
          end function
        end set by name: [__get@isRelativeAnchor]
        ,

[311] __set@isRelativeAnchor = function(a){if(this.__isRelativeAnchor !== a){ this.__isRelativeAnchor = a; this.__transformDirty, this.__inverseDirty = true, true }}

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin if
              begin bool exp
                begin logic !==
                  begin get this property by string
                    push this
                    push const string "__isRelativeAnchor"
                  end get this property by string ret values 1
                  get local var a (0 0 param)
                end logic !==
              end bool exp
              begin then
                begin scope
                  begin set property
                    get local var a (0 0 param)
                    push this
                    push const string "__isRelativeAnchor"
                  end set property ret values 0

                  begin set property
                    begin set property
                      begin params 2
                        const true
                        ,
                        const true
                      end params ret values 2
                      push this
                      push const string "__inverseDirty"
                    end set property ret values 1
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [__set@isRelativeAnchor]
        ,

[313] __construct = function(){

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals

[314] super()

            begin call
              super
              begin params 0
              end params ret values 0
            end call ret values 0


[315] this.width = director.contentWidth

            begin set property
              begin get property
                get env var director
                push const string "contentWidth"
              end get property ret values 1
              push this
              push const string "width"
            end set property ret values 0


[316] this.height = director.contentHeight

            begin set property
              begin get property
                get env var director
                push const string "contentHeight"
              end get property ret values 1
              push this
              push const string "height"
            end set property ret values 0
          end function
        end set by name: [__construct]
        ,

[320] paint = function(){}

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
          end function
        end set by name: [paint]
        ,

[322] nodeToParentTransform = function(){

        begin set by name
          begin function
            begin locals, total 5
              0 _E
              1 _G
            end locals

[323] if(this.__transformDirty){

            begin if
              begin bool exp
                begin get this property by string
                  push this
                  push const string "__transformDirty"
                end get this property by string ret values 1
              end bool exp
              begin then

[324] var t = Matrix()

                begin scope
                  begin locals 3
                    2 t
                    3 anchorX
                    4 anchorY
                  end locals
                  begin set local var
                    begin call method
                      get local var _E (0 0)
                      begin params 1
                        push const string "Matrix"
                      end params ret values 1
                    end call method ret values 1
                  end set local var t (2 0)


[325] var anchorX, anchorY

                  begin params 2
                    new local var anchorX (3 0)
                    ,
                    new local var anchorY (4 0)
                  end params ret values 0


[326] if(this.__anchorX !== 0 || this.__anchorY !== 0){

                  begin if
                    begin bool exp
                      begin logic ||
                        begin logic !==
                          begin get this property by string
                            push this
                            push const string "__anchorX"
                          end get this property by string ret values 1
                          push const number 0
                        end logic !==
                        begin logic !==
                          begin get this property by string
                            push this
                            push const string "__anchorY"
                          end get this property by string ret values 1
                          push const number 0
                        end logic !==
                      end logic ||
                    end bool exp
                    begin then

[327] anchorX = this.__anchorX * this.__width

                      begin scope
                        begin set local var
                          begin operator *
                            begin get this property by string
                              push this
                              push const string "__anchorX"
                            end get this property by string ret values 1
                            begin get this property by string
                              push this
                              push const string "__width"
                            end get this property by string ret values 1
                          end operator *
                        end set local var anchorX (3 0)


[328] anchorY = this.__anchorY * this.__height

                        begin set local var
                          begin operator *
                            begin get this property by string
                              push this
                              push const string "__anchorY"
                            end get this property by string ret values 1
                            begin get this property by string
                              push this
                              push const string "__height"
                            end get this property by string ret values 1
                          end operator *
                        end set local var anchorY (4 0)
                      end scope ret values 0
                    end then
                  end if ret values 0


[330] if(anchorX && !this.__isRelativeAnchor){

                  begin if
                    begin bool exp
                      begin logic &&
                        get local var anchorX (3 0)
                        begin logic not
                          begin get this property by string
                            push this
                            push const string "__isRelativeAnchor"
                          end get this property by string ret values 1
                        end logic not
                      end logic &&
                    end bool exp
                    begin then

[331] t = t.translate(anchorX, anchorY)

                      begin scope
                        begin set local var
                          begin call method
                            get local var t (2 0)
                            begin params 3
                              push const string "translate"
                              ,
                              get local var anchorX (3 0)
                              ,
                              get local var anchorY (4 0)
                            end params ret values 3
                          end call method ret values 1
                        end set local var t (2 0)
                      end scope ret values 0
                    end then
                  end if ret values 0


[333] if(this.__x !== 0 || this.__y !== 0){

                  begin if
                    begin bool exp
                      begin logic ||
                        begin logic !==
                          begin get this property by string
                            push this
                            push const string "__x"
                          end get this property by string ret values 1
                          push const number 0
                        end logic !==
                        begin logic !==
                          begin get this property by string
                            push this
                            push const string "__y"
                          end get this property by string ret values 1
                          push const number 0
                        end logic !==
                      end logic ||
                    end bool exp
                    begin then

[334] t = t.translate(this.__x, this.__y)

                      begin scope
                        begin set local var
                          begin call method
                            get local var t (2 0)
                            begin params 3
                              push const string "translate"
                              ,
                              begin get this property by string
                                push this
                                push const string "__x"
                              end get this property by string ret values 1
                              ,
                              begin get this property by string
                                push this
                                push const string "__y"
                              end get this property by string ret values 1
                            end params ret values 3
                          end call method ret values 1
                        end set local var t (2 0)
                      end scope ret values 0
                    end then
                  end if ret values 0


[336] if(this.__rotation !== 0){

                  begin if
                    begin bool exp
                      begin logic !==
                        begin get this property by string
                          push this
                          push const string "__rotation"
                        end get this property by string ret values 1
                        push const number 0
                      end logic !==
                    end bool exp
                    begin then

[337] t = t.rotate(this.__rotation)

                      begin scope
                        begin set local var
                          begin call method
                            get local var t (2 0)
                            begin params 2
                              push const string "rotate"
                              ,
                              begin get this property by string
                                push this
                                push const string "__rotation"
                              end get this property by string ret values 1
                            end params ret values 2
                          end call method ret values 1
                        end set local var t (2 0)
                      end scope ret values 0
                    end then
                  end if ret values 0


[339] if(this.__skewX !== 0 || this.__skewY !== 0){

                  begin if
                    begin bool exp
                      begin logic ||
                        begin logic !==
                          begin get this property by string
                            push this
                            push const string "__skewX"
                          end get this property by string ret values 1
                          push const number 0
                        end logic !==
                        begin logic !==
                          begin get this property by string
                            push this
                            push const string "__skewY"
                          end get this property by string ret values 1
                          push const number 0
                        end logic !==
                      end logic ||
                    end bool exp
                    begin then

[340] t = t.skew(this.__skewX, this.__skewY)

                      begin scope
                        begin set local var
                          begin call method
                            get local var t (2 0)
                            begin params 3
                              push const string "skew"
                              ,
                              begin get this property by string
                                push this
                                push const string "__skewX"
                              end get this property by string ret values 1
                              ,
                              begin get this property by string
                                push this
                                push const string "__skewY"
                              end get this property by string ret values 1
                            end params ret values 3
                          end call method ret values 1
                        end set local var t (2 0)
                      end scope ret values 0
                    end then
                  end if ret values 0


[342] if(this.__scaleX !== 0 || this.__scaleY !== 0){

                  begin if
                    begin bool exp
                      begin logic ||
                        begin logic !==
                          begin get this property by string
                            push this
                            push const string "__scaleX"
                          end get this property by string ret values 1
                          push const number 0
                        end logic !==
                        begin logic !==
                          begin get this property by string
                            push this
                            push const string "__scaleY"
                          end get this property by string ret values 1
                          push const number 0
                        end logic !==
                      end logic ||
                    end bool exp
                    begin then

[343] t = t.scale(this.__scaleX, this.__scaleY)

                      begin scope
                        begin set local var
                          begin call method
                            get local var t (2 0)
                            begin params 3
                              push const string "scale"
                              ,
                              begin get this property by string
                                push this
                                push const string "__scaleX"
                              end get this property by string ret values 1
                              ,
                              begin get this property by string
                                push this
                                push const string "__scaleY"
                              end get this property by string ret values 1
                            end params ret values 3
                          end call method ret values 1
                        end set local var t (2 0)
                      end scope ret values 0
                    end then
                  end if ret values 0


[345] if(anchorX){

                  begin if
                    begin bool exp
                      get local var anchorX (3 0)
                    end bool exp
                    begin then

[346] t = t.translate(-anchorX, -anchorY)

                      begin scope
                        begin set local var
                          begin call method
                            get local var t (2 0)
                            begin params 3
                              push const string "translate"
                              ,
                              begin neg
                                get local var anchorX (3 0)
                              end neg
                              ,
                              begin neg
                                get local var anchorY (4 0)
                              end neg
                            end params ret values 3
                          end call method ret values 1
                        end set local var t (2 0)
                      end scope ret values 0
                    end then
                  end if ret values 0


[348] this.__transform = t

                  begin set property
                    get local var t (2 0)
                    push this
                    push const string "__transform"
                  end set property ret values 0


[349] this.__transformGL = t.toGL()

                  begin set property
                    begin call method
                      get local var t (2 0)
                      begin params 1
                        push const string "toGL"
                      end params ret values 1
                    end call method ret values 1
                    push this
                    push const string "__transformGL"
                  end set property ret values 0


[350] this.__transformDirty = false

                  begin set property
                    const false
                    push this
                    push const string "__transformDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[352] return this.__transform

            begin code list
              begin return
                begin get this property by string
                  push this
                  push const string "__transform"
                end get this property by string ret values 1
              end return values 1
            end code list ret values 0
          end function
        end set by name: [nodeToParentTransform]
        ,

[355] parentToNodeTransform = function(){

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals

[356] if(this.__inverseDirty){

            begin if
              begin bool exp
                begin get this property by string
                  push this
                  push const string "__inverseDirty"
                end get this property by string ret values 1
              end bool exp
              begin then

[357] this.__inverseTransform = (clone this.nodeToParentTransform()).inverse()

                begin scope
                  begin set property
                    begin call method
                      begin clone
                        begin call method
                          push this
                          begin params 1
                            push const string "nodeToParentTransform"
                          end params ret values 1
                        end call method ret values 1
                      end clone
                      begin params 1
                        push const string "inverse"
                      end params ret values 1
                    end call method ret values 1
                    push this
                    push const string "__inverseTransform"
                  end set property ret values 0


[358] this.__inverseDirty = false

                  begin set property
                    const false
                    push this
                    push const string "__inverseDirty"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [parentToNodeTransform]
        ,

[362] nodeToWorldTransform = function(){

        begin set by name
          begin function
            begin locals, total 4
              0 _E
              1 _G
              2 t
            end locals

[364] var t = clone this.nodeToParentTransform()

            begin set local var
              begin clone
                begin call method
                  push this
                  begin params 1
                    push const string "nodeToParentTransform"
                  end params ret values 1
                end call method ret values 1
              end clone
            end set local var t (2 0)


[365] for(var p = this.__parent; p;){

            begin scope
              begin locals 1
                3 p
              end locals
              begin set local var
                begin get this property by string
                  push this
                  push const string "__parent"
                end get this property by string ret values 1
              end set local var p (3 0)

              begin loop
                begin if
                  begin bool exp
                    begin logic not
                      get local var p (3 0)
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[366] t = t.mult( p.nodeToParentTransform() )

                begin scope
                  begin set local var
                    begin call method
                      get local var t (2 0)
                      begin params 2
                        push const string "mult"
                        ,
                        begin call method
                          get local var p (3 0)
                          begin params 1
                            push const string "nodeToParentTransform"
                          end params ret values 1
                        end call method ret values 1
                      end params ret values 2
                    end call method ret values 1
                  end set local var t (2 0)


[367] p = p.__parent

                  begin set local var
                    begin get property
                      get local var p (3 0)
                      push const string "__parent"
                    end get property ret values 1
                  end set local var p (3 0)
                end scope ret values 0


[365] for(var p = this.__parent; p;){

                nop
              end loop ret values 0
            end scope ret values 0


[370] return t

            begin code list
              begin return
                get local var t (2 0)
              end return values 1
            end code list ret values 0
          end function
        end set by name: [nodeToWorldTransform]
        ,

[373] worldToNodeTransform = function(){

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals

[374] return this.nodeToWorldTransform().inverse()

            begin tail call method
              begin call method
                push this
                begin params 1
                  push const string "nodeToWorldTransform"
                end params ret values 1
              end call method ret values 1
              begin params 1
                push const string "inverse"
              end params ret values 1
            end tail call method
          end function
        end set by name: [worldToNodeTransform]
        ,

[377] pointToNodeSpace = function(point){

        begin set by name
          begin function
            begin locals, total 3
              0 point (param)
              1 _E
              2 _G
            end locals

[378] return this.worldToNodeTransform().transform(point)

            begin tail call method
              begin call method
                push this
                begin params 1
                  push const string "worldToNodeTransform"
                end params ret values 1
              end call method ret values 1
              begin params 2
                push const string "transform"
                ,
                get local var point (0 0 param)
              end params ret values 2
            end tail call method
          end function
        end set by name: [pointToNodeSpace]
        ,

[381] isLocalPoint = function(point){

        begin set by name
          begin function
            begin locals, total 3
              0 point (param)
              1 _E
              2 _G
            end locals

[382] return point.x >= 0 && point.x < this.__width

            begin return

[383] && point.y >= 0 && point.y < this.__height

              begin logic &&
                begin logic &&

[382] return point.x >= 0 && point.x < this.__width

                  begin logic &&
                    begin logic >=
                      begin get property
                        get local var point (0 0 param)
                        push const string "x"
                      end get property ret values 1
                      push const number 0
                    end logic >=
                    begin logic <
                      begin get property
                        get local var point (0 0 param)
                        push const string "x"
                      end get property ret values 1
                      begin get this property by string
                        push this
                        push const string "__width"
                      end get this property by string ret values 1
                    end logic <
                  end logic &&

[383] && point.y >= 0 && point.y < this.__height

                  begin logic >=
                    begin get property
                      get local var point (0 0 param)
                      push const string "y"
                    end get property ret values 1
                    push const number 0
                  end logic >=
                end logic &&
                begin logic <
                  begin get property
                    get local var point (0 0 param)
                    push const string "y"
                  end get property ret values 1
                  begin get this property by string
                    push this
                    push const string "__height"
                  end get this property by string ret values 1
                end logic <
              end logic &&
            end return values 1
          end function
        end set by name: [isLocalPoint]
        ,

[386] transform = function(){

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals

[387] this.nodeToParentTransform()

            begin call method
              push this
              begin params 1
                push const string "nodeToParentTransform"
              end params ret values 1
            end call method ret values 0


[388] glMultMatrix(this.__transformGL)

            begin call method
              get local var _E (0 0)
              begin params 2
                push const string "glMultMatrix"
                ,
                begin get this property by string
                  push this
                  push const string "__transformGL"
                end get this property by string ret values 1
              end params ret values 2
            end call method ret values 0
          end function
        end set by name: [transform]
        ,

[391] handlePaint = function(params){

        begin set by name
          begin function
            begin locals, total 13
              0 params (param)
              1 _E
              2 _G
              3 saveOpacity
            end locals

[392] this.visible || return;

            begin pop
              begin logic ||
                begin get this property by string
                  push this
                  push const string "visible"
                end get this property by string ret values 1
                begin code list
                  return
                end code list ret values 1
              end logic ||
            end pop ret values 0


[394] var saveOpacity = params.opacity

            begin set local var
              begin get property
                get local var params (0 0 param)
                push const string "opacity"
              end get property ret values 1
            end set local var saveOpacity (3 0)


[395] params.opacity = params.opacity * this.opacity

            begin set property
              begin operator *
                begin get property
                  get local var params (0 0 param)
                  push const string "opacity"
                end get property ret values 1
                begin get this property by string
                  push this
                  push const string "opacity"
                end get this property by string ret values 1
              end operator *
              get local var auto create params (0 0 param)
              push const string "opacity"
            end set property ret values 0


[397] glPushMatrix()

            begin call method
              get local var _E (1 0)
              begin params 1
                push const string "glPushMatrix"
              end params ret values 1
            end call method ret values 0


[398] this.transform()

            begin call method
              push this
              begin params 1
                push const string "transform"
              end params ret values 1
            end call method ret values 0


[400] for(var child in this.__childrenNeg.reverseIter()){

            begin scope
              begin locals 3
                4 child
                5 #func
                6 #valid
              end locals
              new local var child (4 0)

              new local var #func (5 0 temp)

              new local var #valid (6 0 temp)

              begin code list
                begin set local var
                  begin call method
                    begin call method
                      begin get this property by string
                        push this
                        push const string "__childrenNeg"
                      end get this property by string ret values 1
                      begin params 1
                        push const string "reverseIter"
                      end params ret values 1
                    end call method ret values 1
                    begin params 1
                      push const string "__iter"
                    end params ret values 1
                  end call method ret values 1
                end set local var #func (5 0 temp)

                begin loop
                  begin set local var
                    begin set local var
                      begin call
                        get local var #func (5 0 temp)
                        begin params 0
                        end params ret values 0
                      end call ret values 2
                    end set local var child (4 0)
                  end set local var #valid (6 0 temp)

                  begin if
                    begin bool exp
                      begin logic not
                        get local var #valid (6 0 temp)
                      end logic not
                    end bool exp
                    begin then
                      break
                    end then
                  end if ret values 0


[401] child.handlePaint(params)

                  begin scope
                    begin call method
                      get local var child (4 0)
                      begin params 2
                        push const string "handlePaint"
                        ,
                        get local var params (0 0 param)
                      end params ret values 2
                    end call method ret values 0
                  end scope ret values 0
                end loop ret values 0
              end code list ret values 0
            end scope ret values 0


[404] this.paint(params)

            begin call method
              push this
              begin params 2
                push const string "paint"
                ,
                get local var params (0 0 param)
              end params ret values 2
            end call method ret values 0


[405] if("paint" in this.__events){

            begin if
              begin bool exp
                begin in
                  push const string "paint"
                  begin get this property by string
                    push this
                    push const string "__events"
                  end get this property by string ret values 1
                end in
              end bool exp
              begin then

[407] for(var func in this.__events["paint"]){

                begin scope
                  begin scope
                    begin locals 3
                      7 func
                      8 #func
                      9 #valid
                    end locals
                    new local var func (7 0)

                    new local var #func (8 0 temp)

                    new local var #valid (9 0 temp)

                    begin code list
                      begin set local var
                        begin call method
                          begin get property
                            begin get this property by string
                              push this
                              push const string "__events"
                            end get this property by string ret values 1
                            push const string "paint"
                          end get property ret values 1
                          begin params 1
                            push const string "__iter"
                          end params ret values 1
                        end call method ret values 1
                      end set local var #func (8 0 temp)

                      begin loop
                        begin set local var
                          begin set local var
                            begin call
                              get local var #func (8 0 temp)
                              begin params 0
                              end params ret values 0
                            end call ret values 2
                          end set local var func (7 0)
                        end set local var #valid (9 0 temp)

                        begin if
                          begin bool exp
                            begin logic not
                              get local var #valid (9 0 temp)
                            end logic not
                          end bool exp
                          begin then
                            break
                          end then
                        end if ret values 0


[408] func.call(this, params)

                        begin scope
                          begin call method
                            get local var func (7 0)
                            begin params 3
                              push const string "call"
                              ,
                              push this
                              ,
                              get local var params (0 0 param)
                            end params ret values 3
                          end call method ret values 0
                        end scope ret values 0
                      end loop ret values 0
                    end code list ret values 0
                  end scope ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[412] for(var child in this.__childrenPos.reverseIter()){

            begin scope
              begin locals 3
                10 child
                11 #func
                12 #valid
              end locals
              new local var child (10 0)

              new local var #func (11 0 temp)

              new local var #valid (12 0 temp)

              begin code list
                begin set local var
                  begin call method
                    begin call method
                      begin get this property by string
                        push this
                        push const string "__childrenPos"
                      end get this property by string ret values 1
                      begin params 1
                        push const string "reverseIter"
                      end params ret values 1
                    end call method ret values 1
                    begin params 1
                      push const string "__iter"
                    end params ret values 1
                  end call method ret values 1
                end set local var #func (11 0 temp)

                begin loop
                  begin set local var
                    begin set local var
                      begin call
                        get local var #func (11 0 temp)
                        begin params 0
                        end params ret values 0
                      end call ret values 2
                    end set local var child (10 0)
                  end set local var #valid (12 0 temp)

                  begin if
                    begin bool exp
                      begin logic not
                        get local var #valid (12 0 temp)
                      end logic not
                    end bool exp
                    begin then
                      break
                    end then
                  end if ret values 0


[413] child.handlePaint(params)

                  begin scope
                    begin call method
                      get local var child (10 0)
                      begin params 2
                        push const string "handlePaint"
                        ,
                        get local var params (0 0 param)
                      end params ret values 2
                    end call method ret values 0
                  end scope ret values 0
                end loop ret values 0
              end code list ret values 0
            end scope ret values 0


[416] glPopMatrix()

            begin call method
              get local var _E (1 0)
              begin params 1
                push const string "glPopMatrix"
              end params ret values 1
            end call method ret values 0


[418] params.opacity = saveOpacity

            begin set property
              get local var saveOpacity (3 0)
              get local var auto create params (0 0 param)
              push const string "opacity"
            end set property ret values 0
          end function
        end set by name: [handlePaint]
        ,

[421] handleKeyEvent = function(event){

        begin set by name
          begin function
            begin locals, total 12
              0 event (param)
              1 _E
              2 _G
            end locals

[423] if(event.captured !== this){

            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    get local var event (0 0 param)
                    push const string "captured"
                  end get property ret values 1
                  push this
                end logic !==
              end bool exp
              begin then

[424] for(var child in this.__childrenPos){

                begin scope
                  begin scope
                    begin locals 3
                      3 child
                      4 #func
                      5 #valid
                    end locals
                    new local var child (3 0)

                    new local var #func (4 0 temp)

                    new local var #valid (5 0 temp)

                    begin code list
                      begin set local var
                        begin call method
                          begin get this property by string
                            push this
                            push const string "__childrenPos"
                          end get this property by string ret values 1
                          begin params 1
                            push const string "__iter"
                          end params ret values 1
                        end call method ret values 1
                      end set local var #func (4 0 temp)

                      begin loop
                        begin set local var
                          begin set local var
                            begin call
                              get local var #func (4 0 temp)
                              begin params 0
                              end params ret values 0
                            end call ret values 2
                          end set local var child (3 0)
                        end set local var #valid (5 0 temp)

                        begin if
                          begin bool exp
                            begin logic not
                              get local var #valid (5 0 temp)
                            end logic not
                          end bool exp
                          begin then
                            break
                          end then
                        end if ret values 0


[425] child.handleKeyEvent(event) && return true;

                        begin scope
                          begin pop
                            begin logic &&
                              begin call method
                                get local var child (3 0)
                                begin params 2
                                  push const string "handleKeyEvent"
                                  ,
                                  get local var event (0 0 param)
                                end params ret values 2
                              end call method ret values 1
                              begin return
                                const true
                              end return values 1
                            end logic &&
                          end pop ret values 0
                        end scope ret values 0
                      end loop ret values 0
                    end code list ret values 0
                  end scope ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[428] if("key" in this.__events){

            begin if
              begin bool exp
                begin in
                  push const string "key"
                  begin get this property by string
                    push this
                    push const string "__events"
                  end get this property by string ret values 1
                end in
              end bool exp
              begin then

[429] for(var func in this.__events["key"]){

                begin scope
                  begin scope
                    begin locals 3
                      6 func
                      7 #func
                      8 #valid
                    end locals
                    new local var func (6 0)

                    new local var #func (7 0 temp)

                    new local var #valid (8 0 temp)

                    begin code list
                      begin set local var
                        begin call method
                          begin get property
                            begin get this property by string
                              push this
                              push const string "__events"
                            end get this property by string ret values 1
                            push const string "key"
                          end get property ret values 1
                          begin params 1
                            push const string "__iter"
                          end params ret values 1
                        end call method ret values 1
                      end set local var #func (7 0 temp)

                      begin loop
                        begin set local var
                          begin set local var
                            begin call
                              get local var #func (7 0 temp)
                              begin params 0
                              end params ret values 0
                            end call ret values 2
                          end set local var func (6 0)
                        end set local var #valid (8 0 temp)

                        begin if
                          begin bool exp
                            begin logic not
                              get local var #valid (8 0 temp)
                            end logic not
                          end bool exp
                          begin then
                            break
                          end then
                        end if ret values 0


[430] func.call(this, event)

                        begin scope
                          begin call method
                            get local var func (6 0)
                            begin params 3
                              push const string "call"
                              ,
                              push this
                              ,
                              get local var event (0 0 param)
                            end params ret values 3
                          end call method ret values 0
                        end scope ret values 0
                      end loop ret values 0
                    end code list ret values 0
                  end scope ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[433] if(event.captured !== this){

            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    get local var event (0 0 param)
                    push const string "captured"
                  end get property ret values 1
                  push this
                end logic !==
              end bool exp
              begin then

[434] for(var child in this.__childrenNeg){

                begin scope
                  begin scope
                    begin locals 3
                      9 child
                      10 #func
                      11 #valid
                    end locals
                    new local var child (9 0)

                    new local var #func (10 0 temp)

                    new local var #valid (11 0 temp)

                    begin code list
                      begin set local var
                        begin call method
                          begin get this property by string
                            push this
                            push const string "__childrenNeg"
                          end get this property by string ret values 1
                          begin params 1
                            push const string "__iter"
                          end params ret values 1
                        end call method ret values 1
                      end set local var #func (10 0 temp)

                      begin loop
                        begin set local var
                          begin set local var
                            begin call
                              get local var #func (10 0 temp)
                              begin params 0
                              end params ret values 0
                            end call ret values 2
                          end set local var child (9 0)
                        end set local var #valid (11 0 temp)

                        begin if
                          begin bool exp
                            begin logic not
                              get local var #valid (11 0 temp)
                            end logic not
                          end bool exp
                          begin then
                            break
                          end then
                        end if ret values 0


[435] child.handleKeyEvent(event) && return true;

                        begin scope
                          begin pop
                            begin logic &&
                              begin call method
                                get local var child (9 0)
                                begin params 2
                                  push const string "handleKeyEvent"
                                  ,
                                  get local var event (0 0 param)
                                end params ret values 2
                              end call method ret values 1
                              begin return
                                const true
                              end return values 1
                            end logic &&
                          end pop ret values 0
                        end scope ret values 0
                      end loop ret values 0
                    end code list ret values 0
                  end scope ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[438] if(!event.captured && this.modal){

            begin if
              begin bool exp
                begin logic &&
                  begin logic not
                    begin get property
                      get local var event (0 0 param)
                      push const string "captured"
                    end get property ret values 1
                  end logic not
                  begin get this property by string
                    push this
                    push const string "modal"
                  end get this property by string ret values 1
                end logic &&
              end bool exp
              begin then

[439] event.captured = this

                begin scope
                  begin set property
                    push this
                    get local var auto create event (0 0 param)
                    push const string "captured"
                  end set property ret values 0


[440] event.modal = true

                  begin set property
                    const true
                    get local var auto create event (0 0 param)
                    push const string "modal"
                  end set property ret values 0


[441] return true

                  begin code list
                    begin return
                      const true
                    end return values 1
                  end code list ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[443] return false

            begin code list
              begin return
                const false
              end return values 1
            end code list ret values 0
          end function
        end set by name: [handleKeyEvent]
        ,

[446] handleTouch = function(touch){

        begin set by name
          begin function
            begin locals, total 20
              0 touch (param)
              1 _E
              2 _G
              9 autoCapture
            end locals

[447] if(touch.captured !== this){

            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    get local var touch (0 0 param)
                    push const string "captured"
                  end get property ret values 1
                  push this
                end logic !==
              end bool exp
              begin then

[448] for(var child in this.__childrenPos){

                begin scope
                  begin scope
                    begin locals 3
                      3 child
                      4 #func
                      5 #valid
                    end locals
                    new local var child (3 0)

                    new local var #func (4 0 temp)

                    new local var #valid (5 0 temp)

                    begin code list
                      begin set local var
                        begin call method
                          begin get this property by string
                            push this
                            push const string "__childrenPos"
                          end get this property by string ret values 1
                          begin params 1
                            push const string "__iter"
                          end params ret values 1
                        end call method ret values 1
                      end set local var #func (4 0 temp)

                      begin loop
                        begin set local var
                          begin set local var
                            begin call
                              get local var #func (4 0 temp)
                              begin params 0
                              end params ret values 0
                            end call ret values 2
                          end set local var child (3 0)
                        end set local var #valid (5 0 temp)

                        begin if
                          begin bool exp
                            begin logic not
                              get local var #valid (5 0 temp)
                            end logic not
                          end bool exp
                          begin then
                            break
                          end then
                        end if ret values 0


[449] child.handleTouch(touch) && return true;

                        begin scope
                          begin pop
                            begin logic &&
                              begin call method
                                get local var child (3 0)
                                begin params 2
                                  push const string "handleTouch"
                                  ,
                                  get local var touch (0 0 param)
                                end params ret values 2
                              end call method ret values 1
                              begin return
                                const true
                              end return values 1
                            end logic &&
                          end pop ret values 0
                        end scope ret values 0
                      end loop ret values 0
                    end code list ret values 0
                  end scope ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[452] if("nativeTouch" in this.__events){

            begin if
              begin bool exp
                begin in
                  push const string "nativeTouch"
                  begin get this property by string
                    push this
                    push const string "__events"
                  end get this property by string ret values 1
                end in
              end bool exp
              begin then

[454] for(var func in this.__events["nativeTouch"]){

                begin scope
                  begin scope
                    begin locals 3
                      6 func
                      7 #func
                      8 #valid
                    end locals
                    new local var func (6 0)

                    new local var #func (7 0 temp)

                    new local var #valid (8 0 temp)

                    begin code list
                      begin set local var
                        begin call method
                          begin get property
                            begin get this property by string
                              push this
                              push const string "__events"
                            end get this property by string ret values 1
                            push const string "nativeTouch"
                          end get property ret values 1
                          begin params 1
                            push const string "__iter"
                          end params ret values 1
                        end call method ret values 1
                      end set local var #func (7 0 temp)

                      begin loop
                        begin set local var
                          begin set local var
                            begin call
                              get local var #func (7 0 temp)
                              begin params 0
                              end params ret values 0
                            end call ret values 2
                          end set local var func (6 0)
                        end set local var #valid (8 0 temp)

                        begin if
                          begin bool exp
                            begin logic not
                              get local var #valid (8 0 temp)
                            end logic not
                          end bool exp
                          begin then
                            break
                          end then
                        end if ret values 0


[455] func.call(this, touch)

                        begin scope
                          begin call method
                            get local var func (6 0)
                            begin params 3
                              push const string "call"
                              ,
                              push this
                              ,
                              get local var touch (0 0 param)
                            end params ret values 3
                          end call method ret values 0
                        end scope ret values 0
                      end loop ret values 0
                    end code list ret values 0
                  end scope ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[458] var autoCapture

            begin params 1
              new local var autoCapture (9 0)
            end params ret values 0


[459] if("touch" in this.__events){

            begin if
              begin bool exp
                begin in
                  push const string "touch"
                  begin get this property by string
                    push this
                    push const string "__events"
                  end get this property by string ret values 1
                end in
              end bool exp
              begin then

[460] if(touch.phase == "start"){

                begin scope
                  begin if
                    begin bool exp
                      begin logic ==
                        begin get property
                          get local var touch (0 0 param)
                          push const string "phase"
                        end get property ret values 1
                        push const string "start"
                      end logic ==
                    end bool exp
                    begin then

[461] if(!touch.captured){

                      begin scope
                        begin if
                          begin bool exp
                            begin logic not
                              begin get property
                                get local var touch (0 0 param)
                                push const string "captured"
                              end get property ret values 1
                            end logic not
                          end bool exp
                          begin then

[463] var local = this.pointToNodeSpace(touch)

                            begin scope
                              begin locals 1
                                10 local
                              end locals
                              begin set local var
                                begin call method
                                  push this
                                  begin params 2
                                    push const string "pointToNodeSpace"
                                    ,
                                    get local var touch (0 0 param)
                                  end params ret values 2
                                end call method ret values 1
                              end set local var local (10 0)


[465] if(this.isLocalPoint(local)){

                              begin if
                                begin bool exp
                                  begin call method
                                    push this
                                    begin params 2
                                      push const string "isLocalPoint"
                                      ,
                                      get local var local (10 0)
                                    end params ret values 2
                                  end call method ret values 1
                                end bool exp
                                begin then

[466] touch.local, autoCapture = local, true

                                  begin scope
                                    begin set property
                                      begin set local var
                                        begin params 2
                                          get local var local (10 0)
                                          ,
                                          const true
                                        end params ret values 2
                                      end set local var autoCapture (9 0)
                                      get local var auto create touch (0 0 param)
                                      push const string "local"
                                    end set property ret values 0


[468] for(var func in this.__events["touch"]){

                                    begin scope
                                      begin locals 3
                                        11 func
                                        12 #func
                                        13 #valid
                                      end locals
                                      new local var func (11 0)

                                      new local var #func (12 0 temp)

                                      new local var #valid (13 0 temp)

                                      begin code list
                                        begin set local var
                                          begin call method
                                            begin get property
                                              begin get this property by string
                                                push this
                                                push const string "__events"
                                              end get this property by string ret values 1
                                              push const string "touch"
                                            end get property ret values 1
                                            begin params 1
                                              push const string "__iter"
                                            end params ret values 1
                                          end call method ret values 1
                                        end set local var #func (12 0 temp)

                                        begin loop
                                          begin set local var
                                            begin set local var
                                              begin call
                                                get local var #func (12 0 temp)
                                                begin params 0
                                                end params ret values 0
                                              end call ret values 2
                                            end set local var func (11 0)
                                          end set local var #valid (13 0 temp)

                                          begin if
                                            begin bool exp
                                              begin logic not
                                                get local var #valid (13 0 temp)
                                              end logic not
                                            end bool exp
                                            begin then
                                              break
                                            end then
                                          end if ret values 0


[469] if(func.call(this, touch) === true){

                                          begin scope
                                            begin if
                                              begin bool exp
                                                begin logic ===
                                                  begin call method
                                                    get local var func (11 0)
                                                    begin params 3
                                                      push const string "call"
                                                      ,
                                                      push this
                                                      ,
                                                      get local var touch (0 0 param)
                                                    end params ret values 3
                                                  end call method ret values 1
                                                  const true
                                                end logic ===
                                              end bool exp
                                              begin then

[470] touch.captured = this

                                                begin scope
                                                  begin set property
                                                    push this
                                                    get local var auto create touch (0 0 param)
                                                    push const string "captured"
                                                  end set property ret values 0


[471] touch.capturedFunc = func

                                                  begin set property
                                                    get local var func (11 0)
                                                    get local var auto create touch (0 0 param)
                                                    push const string "capturedFunc"
                                                  end set property ret values 0


[472] delete touch.local

                                                  begin delete
                                                    get local var touch (0 0 param)
                                                    push const string "local"
                                                  end delete


[473] return true

                                                  begin code list
                                                    begin return
                                                      const true
                                                    end return values 1
                                                  end code list ret values 0
                                                end scope ret values 0
                                              end then
                                            end if ret values 0
                                          end scope ret values 0
                                        end loop ret values 0
                                      end code list ret values 0
                                    end scope ret values 0


[476] delete touch.local

                                    begin delete
                                      get local var touch (0 0 param)
                                      push const string "local"
                                    end delete
                                  end scope ret values 0
                                end then
                              end if ret values 0
                            end scope ret values 0
                          end then
                        end if ret values 0
                      end scope ret values 0
                    end then
                    begin else

[479] }else if(touch.captured === this){

                      begin if
                        begin bool exp
                          begin logic ===
                            begin get property
                              get local var touch (0 0 param)
                              push const string "captured"
                            end get property ret values 1
                            push this
                          end logic ===
                        end bool exp
                        begin then

[481] touch.local = this.pointToNodeSpace(touch)

                          begin scope
                            begin pop
                              begin code list
                                begin set property
                                  begin call method
                                    push this
                                    begin params 2
                                      push const string "pointToNodeSpace"
                                      ,
                                      get local var touch (0 0 param)
                                    end params ret values 2
                                  end call method ret values 1
                                  get local var auto create touch (0 0 param)
                                  push const string "local"
                                end set property ret values 0


[483] if(touch.capturedFunc){

                                begin if
                                  begin bool exp
                                    begin get property
                                      get local var touch (0 0 param)
                                      push const string "capturedFunc"
                                    end get property ret values 1
                                  end bool exp
                                  begin then

[484] if(touch.capturedFunc in this.__events["touch"]){

                                    begin scope
                                      begin if
                                        begin bool exp
                                          begin in
                                            begin get property
                                              get local var touch (0 0 param)
                                              push const string "capturedFunc"
                                            end get property ret values 1
                                            begin get property
                                              begin get this property by string
                                                push this
                                                push const string "__events"
                                              end get this property by string ret values 1
                                              push const string "touch"
                                            end get property ret values 1
                                          end in
                                        end bool exp
                                        begin then

[485] touch.capturedFunc.call(this, touch)

                                          begin scope
                                            begin call method
                                              begin get property
                                                get local var touch (0 0 param)
                                                push const string "capturedFunc"
                                              end get property ret values 1
                                              begin params 3
                                                push const string "call"
                                                ,
                                                push this
                                                ,
                                                get local var touch (0 0 param)
                                              end params ret values 3
                                            end call method ret values 0
                                          end scope ret values 0
                                        end then
                                      end if ret values 0
                                    end scope ret values 0
                                  end then
                                  begin else

[488] for(var func in this.__events["touch"]){

                                    begin scope
                                      begin scope
                                        begin locals 3
                                          14 func
                                          15 #func
                                          16 #valid
                                        end locals
                                        new local var func (14 0)

                                        new local var #func (15 0 temp)

                                        new local var #valid (16 0 temp)

                                        begin code list
                                          begin set local var
                                            begin call method
                                              begin get property
                                                begin get this property by string
                                                  push this
                                                  push const string "__events"
                                                end get this property by string ret values 1
                                                push const string "touch"
                                              end get property ret values 1
                                              begin params 1
                                                push const string "__iter"
                                              end params ret values 1
                                            end call method ret values 1
                                          end set local var #func (15 0 temp)

                                          begin loop
                                            begin set local var
                                              begin set local var
                                                begin call
                                                  get local var #func (15 0 temp)
                                                  begin params 0
                                                  end params ret values 0
                                                end call ret values 2
                                              end set local var func (14 0)
                                            end set local var #valid (16 0 temp)

                                            begin if
                                              begin bool exp
                                                begin logic not
                                                  get local var #valid (16 0 temp)
                                                end logic not
                                              end bool exp
                                              begin then
                                                break
                                              end then
                                            end if ret values 0


[489] func.call(this, touch)

                                            begin scope
                                              begin call method
                                                get local var func (14 0)
                                                begin params 3
                                                  push const string "call"
                                                  ,
                                                  push this
                                                  ,
                                                  get local var touch (0 0 param)
                                                end params ret values 3
                                              end call method ret values 0
                                            end scope ret values 0
                                          end loop ret values 0
                                        end code list ret values 0
                                      end scope ret values 0
                                    end scope ret values 0
                                  end else
                                end if ret values 0


[492] delete touch.local

                                begin delete
                                  get local var touch (0 0 param)
                                  push const string "local"
                                end delete


[493] touch.captured && return true;

                                begin logic &&
                                  begin get property
                                    get local var touch (0 0 param)
                                    push const string "captured"
                                  end get property ret values 1
                                  begin return
                                    const true
                                  end return values 1
                                end logic &&
                              end code list ret values 1
                            end pop ret values 0
                          end scope ret values 0
                        end then
                      end if ret values 0
                    end else
                  end if ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[496] if(touch.captured !== this){

            begin if
              begin bool exp
                begin logic !==
                  begin get property
                    get local var touch (0 0 param)
                    push const string "captured"
                  end get property ret values 1
                  push this
                end logic !==
              end bool exp
              begin then

[497] for(var child in this.__childrenNeg){

                begin scope
                  begin scope
                    begin locals 3
                      17 child
                      18 #func
                      19 #valid
                    end locals
                    new local var child (17 0)

                    new local var #func (18 0 temp)

                    new local var #valid (19 0 temp)

                    begin code list
                      begin set local var
                        begin call method
                          begin get this property by string
                            push this
                            push const string "__childrenNeg"
                          end get this property by string ret values 1
                          begin params 1
                            push const string "__iter"
                          end params ret values 1
                        end call method ret values 1
                      end set local var #func (18 0 temp)

                      begin loop
                        begin set local var
                          begin set local var
                            begin call
                              get local var #func (18 0 temp)
                              begin params 0
                              end params ret values 0
                            end call ret values 2
                          end set local var child (17 0)
                        end set local var #valid (19 0 temp)

                        begin if
                          begin bool exp
                            begin logic not
                              get local var #valid (19 0 temp)
                            end logic not
                          end bool exp
                          begin then
                            break
                          end then
                        end if ret values 0


[498] child.handleTouch(touch) && return true;

                        begin scope
                          begin pop
                            begin logic &&
                              begin call method
                                get local var child (17 0)
                                begin params 2
                                  push const string "handleTouch"
                                  ,
                                  get local var touch (0 0 param)
                                end params ret values 2
                              end call method ret values 1
                              begin return
                                const true
                              end return values 1
                            end logic &&
                          end pop ret values 0
                        end scope ret values 0
                      end loop ret values 0
                    end code list ret values 0
                  end scope ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[501] if(!touch.captured){

            begin if
              begin bool exp
                begin logic not
                  begin get property
                    get local var touch (0 0 param)
                    push const string "captured"
                  end get property ret values 1
                end logic not
              end bool exp
              begin then

[502] if(autoCapture){

                begin scope
                  begin if
                    begin bool exp
                      get local var autoCapture (9 0)
                    end bool exp
                    begin then

[503] touch.captured = this

                      begin scope
                        begin set property
                          push this
                          get local var auto create touch (0 0 param)
                          push const string "captured"
                        end set property ret values 0


[504] return true

                        begin code list
                          begin return
                            const true
                          end return values 1
                        end code list ret values 0
                      end scope ret values 0
                    end then
                    begin else

[505] }else if(this.modal){

                      begin if
                        begin bool exp
                          begin get this property by string
                            push this
                            push const string "modal"
                          end get this property by string ret values 1
                        end bool exp
                        begin then

[506] touch.captured = this

                          begin scope
                            begin set property
                              push this
                              get local var auto create touch (0 0 param)
                              push const string "captured"
                            end set property ret values 0


[507] touch.modal = true

                            begin set property
                              const true
                              get local var auto create touch (0 0 param)
                              push const string "modal"
                            end set property ret values 0


[508] return true

                            begin code list
                              begin return
                                const true
                              end return values 1
                            end code list ret values 0
                          end scope ret values 0
                        end then
                      end if ret values 0
                    end else
                  end if ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[511] return false

            begin code list
              begin return
                const false
              end return values 1
            end code list ret values 0
          end function
        end set by name: [handleTouch]
        ,

[514] setRect = function(x y width height){

        begin set by name
          begin function
            begin locals, total 6
              0 x (param)
              1 y (param)
              2 width (param)
              3 height (param)
              4 _E
              5 _G
            end locals

[515] this.x = x

            begin set property
              get local var x (0 0 param)
              push this
              push const string "x"
            end set property ret values 0


[516] this.y = y

            begin set property
              get local var y (1 0 param)
              push this
              push const string "y"
            end set property ret values 0


[517] this.width = width

            begin set property
              get local var width (2 0 param)
              push this
              push const string "width"
            end set property ret values 0


[518] this.height = height

            begin set property
              get local var height (3 0 param)
              push this
              push const string "height"
            end set property ret values 0
          end function
        end set by name: [setRect]
        ,

[521] drawBB = function(color, fill){

        begin set by name
          begin function
            begin locals, total 5
              0 color (param)
              1 fill (param)
              2 _E
              3 _G
              4 points
            end locals

[522] var points = [

            begin set local var
              begin array 4

[523] [0, 0],

                begin set auto index
                  begin array 2
                    begin set auto index
                      push const number 0
                    end set auto index
                    ,
                    begin set auto index
                      push const number 0
                    end set auto index
                  end array
                end set auto index
                ,

[524] [this.width, 0],

                begin set auto index
                  begin array 2
                    begin set auto index
                      begin get this property by string
                        push this
                        push const string "width"
                      end get this property by string ret values 1
                    end set auto index
                    ,
                    begin set auto index
                      push const number 0
                    end set auto index
                  end array
                end set auto index
                ,

[525] [this.width, this.height],

                begin set auto index
                  begin array 2
                    begin set auto index
                      begin get this property by string
                        push this
                        push const string "width"
                      end get this property by string ret values 1
                    end set auto index
                    ,
                    begin set auto index
                      begin get this property by string
                        push this
                        push const string "height"
                      end get this property by string ret values 1
                    end set auto index
                  end array
                end set auto index
                ,

[526] [0, this.height],

                begin set auto index
                  begin array 2
                    begin set auto index
                      push const number 0
                    end set auto index
                    ,
                    begin set auto index
                      begin get this property by string
                        push this
                        push const string "height"
                      end get this property by string ret values 1
                    end set auto index
                  end array
                end set auto index
              end array
            end set local var points (4 0)


[528] glColor(color)

            begin call method
              get local var _E (2 0)
              begin params 2
                push const string "glColor"
                ,
                get local var color (0 0 param)
              end params ret values 2
            end call method ret values 0


[529] ccDrawPoly(points, true, fill)

            begin call method
              get local var _E (2 0)
              begin params 4
                push const string "ccDrawPoly"
                ,
                get local var points (4 0)
                ,
                const true
                ,
                get local var fill (1 0 param)
              end params ret values 4
            end call method ret values 0
          end function
        end set by name: [drawBB]
      end object
    end extends ret values 1
  end set env var Node


[533] Transition = extends FunctionNode {

  begin set env var
    begin extends
      get env var FunctionNode
      begin object 6

[534] __object = {

        begin set by name
          begin object 4

[535] duration = 0

            begin set by name
              push const number 0
            end set by name: [duration]
            ,

[536] list = []

            begin set by name
              begin array 0
              end array
            end set by name: [list]
            ,

[537] finished = false

            begin set by name
              const false
            end set by name: [finished]
            ,

[538] onComplete = null

            begin set by name
              const null
            end set by name: [onComplete]
          end object
        end set by name: [__object]
        ,

[541] __construct = function(params, target){

        begin set by name
          begin function
            begin locals, total 5
              0 params (param)
              1 target (param)
              2 _E
              3 _G
              4 t
            end locals

[542] super()

            begin call
              super
              begin params 0
              end params ret values 0
            end call ret values 0


[543] this.target = target

            begin set property
              get local var target (1 0 param)
              push this
              push const string "target"
            end set property ret values 0


[544] if("onComplete" in params){

            begin if
              begin bool exp
                begin in
                  push const string "onComplete"
                  get local var params (0 0 param)
                end in
              end bool exp
              begin then

[545] this.onComplete = functionof params.onComplete

                begin scope
                  begin set property
                    begin functionof
                      begin get property
                        get local var params (0 0 param)
                        push const string "onComplete"
                      end get property ret values 1
                    end functionof
                    push this
                    push const string "onComplete"
                  end set property ret values 0


[546] delete params.onComplete

                  begin delete
                    get local var params (0 0 param)
                    push const string "onComplete"
                  end delete
                end scope ret values 0
              end then
            end if ret values 0


[548] var t = this.calculateTransition(this.list, params, 0, 1)

            begin set local var
              begin call method
                push this
                begin params 5
                  push const string "calculateTransition"
                  ,
                  begin get this property by string
                    push this
                    push const string "list"
                  end get this property by string ret values 1
                  ,
                  get local var params (0 0 param)
                  ,
                  push const number 0
                  ,
                  push const number 1
                end params ret values 5
              end call method ret values 1
            end set local var t (4 0)


[549] this.duration = t.endTime

            begin set property
              begin get property
                get local var t (4 0)
                push const string "endTime"
              end get property ret values 1
              push this
              push const string "duration"
            end set property ret values 0


[551] this.addEventListener("enterFrame", this.update, true)

            begin call method
              push this
              begin params 4
                push const string "addEventListener"
                ,
                push const string "enterFrame"
                ,
                begin get this property by string
                  push this
                  push const string "update"
                end get this property by string ret values 1
                ,
                const true
              end params ret values 4
            end call method ret values 0
          end function
        end set by name: [__construct]
        ,

[554] calculateTransition = function(list, params, startTime, speed){

        begin set by name
          begin function
            begin locals, total 25
              0 list (param)
              1 params (param)
              2 startTime (param)
              3 speed (param)
              4 _E
              5 _G
              6 t
              7 delay
              8 duration
            end locals

[555] var t = {}

            begin set local var
              begin object 0
              end object
            end set local var t (6 0)


[556] var delay = 0

            begin set local var
              push const number 0
            end set local var delay (7 0)


[557] if("delay" in params){

            begin if
              begin bool exp
                begin in
                  push const string "delay"
                  get local var params (1 0 param)
                end in
              end bool exp
              begin then

[558] delay = math.max(0, params.delay)

                begin scope
                  begin set local var
                    begin call method
                      get env var math
                      begin params 3
                        push const string "max"
                        ,
                        push const number 0
                        ,
                        begin get property
                          get local var params (1 0 param)
                          push const string "delay"
                        end get property ret values 1
                      end params ret values 3
                    end call method ret values 1
                  end set local var delay (7 0)


[559] delete params.delay

                  begin delete
                    get local var params (1 0 param)
                    push const string "delay"
                  end delete
                end scope ret values 0
              end then
            end if ret values 0


[561] var duration = 0

            begin set local var
              push const number 0
            end set local var duration (8 0)


[562] if("duration" in params){

            begin if
              begin bool exp
                begin in
                  push const string "duration"
                  get local var params (1 0 param)
                end in
              end bool exp
              begin then

[563] duration = math.max(0, params.duration)

                begin scope
                  begin set local var
                    begin call method
                      get env var math
                      begin params 3
                        push const string "max"
                        ,
                        push const number 0
                        ,
                        begin get property
                          get local var params (1 0 param)
                          push const string "duration"
                        end get property ret values 1
                      end params ret values 3
                    end call method ret values 1
                  end set local var duration (8 0)


[564] delete params.duration

                  begin delete
                    get local var params (1 0 param)
                    push const string "duration"
                  end delete
                end scope ret values 0
              end then
            end if ret values 0


[566] if("speed" in params){

            begin if
              begin bool exp
                begin in
                  push const string "speed"
                  get local var params (1 0 param)
                end in
              end bool exp
              begin then

[567] speed = speed * params.speed

                begin scope
                  begin set local var
                    begin operator *
                      get local var speed (3 0 param)
                      begin get property
                        get local var params (1 0 param)
                        push const string "speed"
                      end get property ret values 1
                    end operator *
                  end set local var speed (3 0 param)


[568] delete params.speed

                  begin delete
                    get local var params (1 0 param)
                    push const string "speed"
                  end delete
                end scope ret values 0
              end then
            end if ret values 0


[570] if(speed > 0){

            begin if
              begin bool exp
                begin binary operator by local & number
                  begin logic >
                    get local var speed (3 0 param)
                    push const number 0
                  end logic >
                end binary operator by local & number
              end bool exp
              begin then

[571] duration = duration / speed

                begin scope
                  begin set local var by bin operator locals
                    begin binary operator by locals
                      begin operator /
                        get local var duration (8 0)
                        get local var speed (3 0 param)
                      end operator /
                    end binary operator by locals
                  end set local var by bin operator locals duration (8 0)


[572] delay = delay / speed

                  begin set local var by bin operator locals
                    begin binary operator by locals
                      begin operator /
                        get local var delay (7 0)
                        get local var speed (3 0 param)
                      end operator /
                    end binary operator by locals
                  end set local var by bin operator locals delay (7 0)
                end scope ret values 0
              end then
              begin else

[574] duration, delay = 0, 0

                begin scope
                  begin set local var
                    begin set local var
                      begin params 2
                        push const number 0
                        ,
                        push const number 0
                      end params ret values 2
                    end set local var delay (7 0)
                  end set local var duration (8 0)
                end scope ret values 0
              end else
            end if ret values 0


[576] t.easy = null

            begin set property
              const null
              get local var auto create t (6 0)
              push const string "easy"
            end set property ret values 0


[577] if("easy" in params){

            begin if
              begin bool exp
                begin in
                  push const string "easy"
                  get local var params (1 0 param)
                end in
              end bool exp
              begin then

[578] t.easy = functionof params.easy

                begin scope
                  begin set property
                    begin functionof
                      begin get property
                        get local var params (1 0 param)
                        push const string "easy"
                      end get property ret values 1
                    end functionof
                    get local var auto create t (6 0)
                    push const string "easy"
                  end set property ret values 0


[579] delete params.easy

                  begin delete
                    get local var params (1 0 param)
                    push const string "easy"
                  end delete
                end scope ret values 0
              end then
            end if ret values 0


[581] t.repeat = 1

            begin set property
              push const number 1
              get local var auto create t (6 0)
              push const string "repeat"
            end set property ret values 0


[582] if("repeat" in params){

            begin if
              begin bool exp
                begin in
                  push const string "repeat"
                  get local var params (1 0 param)
                end in
              end bool exp
              begin then

[583] t.repeat = params.repeat

                begin scope
                  begin set property
                    begin get property
                      get local var params (1 0 param)
                      push const string "repeat"
                    end get property ret values 1
                    get local var auto create t (6 0)
                    push const string "repeat"
                  end set property ret values 0


[584] delete params.repeat

                  begin delete
                    get local var params (1 0 param)
                    push const string "repeat"
                  end delete
                end scope ret values 0
              end then
            end if ret values 0


[586] t.infinite = t.repeat === true

            begin set property
              begin logic ===
                begin get property
                  get local var t (6 0)
                  push const string "repeat"
                end get property ret values 1
                const true
              end logic ===
              get local var auto create t (6 0)
              push const string "infinite"
            end set property ret values 0


[587] t.repeat = math.max(0, numberof t.repeat)

            begin set property
              begin call method
                get env var math
                begin params 3
                  push const string "max"
                  ,
                  push const number 0
                  ,
                  begin numberof
                    begin get property
                      get local var t (6 0)
                      push const string "repeat"
                    end get property ret values 1
                  end numberof
                end params ret values 3
              end call method ret values 1
              get local var auto create t (6 0)
              push const string "repeat"
            end set property ret values 0


[589] t.alignRotation = false

            begin set property
              const false
              get local var auto create t (6 0)
              push const string "alignRotation"
            end set property ret values 0


[590] if("alignRotation" in params){

            begin if
              begin bool exp
                begin in
                  push const string "alignRotation"
                  get local var params (1 0 param)
                end in
              end bool exp
              begin then

[591] t.alignRotation = params.alignRotation

                begin scope
                  begin set property
                    begin get property
                      get local var params (1 0 param)
                      push const string "alignRotation"
                    end get property ret values 1
                    get local var auto create t (6 0)
                    push const string "alignRotation"
                  end set property ret values 0


[592] delete params.alignRotation

                  begin delete
                    get local var params (1 0 param)
                    push const string "alignRotation"
                  end delete
                end scope ret values 0
              end then
            end if ret values 0


[596] t.startTime = startTime

            begin set property
              get local var startTime (2 0 param)
              get local var auto create t (6 0)
              push const string "startTime"
            end set property ret values 0


[597] t.startTransitionTime = startTime + delay

            begin set property
              begin binary operator by locals
                begin operator +
                  get local var startTime (2 0 param)
                  get local var delay (7 0)
                end operator +
              end binary operator by locals
              get local var auto create t (6 0)
              push const string "startTransitionTime"
            end set property ret values 0


[598] t.endTime = t.startTransitionTime + duration

            begin set property
              begin operator +
                begin get property
                  get local var t (6 0)
                  push const string "startTransitionTime"
                end get property ret values 1
                get local var duration (8 0)
              end operator +
              get local var auto create t (6 0)
              push const string "endTime"
            end set property ret values 0


[599] list.push(t)

            begin call method
              get local var list (0 0 param)
              begin params 2
                push const string "push"
                ,
                get local var t (6 0)
              end params ret values 2
            end call method ret values 0


[601] t.startValues = null

            begin set property
              const null
              get local var auto create t (6 0)
              push const string "startValues"
            end set property ret values 0


[602] t.endValues = {}

            begin set property
              begin object 0
              end object
              get local var auto create t (6 0)
              push const string "endValues"
            end set property ret values 0


[603] t.subTransitions = []

            begin set property
              begin array 0
              end array
              get local var auto create t (6 0)
              push const string "subTransitions"
            end set property ret values 0


[604] for(var name, value in params){

            begin scope
              begin locals 4
                9 name
                10 value
                23 #func
                24 #valid
              end locals
              new local var name (9 0)

              new local var value (10 0)

              new local var #func (23 0 temp)

              new local var #valid (24 0 temp)

              begin code list
                begin set local var
                  begin call method
                    get local var params (1 0 param)
                    begin params 1
                      push const string "__iter"
                    end params ret values 1
                  end call method ret values 1
                end set local var #func (23 0 temp)

                begin loop
                  begin set local var
                    begin set local var
                      begin set local var
                        begin call
                          get local var #func (23 0 temp)
                          begin params 0
                          end params ret values 0
                        end call ret values 3
                      end set local var value (10 0)
                    end set local var name (9 0)
                  end set local var #valid (24 0 temp)

                  begin if
                    begin bool exp
                      begin logic not
                        get local var #valid (24 0 temp)
                      end logic not
                    end bool exp
                    begin then
                      break
                    end then
                  end if ret values 0


[605] if(name === "sequence"){

                  begin scope
                    begin if
                      begin bool exp
                        begin logic ===
                          get local var name (9 0)
                          push const string "sequence"
                        end logic ===
                      end bool exp
                      begin then

[607] var sequenceStartTime = t.startTransitionTime

                        begin scope
                          begin locals 3
                            11 sequenceStartTime
                            12 closed
                            13 alignRotation
                          end locals
                          begin set local var
                            begin get property
                              get local var t (6 0)
                              push const string "startTransitionTime"
                            end get property ret values 1
                          end set local var sequenceStartTime (11 0)


[608] var closed = false

                          begin set local var
                            const false
                          end set local var closed (12 0)


[609] if("closed" in value){

                          begin if
                            begin bool exp
                              begin in
                                push const string "closed"
                                get local var value (10 0)
                              end in
                            end bool exp
                            begin then

[610] closed = value.closed

                              begin scope
                                begin set local var
                                  begin get property
                                    get local var value (10 0)
                                    push const string "closed"
                                  end get property ret values 1
                                end set local var closed (12 0)


[611] delete value.closed

                                begin delete
                                  get local var value (10 0)
                                  push const string "closed"
                                end delete


[612] if(closed){

                                begin if
                                  begin bool exp
                                    get local var closed (12 0)
                                  end bool exp
                                  begin then

[613] value.push(clone value[0])

                                    begin scope
                                      begin call method
                                        get local var value (10 0)
                                        begin params 2
                                          push const string "push"
                                          ,
                                          begin clone
                                            begin get property by local & number
                                              get local var value (10 0)
                                              push const number 0
                                            end get property by local & number ret values 1
                                          end clone
                                        end params ret values 2
                                      end call method ret values 0
                                    end scope ret values 0
                                  end then
                                end if ret values 0
                              end scope ret values 0
                            end then
                          end if ret values 0


[616] var alignRotation = t.alignRotation

                          begin set local var
                            begin get property
                              get local var t (6 0)
                              push const string "alignRotation"
                            end get property ret values 1
                          end set local var alignRotation (13 0)


[617] if("alignRotation" in value){

                          begin if
                            begin bool exp
                              begin in
                                push const string "alignRotation"
                                get local var value (10 0)
                              end in
                            end bool exp
                            begin then

[618] alignRotation = value.alignRotation

                              begin scope
                                begin set local var
                                  begin get property
                                    get local var value (10 0)
                                    push const string "alignRotation"
                                  end get property ret values 1
                                end set local var alignRotation (13 0)


[619] delete value.alignRotation

                                begin delete
                                  get local var value (10 0)
                                  push const string "alignRotation"
                                end delete
                              end scope ret values 0
                            end then
                          end if ret values 0


[621] for(var i, sub in value){

                          begin scope
                            begin locals 4
                              14 i
                              15 sub
                              16 #func
                              17 #valid
                            end locals
                            new local var i (14 0)

                            new local var sub (15 0)

                            new local var #func (16 0 temp)

                            new local var #valid (17 0 temp)

                            begin code list
                              begin set local var
                                begin call method
                                  get local var value (10 0)
                                  begin params 1
                                    push const string "__iter"
                                  end params ret values 1
                                end call method ret values 1
                              end set local var #func (16 0 temp)

                              begin loop
                                begin set local var
                                  begin set local var
                                    begin set local var
                                      begin call
                                        get local var #func (16 0 temp)
                                        begin params 0
                                        end params ret values 0
                                      end call ret values 3
                                    end set local var sub (15 0)
                                  end set local var i (14 0)
                                end set local var #valid (17 0 temp)

                                begin if
                                  begin bool exp
                                    begin logic not
                                      get local var #valid (17 0 temp)
                                    end logic not
                                  end bool exp
                                  begin then
                                    break
                                  end then
                                end if ret values 0


[622] if(objectof sub){

                                begin scope
                                  begin if
                                    begin bool exp
                                      begin objectof
                                        get local var sub (15 0)
                                      end objectof
                                    end bool exp
                                    begin then

[623] sub.alignRotation = alignRotation

                                      begin scope
                                        begin set property
                                          get local var alignRotation (13 0)
                                          get local var auto create sub (15 0)
                                          push const string "alignRotation"
                                        end set property ret values 0


[624] sub = this.calculateTransition(t.subTransitions, sub, sequenceStartTime, speed)

                                        begin set local var
                                          begin call method
                                            push this
                                            begin params 5
                                              push const string "calculateTransition"
                                              ,
                                              begin get property
                                                get local var t (6 0)
                                                push const string "subTransitions"
                                              end get property ret values 1
                                              ,
                                              get local var sub (15 0)
                                              ,
                                              get local var sequenceStartTime (11 0)
                                              ,
                                              get local var speed (3 0 param)
                                            end params ret values 5
                                          end call method ret values 1
                                        end set local var sub (15 0)


[625] sequenceStartTime = sub.endTime

                                        begin set local var
                                          begin get property
                                            get local var sub (15 0)
                                            push const string "endTime"
                                          end get property ret values 1
                                        end set local var sequenceStartTime (11 0)


[626] t.endTime = math.max(t.endTime, sub.endTime)

                                        begin set property
                                          begin call method
                                            get env var math
                                            begin params 3
                                              push const string "max"
                                              ,
                                              begin get property
                                                get local var t (6 0)
                                                push const string "endTime"
                                              end get property ret values 1
                                              ,
                                              begin get property
                                                get local var sub (15 0)
                                                push const string "endTime"
                                              end get property ret values 1
                                            end params ret values 3
                                          end call method ret values 1
                                          get local var auto create t (6 0)
                                          push const string "endTime"
                                        end set property ret values 0
                                      end scope ret values 0
                                    end then
                                  end if ret values 0
                                end scope ret values 0
                              end loop ret values 0
                            end code list ret values 0
                          end scope ret values 0


[629] continue

                          continue
                        end scope ret values 0
                      end then
                    end if ret values 0


[631] if(name === "spawn"){

                    begin if
                      begin bool exp
                        begin logic ===
                          get local var name (9 0)
                          push const string "spawn"
                        end logic ===
                      end bool exp
                      begin then

[633] var alignRotation = t.alignRotation

                        begin scope
                          begin locals 1
                            18 alignRotation
                          end locals
                          begin set local var
                            begin get property
                              get local var t (6 0)
                              push const string "alignRotation"
                            end get property ret values 1
                          end set local var alignRotation (18 0)


[634] if("alignRotation" in value){

                          begin if
                            begin bool exp
                              begin in
                                push const string "alignRotation"
                                get local var value (10 0)
                              end in
                            end bool exp
                            begin then

[635] alignRotation = value.alignRotation

                              begin scope
                                begin set local var
                                  begin get property
                                    get local var value (10 0)
                                    push const string "alignRotation"
                                  end get property ret values 1
                                end set local var alignRotation (18 0)


[636] delete value.alignRotation

                                begin delete
                                  get local var value (10 0)
                                  push const string "alignRotation"
                                end delete
                              end scope ret values 0
                            end then
                          end if ret values 0


[638] for(var i, sub in value){

                          begin scope
                            begin locals 4
                              19 i
                              20 sub
                              21 #func
                              22 #valid
                            end locals
                            new local var i (19 0)

                            new local var sub (20 0)

                            new local var #func (21 0 temp)

                            new local var #valid (22 0 temp)

                            begin code list
                              begin set local var
                                begin call method
                                  get local var value (10 0)
                                  begin params 1
                                    push const string "__iter"
                                  end params ret values 1
                                end call method ret values 1
                              end set local var #func (21 0 temp)

                              begin loop
                                begin set local var
                                  begin set local var
                                    begin set local var
                                      begin call
                                        get local var #func (21 0 temp)
                                        begin params 0
                                        end params ret values 0
                                      end call ret values 3
                                    end set local var sub (20 0)
                                  end set local var i (19 0)
                                end set local var #valid (22 0 temp)

                                begin if
                                  begin bool exp
                                    begin logic not
                                      get local var #valid (22 0 temp)
                                    end logic not
                                  end bool exp
                                  begin then
                                    break
                                  end then
                                end if ret values 0


[639] if(objectof sub){

                                begin scope
                                  begin if
                                    begin bool exp
                                      begin objectof
                                        get local var sub (20 0)
                                      end objectof
                                    end bool exp
                                    begin then

[640] sub.alignRotation = alignRotation

                                      begin scope
                                        begin set property
                                          get local var alignRotation (18 0)
                                          get local var auto create sub (20 0)
                                          push const string "alignRotation"
                                        end set property ret values 0


[641] sub = this.calculateTransition(t.subTransitions, sub, t.startTransitionTime, speed)

                                        begin set local var
                                          begin call method
                                            push this
                                            begin params 5
                                              push const string "calculateTransition"
                                              ,
                                              begin get property
                                                get local var t (6 0)
                                                push const string "subTransitions"
                                              end get property ret values 1
                                              ,
                                              get local var sub (20 0)
                                              ,
                                              begin get property
                                                get local var t (6 0)
                                                push const string "startTransitionTime"
                                              end get property ret values 1
                                              ,
                                              get local var speed (3 0 param)
                                            end params ret values 5
                                          end call method ret values 1
                                        end set local var sub (20 0)


[642] t.endTime = math.max(t.endTime, sub.endTime)

                                        begin set property
                                          begin call method
                                            get env var math
                                            begin params 3
                                              push const string "max"
                                              ,
                                              begin get property
                                                get local var t (6 0)
                                                push const string "endTime"
                                              end get property ret values 1
                                              ,
                                              begin get property
                                                get local var sub (20 0)
                                                push const string "endTime"
                                              end get property ret values 1
                                            end params ret values 3
                                          end call method ret values 1
                                          get local var auto create t (6 0)
                                          push const string "endTime"
                                        end set property ret values 0
                                      end scope ret values 0
                                    end then
                                  end if ret values 0
                                end scope ret values 0
                              end loop ret values 0
                            end code list ret values 0
                          end scope ret values 0


[645] continue

                          continue
                        end scope ret values 0
                      end then
                    end if ret values 0


[647] if(name == "endValues"){

                    begin if
                      begin bool exp
                        begin logic ==
                          get local var name (9 0)
                          push const string "endValues"
                        end logic ==
                      end bool exp
                      begin then

[649] continue

                        begin scope
                          continue
                        end scope ret values 0
                      end then
                    end if ret values 0


[652] t.endValues[name] = value

                    begin set property
                      get local var value (10 0)
                      begin get property auto create
                        get local var auto create t (6 0)
                        push const string "endValues"
                      end get property auto create ret values 1
                      get local var name (9 0)
                    end set property ret values 0
                  end scope ret values 0
                end loop ret values 0
              end code list ret values 0
            end scope ret values 0


[654] t.endTransitionTime = t.endTime

            begin set property
              begin get property
                get local var t (6 0)
                push const string "endTime"
              end get property ret values 1
              get local var auto create t (6 0)
              push const string "endTransitionTime"
            end set property ret values 0


[655] if(t.infinite){

            begin if
              begin bool exp
                begin get property
                  get local var t (6 0)
                  push const string "infinite"
                end get property ret values 1
              end bool exp
              begin then

[656] t.endTime = math.MAX_NUMBER

                begin scope
                  begin set property
                    begin get property
                      get env var math
                      push const string "MAX_NUMBER"
                    end get property ret values 1
                    get local var auto create t (6 0)
                    push const string "endTime"
                  end set property ret values 0
                end scope ret values 0
              end then
              begin else

[658] t.endTime = t.startTime + (t.endTime - t.startTime) * t.repeat

                begin scope
                  begin set property
                    begin operator +
                      begin get property
                        get local var t (6 0)
                        push const string "startTime"
                      end get property ret values 1
                      begin operator *
                        begin operator -
                          begin get property
                            get local var t (6 0)
                            push const string "endTime"
                          end get property ret values 1
                          begin get property
                            get local var t (6 0)
                            push const string "startTime"
                          end get property ret values 1
                        end operator -
                        begin get property
                          get local var t (6 0)
                          push const string "repeat"
                        end get property ret values 1
                      end operator *
                    end operator +
                    get local var auto create t (6 0)
                    push const string "endTime"
                  end set property ret values 0
                end scope ret values 0
              end else
            end if ret values 0


[660] if(#t.subTransitions == 0){

            begin if
              begin bool exp
                begin logic ==
                  begin length
                    begin get property
                      get local var t (6 0)
                      push const string "subTransitions"
                    end get property ret values 1
                  end length
                  push const number 0
                end logic ==
              end bool exp
              begin then

[661] t.subTransitions = null

                begin scope
                  begin set property
                    const null
                    get local var auto create t (6 0)
                    push const string "subTransitions"
                  end set property ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[663] return t

            begin code list
              begin return
                get local var t (6 0)
              end return values 1
            end code list ret values 0
          end function
        end set by name: [calculateTransition]
        ,

[666] update = function(){

        begin set by name
          begin function
            begin locals, total 4
              0 _E
              1 _G
              2 time
              3 duration
            end locals

[667] var time, duration = this.time, this.duration

            begin set local var
              begin set local var
                begin params 2
                  begin get this property by string
                    push this
                    push const string "time"
                  end get this property by string ret values 1
                  ,
                  begin get this property by string
                    push this
                    push const string "duration"
                  end get this property by string ret values 1
                end params ret values 2
              end set local var duration (3 0)
            end set local var time (2 0)


[668] if(time >= duration){

            begin if
              begin bool exp
                begin binary operator by locals
                  begin logic >=
                    get local var time (2 0)
                    get local var duration (3 0)
                  end logic >=
                end binary operator by locals
              end bool exp
              begin then

[670] this.remove()

                begin scope
                  begin call method
                    push this
                    begin params 1
                      push const string "remove"
                    end params ret values 1
                  end call method ret values 0


[671] this.finished = true

                  begin set property
                    const true
                    push this
                    push const string "finished"
                  end set property ret values 0


[672] this.onComplete && this.onComplete.call(this.target)

                  begin pop
                    begin logic &&
                      begin get this property by string
                        push this
                        push const string "onComplete"
                      end get this property by string ret values 1
                      begin call method
                        begin get this property by string
                          push this
                          push const string "onComplete"
                        end get this property by string ret values 1
                        begin params 2
                          push const string "call"
                          ,
                          begin get this property by string
                            push this
                            push const string "target"
                          end get this property by string ret values 1
                        end params ret values 2
                      end call method ret values 1
                    end logic &&
                  end pop ret values 0


[675] time = duration

                  begin set local var
                    get local var duration (3 0)
                  end set local var time (2 0)
                end scope ret values 0
              end then
            end if ret values 0


[677] this.applyTimeToList(time, this.list)

            begin call method
              push this
              begin params 3
                push const string "applyTimeToList"
                ,
                get local var time (2 0)
                ,
                begin get this property by string
                  push this
                  push const string "list"
                end get this property by string ret values 1
              end params ret values 3
            end call method ret values 0
          end function
        end set by name: [update]
        ,

[680] applyTimeToList = function(time, list){

        begin set by name
          begin function
            begin locals, total 9
              0 time (param)
              1 list (param)
              2 _E
              3 _G
              4 prev
            end locals

[681] var prev

            begin params 1
              new local var prev (4 0)
            end params ret values 0


[682] for(var i, t in list){

            begin scope
              begin locals 4
                5 i
                6 t
                7 #func
                8 #valid
              end locals
              new local var i (5 0)

              new local var t (6 0)

              new local var #func (7 0 temp)

              new local var #valid (8 0 temp)

              begin code list
                begin set local var
                  begin call method
                    get local var list (1 0 param)
                    begin params 1
                      push const string "__iter"
                    end params ret values 1
                  end call method ret values 1
                end set local var #func (7 0 temp)

                begin loop
                  begin set local var
                    begin set local var
                      begin set local var
                        begin call
                          get local var #func (7 0 temp)
                          begin params 0
                          end params ret values 0
                        end call ret values 3
                      end set local var t (6 0)
                    end set local var i (5 0)
                  end set local var #valid (8 0 temp)

                  begin if
                    begin bool exp
                      begin logic not
                        get local var #valid (8 0 temp)
                      end logic not
                    end bool exp
                    begin then
                      break
                    end then
                  end if ret values 0


[683] this.applyTimeToItem(time, t, prev)

                  begin scope
                    begin call method
                      push this
                      begin params 4
                        push const string "applyTimeToItem"
                        ,
                        get local var time (0 0 param)
                        ,
                        get local var t (6 0)
                        ,
                        get local var prev (4 0)
                      end params ret values 4
                    end call method ret values 0


[684] prev = t.endValues

                    begin set local var
                      begin get property
                        get local var t (6 0)
                        push const string "endValues"
                      end get property ret values 1
                    end set local var prev (4 0)
                  end scope ret values 0
                end loop ret values 0
              end code list ret values 0
            end scope ret values 0
          end function
        end set by name: [applyTimeToList]
        ,

[688] applyTimeToItem = function(time, t, prev){

        begin set by name
          begin function
            begin locals, total 19
              0 time (param)
              1 t (param)
              2 prev (param)
              3 _E
              4 _G
              5 target
              13 tween
              14 duration
            end locals

[689] if(time < t.startTransitionTime){

            begin if
              begin bool exp
                begin logic <
                  get local var time (0 0 param)
                  begin get property
                    get local var t (1 0 param)
                    push const string "startTransitionTime"
                  end get property ret values 1
                end logic <
              end bool exp
              begin then

[690] return

                begin scope
                  return
                end scope ret values 0
              end then
            end if ret values 0


[692] if(!t.infinite && time > t.endTime){

            begin if
              begin bool exp
                begin logic &&
                  begin logic not
                    begin get property
                      get local var t (1 0 param)
                      push const string "infinite"
                    end get property ret values 1
                  end logic not
                  begin logic >
                    get local var time (0 0 param)
                    begin get property
                      get local var t (1 0 param)
                      push const string "endTime"
                    end get property ret values 1
                  end logic >
                end logic &&
              end bool exp
              begin then

[693] return

                begin scope
                  return
                end scope ret values 0
              end then
            end if ret values 0


[696] var target = this.target

            begin set local var
              begin get this property by string
                push this
                push const string "target"
              end get this property by string ret values 1
            end set local var target (5 0)


[697] if(!t.startValues){

            begin if
              begin bool exp
                begin logic not
                  begin get property
                    get local var t (1 0 param)
                    push const string "startValues"
                  end get property ret values 1
                end logic not
              end bool exp
              begin then

[698] t.startValues = {}

                begin scope
                  begin set property
                    begin object 0
                    end object
                    get local var auto create t (1 0 param)
                    push const string "startValues"
                  end set property ret values 0


[699] for(var name, value in t.endValues){

                  begin scope
                    begin locals 4
                      6 name
                      7 value
                      8 #func
                      9 #valid
                    end locals
                    new local var name (6 0)

                    new local var value (7 0)

                    new local var #func (8 0 temp)

                    new local var #valid (9 0 temp)

                    begin code list
                      begin set local var
                        begin call method
                          begin get property
                            get local var t (1 0 param)
                            push const string "endValues"
                          end get property ret values 1
                          begin params 1
                            push const string "__iter"
                          end params ret values 1
                        end call method ret values 1
                      end set local var #func (8 0 temp)

                      begin loop
                        begin set local var
                          begin set local var
                            begin set local var
                              begin call
                                get local var #func (8 0 temp)
                                begin params 0
                                end params ret values 0
                              end call ret values 3
                            end set local var value (7 0)
                          end set local var name (6 0)
                        end set local var #valid (9 0 temp)

                        begin if
                          begin bool exp
                            begin logic not
                              get local var #valid (9 0 temp)
                            end logic not
                          end bool exp
                          begin then
                            break
                          end then
                        end if ret values 0


[700] if(numberof value && name in target && numberof target[name]){

                        begin scope
                          begin if
                            begin bool exp
                              begin logic &&
                                begin logic &&
                                  begin numberof
                                    get local var value (7 0)
                                  end numberof
                                  begin in
                                    get local var name (6 0)
                                    get local var target (5 0)
                                  end in
                                end logic &&
                                begin numberof
                                  begin get property by locals
                                    get local var target (5 0)
                                    get local var name (6 0)
                                  end get property by locals ret values 1
                                end numberof
                              end logic &&
                            end bool exp
                            begin then

[701] t.startValues[name] = name in prev ? prev[name] : target[name]

                              begin scope
                                begin set property
                                  begin question
                                    begin bool exp
                                      begin in
                                        get local var name (6 0)
                                        get local var prev (2 0 param)
                                      end in
                                    end bool exp
                                    begin then value
                                      begin get property by locals
                                        get local var prev (2 0 param)
                                        get local var name (6 0)
                                      end get property by locals ret values 1
                                    end then value
                                    begin else value
                                      begin get property by locals
                                        get local var target (5 0)
                                        get local var name (6 0)
                                      end get property by locals ret values 1
                                    end else value
                                  end question ret values 1
                                  begin get property auto create
                                    get local var auto create t (1 0 param)
                                    push const string "startValues"
                                  end get property auto create ret values 1
                                  get local var name (6 0)
                                end set property ret values 0
                              end scope ret values 0
                            end then
                            begin else

[703] delete t.endValues[name]

                              begin scope
                                begin delete
                                  begin get property
                                    get local var t (1 0 param)
                                    push const string "endValues"
                                  end get property ret values 1
                                  get local var name (6 0)
                                end delete
                              end scope ret values 0
                            end else
                          end if ret values 0
                        end scope ret values 0
                      end loop ret values 0
                    end code list ret values 0
                  end scope ret values 0


[706] if(t.alignRotation && "rotation" in t.endValues){

                  begin if
                    begin bool exp
                      begin logic &&
                        begin get property
                          get local var t (1 0 param)
                          push const string "alignRotation"
                        end get property ret values 1
                        begin in
                          push const string "rotation"
                          begin get property
                            get local var t (1 0 param)
                            push const string "endValues"
                          end get property ret values 1
                        end in
                      end logic &&
                    end bool exp
                    begin then

[707] var start = t.startValues.rotation

                      begin scope
                        begin locals 3
                          10 start
                          11 end
                          12 diff
                        end locals
                        begin set local var
                          begin get property
                            begin get property
                              get local var t (1 0 param)
                              push const string "startValues"
                            end get property ret values 1
                            push const string "rotation"
                          end get property ret values 1
                        end set local var start (10 0)


[708] var end = t.endValues.rotation

                        begin set local var
                          begin get property
                            begin get property
                              get local var t (1 0 param)
                              push const string "endValues"
                            end get property ret values 1
                            push const string "rotation"
                          end get property ret values 1
                        end set local var end (11 0)


[709] var diff = end - start

                        begin set local var by bin operator locals
                          begin binary operator by locals
                            begin operator -
                              get local var end (11 0)
                              get local var start (10 0)
                            end operator -
                          end binary operator by locals
                        end set local var by bin operator locals diff (12 0)


[710] if(math.abs(diff) > 180){

                        begin if
                          begin bool exp
                            begin logic >
                              begin call method
                                get env var math
                                begin params 2
                                  push const string "abs"
                                  ,
                                  get local var diff (12 0)
                                end params ret values 2
                              end call method ret values 1
                              push const number 180
                            end logic >
                          end bool exp
                          begin then

[711] if(diff < 0){

                            begin scope
                              begin if
                                begin bool exp
                                  begin binary operator by local & number
                                    begin logic <
                                      get local var diff (12 0)
                                      push const number 0
                                    end logic <
                                  end binary operator by local & number
                                end bool exp
                                begin then

[712] diff = 360 + diff - math.floor(diff / 360) * 360

                                  begin scope
                                    begin set local var
                                      begin operator -
                                        begin operator +
                                          push const number 360
                                          get local var diff (12 0)
                                        end operator +
                                        begin operator *
                                          begin call method
                                            get env var math
                                            begin params 2
                                              push const string "floor"
                                              ,
                                              begin binary operator by local & number
                                                begin operator /
                                                  get local var diff (12 0)
                                                  push const number 360
                                                end operator /
                                              end binary operator by local & number
                                            end params ret values 2
                                          end call method ret values 1
                                          push const number 360
                                        end operator *
                                      end operator -
                                    end set local var diff (12 0)
                                  end scope ret values 0
                                end then
                                begin else

[713] }else if(diff > 360){

                                  begin if
                                    begin bool exp
                                      begin binary operator by local & number
                                        begin logic >
                                          get local var diff (12 0)
                                          push const number 360
                                        end logic >
                                      end binary operator by local & number
                                    end bool exp
                                    begin then

[714] diff = diff - math.floor(diff / 360) * 360

                                      begin scope
                                        begin set local var
                                          begin operator -
                                            get local var diff (12 0)
                                            begin operator *
                                              begin call method
                                                get env var math
                                                begin params 2
                                                  push const string "floor"
                                                  ,
                                                  begin binary operator by local & number
                                                    begin operator /
                                                      get local var diff (12 0)
                                                      push const number 360
                                                    end operator /
                                                  end binary operator by local & number
                                                end params ret values 2
                                              end call method ret values 1
                                              push const number 360
                                            end operator *
                                          end operator -
                                        end set local var diff (12 0)
                                      end scope ret values 0
                                    end then
                                  end if ret values 0
                                end else
                              end if ret values 0


[716] if(diff > 180){

                              begin if
                                begin bool exp
                                  begin binary operator by local & number
                                    begin logic >
                                      get local var diff (12 0)
                                      push const number 180
                                    end logic >
                                  end binary operator by local & number
                                end bool exp
                                begin then

[717] diff = diff - 360

                                  begin scope
                                    begin set local var by bin operator local & number
                                      begin binary operator by local & number
                                        begin operator -
                                          get local var diff (12 0)
                                          push const number 360
                                        end operator -
                                      end binary operator by local & number
                                    end set local var by bin operator local & number diff (12 0)
                                  end scope ret values 0
                                end then
                              end if ret values 0


[719] t.endValues.rotation = start + diff

                              begin set property
                                begin binary operator by locals
                                  begin operator +
                                    get local var start (10 0)
                                    get local var diff (12 0)
                                  end operator +
                                end binary operator by locals
                                begin get property auto create
                                  get local var auto create t (1 0 param)
                                  push const string "endValues"
                                end get property auto create ret values 1
                                push const string "rotation"
                              end set property ret values 0
                            end scope ret values 0
                          end then
                        end if ret values 0
                      end scope ret values 0
                    end then
                  end if ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[724] var tween

            begin params 1
              new local var tween (13 0)
            end params ret values 0


[725] var duration = t.endTransitionTime - t.startTransitionTime

            begin set local var
              begin operator -
                begin get property
                  get local var t (1 0 param)
                  push const string "endTransitionTime"
                end get property ret values 1
                begin get property
                  get local var t (1 0 param)
                  push const string "startTransitionTime"
                end get property ret values 1
              end operator -
            end set local var duration (14 0)


[726] if(this.finished)

            begin if
              begin bool exp
                begin get this property by string
                  push this
                  push const string "finished"
                end get this property by string ret values 1
              end bool exp
              begin then

[727] time = time - t.startTransitionTime

                begin set local var
                  begin operator -
                    get local var time (0 0 param)
                    begin get property
                      get local var t (1 0 param)
                      push const string "startTransitionTime"
                    end get property ret values 1
                  end operator -
                end set local var time (0 0 param)
              end then
              begin else

[729] time = math.fmod(time - t.startTransitionTime,  duration)

                begin set local var
                  begin call method
                    get env var math
                    begin params 3
                      push const string "fmod"
                      ,
                      begin operator -
                        get local var time (0 0 param)
                        begin get property
                          get local var t (1 0 param)
                          push const string "startTransitionTime"
                        end get property ret values 1
                      end operator -
                      ,
                      get local var duration (14 0)
                    end params ret values 3
                  end call method ret values 1
                end set local var time (0 0 param)
              end else
            end if ret values 0


[731] if(duration <= 0){ // || time >= duration){

            begin if
              begin bool exp
                begin binary operator by local & number
                  begin logic <=
                    get local var duration (14 0)
                    push const number 0
                  end logic <=
                end binary operator by local & number
              end bool exp
              begin then

[732] tween = 1

                begin scope
                  begin set local var
                    push const number 1
                  end set local var tween (13 0)
                end scope ret values 0
              end then
              begin else

[733] }else if(t.easy){

                begin if
                  begin bool exp
                    begin get property
                      get local var t (1 0 param)
                      push const string "easy"
                    end get property ret values 1
                  end bool exp
                  begin then

[734] tween = t.easy(time / duration)

                    begin scope
                      begin set local var
                        begin call method
                          get local var t (1 0 param)
                          begin params 2
                            push const string "easy"
                            ,
                            begin binary operator by locals
                              begin operator /
                                get local var time (0 0 param)
                                get local var duration (14 0)
                              end operator /
                            end binary operator by locals
                          end params ret values 2
                        end call method ret values 1
                      end set local var tween (13 0)


[735] time = tween * duration

                      begin set local var by bin operator locals
                        begin binary operator by locals
                          begin operator *
                            get local var tween (13 0)
                            get local var duration (14 0)
                          end operator *
                        end binary operator by locals
                      end set local var by bin operator locals time (0 0 param)
                    end scope ret values 0
                  end then
                  begin else

[737] tween = time / duration

                    begin scope
                      begin set local var by bin operator locals
                        begin binary operator by locals
                          begin operator /
                            get local var time (0 0 param)
                            get local var duration (14 0)
                          end operator /
                        end binary operator by locals
                      end set local var by bin operator locals tween (13 0)
                    end scope ret values 0
                  end else
                end if ret values 0
              end else
            end if ret values 0


[739] for(var name, endValue in t.endValues){

            begin scope
              begin locals 4
                15 name
                16 endValue
                17 #func
                18 #valid
              end locals
              new local var name (15 0)

              new local var endValue (16 0)

              new local var #func (17 0 temp)

              new local var #valid (18 0 temp)

              begin code list
                begin set local var
                  begin call method
                    begin get property
                      get local var t (1 0 param)
                      push const string "endValues"
                    end get property ret values 1
                    begin params 1
                      push const string "__iter"
                    end params ret values 1
                  end call method ret values 1
                end set local var #func (17 0 temp)

                begin loop
                  begin set local var
                    begin set local var
                      begin set local var
                        begin call
                          get local var #func (17 0 temp)
                          begin params 0
                          end params ret values 0
                        end call ret values 3
                      end set local var endValue (16 0)
                    end set local var name (15 0)
                  end set local var #valid (18 0 temp)

                  begin if
                    begin bool exp
                      begin logic not
                        get local var #valid (18 0 temp)
                      end logic not
                    end bool exp
                    begin then
                      break
                    end then
                  end if ret values 0


[740] target[name] = t.startValues[name] * (1 - tween) + endValue * tween

                  begin scope
                    begin set property by locals auto create
                      begin operator +
                        begin operator *
                          begin get property
                            begin get property
                              get local var t (1 0 param)
                              push const string "startValues"
                            end get property ret values 1
                            get local var name (15 0)
                          end get property ret values 1
                          begin operator -
                            push const number 1
                            get local var tween (13 0)
                          end operator -
                        end operator *
                        begin binary operator by locals
                          begin operator *
                            get local var endValue (16 0)
                            get local var tween (13 0)
                          end operator *
                        end binary operator by locals
                      end operator +
                      get local var auto create target (5 0)
                      get local var name (15 0)
                    end set property by locals auto create ret values 0
                  end scope ret values 0
                end loop ret values 0
              end code list ret values 0
            end scope ret values 0


[743] if(t.subTransitions)

            begin if
              begin bool exp
                begin get property
                  get local var t (1 0 param)
                  push const string "subTransitions"
                end get property ret values 1
              end bool exp
              begin then

[744] this.applyTimeToList(time + t.startTransitionTime, t.subTransitions)

                begin call method
                  push this
                  begin params 3
                    push const string "applyTimeToList"
                    ,
                    begin operator +
                      get local var time (0 0 param)
                      begin get property
                        get local var t (1 0 param)
                        push const string "startTransitionTime"
                      end get property ret values 1
                    end operator +
                    ,
                    begin get property
                      get local var t (1 0 param)
                      push const string "subTransitions"
                    end get property ret values 1
                  end params ret values 3
                end call method ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [applyTimeToItem]
      end object
    end extends ret values 1
  end set env var Transition


[748] ColorNode = extends Node {

  begin set env var
    begin extends
      get env var Node
      begin object 2

[749] __object = {

        begin set by name
          begin object 1

[750] color: [0.5 0.7 0.5 1]

            begin set by name
              begin array 4
                begin set auto index
                  push const number 0.5
                end set auto index
                ,
                begin set auto index
                  push const number 0.7
                end set auto index
                ,
                begin set auto index
                  push const number 0.5
                end set auto index
                ,
                begin set auto index
                  push const number 1
                end set auto index
              end array
            end set by name: [color]
          end object
        end set by name: [__object]
        ,

[753] paint = function(){

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals

[754] this.drawBB(this.color, true)

            begin call method
              push this
              begin params 3
                push const string "drawBB"
                ,
                begin get this property by string
                  push this
                  push const string "color"
                end get this property by string ret values 1
                ,
                const true
              end params ret values 3
            end call method ret values 0
          end function
        end set by name: [paint]
      end object
    end extends ret values 1
  end set env var ColorNode


[758] Group = extends Node {

  begin set env var
    begin extends
      get env var Node
      begin object 1

[759] __object = {

        begin set by name
          begin object 3

[760] __isRelativeAnchor = false

            begin set by name
              const false
            end set by name: [__isRelativeAnchor]
            ,

[761] __anchorX = 0

            begin set by name
              push const number 0
            end set by name: [__anchorX]
            ,

[762] __anchorY = 0

            begin set by name
              push const number 0
            end set by name: [__anchorY]
          end object
        end set by name: [__object]
      end object
    end extends ret values 1
  end set env var Group


[766] Scene = extends Group {

  begin set env var
    begin extends
      get env var Group
      begin object 0
      end object
    end extends ret values 1
  end set env var Scene


[768] }

  begin code list
    begin return
      get local var _E (0 0)
    end return values 1
  end code list ret values 0
end function
