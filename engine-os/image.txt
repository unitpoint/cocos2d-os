
[FILE] raw://../../engine-os/image.os
[2] Image = extends Node {

begin function
  begin locals, total 2
    0 _E
    1 _G
  end locals
  begin set env var
    begin extends
      get env var Node
      begin object 6

[3] __object = {

        begin set by name
          begin object 7

[4] texture = null

            begin set by name
              const null
            end set by name: [texture]
            ,

[5] frameLeft = 0

            begin set by name
              push const number 0
            end set by name: [frameLeft]
            ,

[6] frameTop = 0

            begin set by name
              push const number 0
            end set by name: [frameTop]
            ,

[7] frameWidth = 0

            begin set by name
              push const number 0
            end set by name: [frameWidth]
            ,

[8] frameHeight = 0

            begin set by name
              push const number 0
            end set by name: [frameHeight]
            ,

[9] flipX = false

            begin set by name
              const false
            end set by name: [flipX]
            ,

[10] flipY = false

            begin set by name
              const false
            end set by name: [flipY]
          end object
        end set by name: [__object]
        ,

[12] __construct = function(t){

        begin set by name
          begin function
            begin locals, total 3
              0 t (param)
              1 _E
              2 _G
            end locals

[13] this.texture = t is Texture2d ? t : Texture2d(t)

            begin set property
              begin question
                begin bool exp
                  begin is
                    get local var t (0 0 param)
                    get env var Texture2d
                  end is
                end bool exp
                begin then value
                  get local var t (0 0 param)
                end then value
                begin else value
                  begin call method
                    get local var _E (1 0)
                    begin params 2
                      push const string "Texture2d"
                      ,
                      get local var t (0 0 param)
                    end params ret values 2
                  end call method ret values 1
                end else value
              end question ret values 1
              push this
              push const string "texture"
            end set property ret values 0


[14] this.frameWidth = this.texture.width

            begin set property
              begin get property
                begin get property
                  push this
                  push const string "texture"
                end get property ret values 1
                push const string "width"
              end get property ret values 1
              push this
              push const string "frameWidth"
            end set property ret values 0


[15] this.frameHeight = this.texture.height

            begin set property
              begin get property
                begin get property
                  push this
                  push const string "texture"
                end get property ret values 1
                push const string "height"
              end get property ret values 1
              push this
              push const string "frameHeight"
            end set property ret values 0


[16] this.width = this.frameWidth

            begin set property
              begin get property
                push this
                push const string "frameWidth"
              end get property ret values 1
              push this
              push const string "width"
            end set property ret values 0


[17] this.height = this.frameHeight

            begin set property
              begin get property
                push this
                push const string "frameHeight"
              end get property ret values 1
              push this
              push const string "height"
            end set property ret values 0
          end function
        end set by name: [__construct]
        ,

[20] paint = function(params){

        begin set by name
          begin function
            begin locals, total 3
              0 params (param)
              1 _E
              2 _G
            end locals

[21] app.drawImage(this, params.opacity)

            begin call method
              get env var app
              begin params 3
                push const string "drawImage"
                ,
                push this
                ,
                begin get property
                  get local var params (0 0 param)
                  push const string "opacity"
                end get property ret values 1
              end params ret values 3
            end call method ret values 0


[22] if(CC_SPRITE_DEBUG_DRAW){

            begin if
              begin bool exp
                get env var CC_SPRITE_DEBUG_DRAW
              end bool exp
              begin then

[23] this.drawBB([0 0 0 1])

                begin scope
                  begin call method
                    push this
                    begin params 2
                      push const string "drawBB"
                      ,
                      begin array 4
                        begin set auto index
                          push const number 0
                        end set auto index
                        ,
                        begin set auto index
                          push const number 0
                        end set auto index
                        ,
                        begin set auto index
                          push const number 0
                        end set auto index
                        ,
                        begin set auto index
                          push const number 1
                        end set auto index
                      end array
                    end params ret values 2
                  end call method ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [paint]
        ,

[27] animation = function(t, onComplete){

        begin set by name
          begin function
            begin locals, total 4
              0 t (param)
              1 onComplete (param)
              2 _E
              3 _G
            end locals

[28] return this.insert(ImageAnimation(t, this, onComplete))

            begin tail call method
              push this
              begin params 2
                push const string "insert"
                ,
                begin call method
                  get local var _E (2 0)
                  begin params 4
                    push const string "ImageAnimation"
                    ,
                    get local var t (0 0 param)
                    ,
                    push this
                    ,
                    get local var onComplete (1 0 param)
                  end params ret values 4
                end call method ret values 1
              end params ret values 2
            end tail call method
          end function
        end set by name: [animation]
        ,

[31] stopAnimation = function(t){

        begin set by name
          begin function
            begin locals, total 3
              0 t (param)
              1 _E
              2 _G
            end locals

[32] t && t.remove()

            begin pop
              begin logic &&
                get local var t (0 0 param)
                begin call method
                  get local var t (0 0 param)
                  begin params 1
                    push const string "remove"
                  end params ret values 1
                end call method ret values 1
              end logic &&
            end pop ret values 0
          end function
        end set by name: [stopAnimation]
        ,

[35] stopAllAnimations = function(){

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals

[36] this.removeAllInstancesOf(ImageAnimation)

            begin call method
              push this
              begin params 2
                push const string "removeAllInstancesOf"
                ,
                get env var ImageAnimation
              end params ret values 2
            end call method ret values 0
          end function
        end set by name: [stopAllAnimations]
      end object
    end extends ret values 1
  end set env var Image


[40] ImageAnimation = extends FunctionNode {

  begin set env var
    begin extends
      get env var FunctionNode
      begin object 3

[41] __object = {

        begin set by name
          begin object 2

[42] frames = []

            begin set by name
              begin array 0
              end array
            end set by name: [frames]
            ,

[43] index = 0

            begin set by name
              push const number 0
            end set by name: [index]
          end object
        end set by name: [__object]
        ,

[46] __construct = function(params, target, onComplete){

        begin set by name
          begin function
            begin locals, total 17
              0 params (param)
              1 target (param)
              2 onComplete (param)
              3 _E
              4 _G
              5 cols
              6 rows
              7 start
              8 count
              9 frameWidth
              10 frameHeight
              11 end
              12 yStart
              13 yEnd
            end locals

[47] super()

            begin call
              super
              begin params 0
              end params ret values 0
            end call ret values 0


[48] this.target, this.onComplete = target, functionof onComplete

            begin set property
              begin set property
                begin params 2
                  get local var target (1 0 param)
                  ,
                  begin functionof
                    get local var onComplete (2 0 param)
                  end functionof
                end params ret values 2
                push this
                push const string "onComplete"
              end set property ret values 1
              push this
              push const string "target"
            end set property ret values 0


[49] var cols, rows, start, count = params.cols, params.rows, params.start, params.frames

            begin set local var
              begin set local var
                begin set local var
                  begin set local var
                    begin params 4
                      begin get property
                        get local var params (0 0 param)
                        push const string "cols"
                      end get property ret values 1
                      ,
                      begin get property
                        get local var params (0 0 param)
                        push const string "rows"
                      end get property ret values 1
                      ,
                      begin get property
                        get local var params (0 0 param)
                        push const string "start"
                      end get property ret values 1
                      ,
                      begin get property
                        get local var params (0 0 param)
                        push const string "frames"
                      end get property ret values 1
                    end params ret values 4
                  end set local var count (8 0)
                end set local var start (7 0)
              end set local var rows (6 0)
            end set local var cols (5 0)


[51] var frameWidth, frameHeight = target.texture.width / cols, target.texture.height / rows

            begin set local var
              begin set local var
                begin params 2
                  begin operator /
                    begin get property
                      begin get property
                        get local var target (1 0 param)
                        push const string "texture"
                      end get property ret values 1
                      push const string "width"
                    end get property ret values 1
                    get local var cols (5 0)
                  end operator /
                  ,
                  begin operator /
                    begin get property
                      begin get property
                        get local var target (1 0 param)
                        push const string "texture"
                      end get property ret values 1
                      push const string "height"
                    end get property ret values 1
                    get local var rows (6 0)
                  end operator /
                end params ret values 2
              end set local var frameHeight (10 0)
            end set local var frameWidth (9 0)


[52] var end = start + (count < 0 ? cols * rows : count) - 1

            begin set local var
              begin operator -
                begin operator +
                  get local var start (7 0)
                  begin question
                    begin bool exp
                      begin logic <
                        get local var count (8 0)
                        push const number 0
                      end logic <
                    end bool exp
                    begin then value
                      begin operator *
                        get local var cols (5 0)
                        get local var rows (6 0)
                      end operator *
                    end then value
                    begin else value
                      get local var count (8 0)
                    end else value
                  end question ret values 1
                end operator +
                push const number 1
              end operator -
            end set local var end (11 0)


[53] var yStart = math.floor(start / cols)

            begin set local var
              begin call method
                get env var math
                begin params 2
                  push const string "floor"
                  ,
                  begin operator /
                    get local var start (7 0)
                    get local var cols (5 0)
                  end operator /
                end params ret values 2
              end call method ret values 1
            end set local var yStart (12 0)


[54] var yEnd = math.min(rows-1, math.floor(end / cols))

            begin set local var
              begin call method
                get env var math
                begin params 3
                  push const string "min"
                  ,
                  begin operator -
                    get local var rows (6 0)
                    push const number 1
                  end operator -
                  ,
                  begin call method
                    get env var math
                    begin params 2
                      push const string "floor"
                      ,
                      begin operator /
                        get local var end (11 0)
                        get local var cols (5 0)
                      end operator /
                    end params ret values 2
                  end call method ret values 1
                end params ret values 3
              end call method ret values 1
            end set local var yEnd (13 0)


[55] for(var y = yStart; y <= yEnd; y++){

            begin scope
              begin locals 1
                14 y
              end locals
              begin set local var
                get local var yStart (12 0)
              end set local var y (14 0)

              begin loop
                begin if
                  begin bool exp
                    begin logic not
                      begin logic <=
                        get local var y (14 0)
                        get local var yEnd (13 0)
                      end logic <=
                    end logic not
                  end bool exp
                  begin then
                    break
                  end then
                end if ret values 0


[56] for(var x = 0; x < cols; x++){

                begin scope
                  begin scope
                    begin locals 1
                      15 x
                    end locals
                    begin set local var
                      push const number 0
                    end set local var x (15 0)

                    begin loop
                      begin if
                        begin bool exp
                          begin logic not
                            begin logic <
                              get local var x (15 0)
                              get local var cols (5 0)
                            end logic <
                          end logic not
                        end bool exp
                        begin then
                          break
                        end then
                      end if ret values 0


[57] var i = y*cols + x

                      begin scope
                        begin locals 1
                          16 i
                        end locals
                        begin set local var
                          begin operator +
                            begin operator *
                              get local var y (14 0)
                              get local var cols (5 0)
                            end operator *
                            get local var x (15 0)
                          end operator +
                        end set local var i (16 0)


[58] if(i >= start && i <= end){

                        begin if
                          begin bool exp
                            begin logic &&
                              begin logic >=
                                get local var i (16 0)
                                get local var start (7 0)
                              end logic >=
                              begin logic <=
                                get local var i (16 0)
                                get local var end (11 0)
                              end logic <=
                            end logic &&
                          end bool exp
                          begin then

[59] this.frames.push {

                            begin scope
                              begin call method
                                begin get property
                                  push this
                                  push const string "frames"
                                end get property ret values 1
                                begin params 2
                                  push const string "push"
                                  ,
                                  begin object 4

[60] left = frameWidth * x

                                    begin set by name
                                      begin operator *
                                        get local var frameWidth (9 0)
                                        get local var x (15 0)
                                      end operator *
                                    end set by name: [left]
                                    ,

[61] top = frameHeight * y

                                    begin set by name
                                      begin operator *
                                        get local var frameHeight (10 0)
                                        get local var y (14 0)
                                      end operator *
                                    end set by name: [top]
                                    ,

[62] width = frameWidth

                                    begin set by name
                                      get local var frameWidth (9 0)
                                    end set by name: [width]
                                    ,

[63] height = frameHeight

                                    begin set by name
                                      get local var frameHeight (10 0)
                                    end set by name: [height]
                                  end object
                                end params ret values 2
                              end call method ret values 0
                            end scope ret values 0
                          end then
                        end if ret values 0
                      end scope ret values 0


[56] for(var x = 0; x < cols; x++){

                      begin code list
                        begin set local var
                          begin operator +
                            get local var x (15 0)
                            push const number 1
                          end operator +
                        end set local var x (15 0)
                      end code list ret values 0
                    end loop ret values 0
                  end scope ret values 0
                end scope ret values 0


[55] for(var y = yStart; y <= yEnd; y++){

                begin code list
                  begin set local var
                    begin operator +
                      get local var y (14 0)
                      push const number 1
                    end operator +
                  end set local var y (14 0)
                end code list ret values 0
              end loop ret values 0
            end scope ret values 0


[68] this.update()

            begin call method
              push this
              begin params 1
                push const string "update"
              end params ret values 1
            end call method ret values 0


[69] this.setTimeout(this.update, params.delay, true)

            begin call method
              push this
              begin params 4
                push const string "setTimeout"
                ,
                begin get property
                  push this
                  push const string "update"
                end get property ret values 1
                ,
                begin get property
                  get local var params (0 0 param)
                  push const string "delay"
                end get property ret values 1
                ,
                const true
              end params ret values 4
            end call method ret values 0
          end function
        end set by name: [__construct]
        ,

[72] update = function(){

        begin set by name
          begin function
            begin locals, total 4
              0 _E
              1 _G
              2 frame
              3 target
            end locals

[73] var frame, target = this.frames[this.index], this.target

            begin set local var
              begin set local var
                begin params 2
                  begin get property
                    begin get property
                      push this
                      push const string "frames"
                    end get property ret values 1
                    begin get property
                      push this
                      push const string "index"
                    end get property ret values 1
                  end get property ret values 1
                  ,
                  begin get property
                    push this
                    push const string "target"
                  end get property ret values 1
                end params ret values 2
              end set local var target (3 0)
            end set local var frame (2 0)


[74] this.index = (this.index + 1) % #this.frames

            begin set property
              begin operator %
                begin operator +
                  begin get property
                    push this
                    push const string "index"
                  end get property ret values 1
                  push const number 1
                end operator +
                begin length
                  begin get property
                    push this
                    push const string "frames"
                  end get property ret values 1
                end length
              end operator %
              push this
              push const string "index"
            end set property ret values 0


[75] if(this.index == 0 && this.onComplete){

            begin if
              begin bool exp
                begin logic &&
                  begin logic ==
                    begin get property
                      push this
                      push const string "index"
                    end get property ret values 1
                    push const number 0
                  end logic ==
                  begin get property
                    push this
                    push const string "onComplete"
                  end get property ret values 1
                end logic &&
              end bool exp
              begin then

[77] this.onComplete.call(target, this)

                begin scope
                  begin call method
                    begin get property
                      push this
                      push const string "onComplete"
                    end get property ret values 1
                    begin params 3
                      push const string "call"
                      ,
                      get local var target (3 0)
                      ,
                      push this
                    end params ret values 3
                  end call method ret values 0
                end scope ret values 0
              end then
            end if ret values 0


[80] target.frameLeft = frame.left

            begin set property
              begin get property
                get local var frame (2 0)
                push const string "left"
              end get property ret values 1
              get local var auto create target (3 0)
              push const string "frameLeft"
            end set property ret values 0


[81] target.frameTop = frame.top

            begin set property
              begin get property
                get local var frame (2 0)
                push const string "top"
              end get property ret values 1
              get local var auto create target (3 0)
              push const string "frameTop"
            end set property ret values 0


[82] target.frameWidth = frame.width

            begin set property
              begin get property
                get local var frame (2 0)
                push const string "width"
              end get property ret values 1
              get local var auto create target (3 0)
              push const string "frameWidth"
            end set property ret values 0


[83] target.frameHeight = frame.height

            begin set property
              begin get property
                get local var frame (2 0)
                push const string "height"
              end get property ret values 1
              get local var auto create target (3 0)
              push const string "frameHeight"
            end set property ret values 0


[84] target.width = frame.width

            begin set property
              begin get property
                get local var frame (2 0)
                push const string "width"
              end get property ret values 1
              get local var auto create target (3 0)
              push const string "width"
            end set property ret values 0


[85] target.height = frame.height

            begin set property
              begin get property
                get local var frame (2 0)
                push const string "height"
              end get property ret values 1
              get local var auto create target (3 0)
              push const string "height"
            end set property ret values 0
          end function
        end set by name: [update]
      end object
    end extends ret values 1
  end set env var ImageAnimation


[89] Sprite = extends Node {

  begin set env var
    begin extends
      get env var Node
      begin object 11

[90] __construct = function(filename){

        begin set by name
          begin function
            begin locals, total 3
              0 filename (param)
              1 _E
              2 _G
            end locals

[91] super()

            begin call
              super
              begin params 0
              end params ret values 0
            end call ret values 0


[92] this.image = Image(filename)

            begin set property
              begin call method
                get local var _E (1 0)
                begin params 2
                  push const string "Image"
                  ,
                  get local var filename (0 0 param)
                end params ret values 2
              end call method ret values 1
              push this
              push const string "image"
            end set property ret values 0


[93] this.width = this.image.width

            begin set property
              begin get property
                begin get property
                  push this
                  push const string "image"
                end get property ret values 1
                push const string "width"
              end get property ret values 1
              push this
              push const string "width"
            end set property ret values 0


[94] this.height = this.image.height

            begin set property
              begin get property
                begin get property
                  push this
                  push const string "image"
                end get property ret values 1
                push const string "height"
              end get property ret values 1
              push this
              push const string "height"
            end set property ret values 0


[95] this.image.x = this.width * 0.5

            begin set property
              begin operator *
                begin get property
                  push this
                  push const string "width"
                end get property ret values 1
                push const number 0.5
              end operator *
              begin get property auto create
                push this
                push const string "image"
              end get property auto create ret values 1
              push const string "x"
            end set property ret values 0


[96] this.image.y = this.height * 0.5

            begin set property
              begin operator *
                begin get property
                  push this
                  push const string "height"
                end get property ret values 1
                push const number 0.5
              end operator *
              begin get property auto create
                push this
                push const string "image"
              end get property auto create ret values 1
              push const string "y"
            end set property ret values 0


[97] this.insert(this.image, -1)

            begin call method
              push this
              begin params 3
                push const string "insert"
                ,
                begin get property
                  push this
                  push const string "image"
                end get property ret values 1
                ,
                begin neg
                  push const number 1
                end neg
              end params ret values 3
            end call method ret values 0


[98] delete this.color

            begin delete
              push this
              push const string "color"
            end delete
          end function
        end set by name: [__construct]
        ,

[101] __get@color = function(){ return this.image.color }

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                begin get property
                  push this
                  push const string "image"
                end get property ret values 1
                push const string "color"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@color]
        ,

[102] __set@color = function(a){ this.image.color = a }

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin set property
              get local var a (0 0 param)
              begin get property auto create
                push this
                push const string "image"
              end get property auto create ret values 1
              push const string "color"
            end set property ret values 0
          end function
        end set by name: [__set@color]
        ,

[104] __get@flipX = function(){ return this.image.flipX }

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                begin get property
                  push this
                  push const string "image"
                end get property ret values 1
                push const string "flipX"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@flipX]
        ,

[105] __set@flipX = function(a){ this.image.flipX = a }

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin set property
              get local var a (0 0 param)
              begin get property auto create
                push this
                push const string "image"
              end get property auto create ret values 1
              push const string "flipX"
            end set property ret values 0
          end function
        end set by name: [__set@flipX]
        ,

[107] __get@flipY = function(){ return this.image.flipY }

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals
            begin return
              begin get property
                begin get property
                  push this
                  push const string "image"
                end get property ret values 1
                push const string "flipY"
              end get property ret values 1
            end return values 1
          end function
        end set by name: [__get@flipY]
        ,

[108] __set@flipY = function(a){ this.image.flipY = a }

        begin set by name
          begin function
            begin locals, total 3
              0 a (param)
              1 _E
              2 _G
            end locals
            begin set property
              get local var a (0 0 param)
              begin get property auto create
                push this
                push const string "image"
              end get property auto create ret values 1
              push const string "flipY"
            end set property ret values 0
          end function
        end set by name: [__set@flipY]
        ,

[110] animation = function(params, onComplete){

        begin set by name
          begin function
            begin locals, total 9
              0 params (param)
              1 onComplete (param)
              2 _E
              3 _G
              4 self
              5 anim
            end locals

[111] var self = this

            begin set local var
              push this
            end set local var self (4 0)


[112] var anim = this.image.animation(params, onComplete && function(target, anim){

            begin set local var
              begin call method
                begin get property
                  push this
                  push const string "image"
                end get property ret values 1
                begin params 3
                  push const string "animation"
                  ,
                  get local var params (0 0 param)
                  ,
                  begin logic &&
                    get local var onComplete (1 0 param)
                    begin function
                      begin locals, total 4
                        0 target (param)
                        1 anim (param)
                        2 _E
                        3 _G
                      end locals

[113] onComplete.call(self, anim)

                      begin call method
                        get local var onComplete (1 1 param)
                        begin params 3
                          push const string "call"
                          ,
                          get local var self (4 1)
                          ,
                          get local var anim (1 0 param)
                        end params ret values 3
                      end call method ret values 0
                    end function
                  end logic &&
                end params ret values 3
              end call method ret values 1
            end set local var anim (5 0)


[115] if("rect" in params){

            begin if
              begin bool exp
                begin in
                  push const string "rect"
                  get local var params (0 0 param)
                end in
              end bool exp
              begin then

[116] var rect = params.rect

                begin scope
                  begin locals 3
                    6 rect
                    7 cx
                    8 cy
                  end locals
                  begin set local var
                    begin get property
                      get local var params (0 0 param)
                      push const string "rect"
                    end get property ret values 1
                  end set local var rect (6 0)


[117] this.width = this.image.width * rect.width

                  begin set property
                    begin operator *
                      begin get property
                        begin get property
                          push this
                          push const string "image"
                        end get property ret values 1
                        push const string "width"
                      end get property ret values 1
                      begin get property
                        get local var rect (6 0)
                        push const string "width"
                      end get property ret values 1
                    end operator *
                    push this
                    push const string "width"
                  end set property ret values 0


[118] this.height = this.image.height * rect.height

                  begin set property
                    begin operator *
                      begin get property
                        begin get property
                          push this
                          push const string "image"
                        end get property ret values 1
                        push const string "height"
                      end get property ret values 1
                      begin get property
                        get local var rect (6 0)
                        push const string "height"
                      end get property ret values 1
                    end operator *
                    push this
                    push const string "height"
                  end set property ret values 0


[119] var cx, cy = rect.center.x, rect.center.y

                  begin set local var
                    begin set local var
                      begin params 2
                        begin get property
                          begin get property
                            get local var rect (6 0)
                            push const string "center"
                          end get property ret values 1
                          push const string "x"
                        end get property ret values 1
                        ,
                        begin get property
                          begin get property
                            get local var rect (6 0)
                            push const string "center"
                          end get property ret values 1
                          push const string "y"
                        end get property ret values 1
                      end params ret values 2
                    end set local var cy (8 0)
                  end set local var cx (7 0)


[120] if("anchor" in rect){

                  begin if
                    begin bool exp
                      begin in
                        push const string "anchor"
                        get local var rect (6 0)
                      end in
                    end bool exp
                    begin then

[121] cx = cx + rect.width * (rect.anchor.x - 0.5)

                      begin scope
                        begin set local var
                          begin operator +
                            get local var cx (7 0)
                            begin operator *
                              begin get property
                                get local var rect (6 0)
                                push const string "width"
                              end get property ret values 1
                              begin operator -
                                begin get property
                                  begin get property
                                    get local var rect (6 0)
                                    push const string "anchor"
                                  end get property ret values 1
                                  push const string "x"
                                end get property ret values 1
                                push const number 0.5
                              end operator -
                            end operator *
                          end operator +
                        end set local var cx (7 0)


[122] cy = cy + rect.height * (rect.anchor.y - 0.5)

                        begin set local var
                          begin operator +
                            get local var cy (8 0)
                            begin operator *
                              begin get property
                                get local var rect (6 0)
                                push const string "height"
                              end get property ret values 1
                              begin operator -
                                begin get property
                                  begin get property
                                    get local var rect (6 0)
                                    push const string "anchor"
                                  end get property ret values 1
                                  push const string "y"
                                end get property ret values 1
                                push const number 0.5
                              end operator -
                            end operator *
                          end operator +
                        end set local var cy (8 0)
                      end scope ret values 0
                    end then
                  end if ret values 0


[124] this.image.anchorX = cx

                  begin set property
                    get local var cx (7 0)
                    begin get property auto create
                      push this
                      push const string "image"
                    end get property auto create ret values 1
                    push const string "anchorX"
                  end set property ret values 0


[125] this.image.anchorY = cy

                  begin set property
                    get local var cy (8 0)
                    begin get property auto create
                      push this
                      push const string "image"
                    end get property auto create ret values 1
                    push const string "anchorY"
                  end set property ret values 0
                end scope ret values 0
              end then
              begin else

[127] this.width = this.image.width

                begin scope
                  begin set property
                    begin get property
                      begin get property
                        push this
                        push const string "image"
                      end get property ret values 1
                      push const string "width"
                    end get property ret values 1
                    push this
                    push const string "width"
                  end set property ret values 0


[128] this.height = this.image.height

                  begin set property
                    begin get property
                      begin get property
                        push this
                        push const string "image"
                      end get property ret values 1
                      push const string "height"
                    end get property ret values 1
                    push this
                    push const string "height"
                  end set property ret values 0
                end scope ret values 0
              end else
            end if ret values 0


[130] this.image.x = this.width * 0.5

            begin set property
              begin operator *
                begin get property
                  push this
                  push const string "width"
                end get property ret values 1
                push const number 0.5
              end operator *
              begin get property auto create
                push this
                push const string "image"
              end get property auto create ret values 1
              push const string "x"
            end set property ret values 0


[131] this.image.y = this.height * 0.5

            begin set property
              begin operator *
                begin get property
                  push this
                  push const string "height"
                end get property ret values 1
                push const number 0.5
              end operator *
              begin get property auto create
                push this
                push const string "image"
              end get property auto create ret values 1
              push const string "y"
            end set property ret values 0


[132] return anim

            begin code list
              begin return
                get local var anim (5 0)
              end return values 1
            end code list ret values 0
          end function
        end set by name: [animation]
        ,

[135] stopAnimation = function(t){

        begin set by name
          begin function
            begin locals, total 3
              0 t (param)
              1 _E
              2 _G
            end locals

[136] this.image.stopAnimation(t)

            begin call method
              begin get property
                push this
                push const string "image"
              end get property ret values 1
              begin params 2
                push const string "stopAnimation"
                ,
                get local var t (0 0 param)
              end params ret values 2
            end call method ret values 0
          end function
        end set by name: [stopAnimation]
        ,

[139] stopAllAnimations = function(){

        begin set by name
          begin function
            begin locals, total 2
              0 _E
              1 _G
            end locals

[140] this.image.stopAllAnimations()

            begin call method
              begin get property
                push this
                push const string "image"
              end get property ret values 1
              begin params 1
                push const string "stopAllAnimations"
              end params ret values 1
            end call method ret values 0
          end function
        end set by name: [stopAllAnimations]
        ,

[143] paint = function(params){

        begin set by name
          begin function
            begin locals, total 3
              0 params (param)
              1 _E
              2 _G
            end locals

[144] if(CC_SPRITE_DEBUG_DRAW){

            begin if
              begin bool exp
                get env var CC_SPRITE_DEBUG_DRAW
              end bool exp
              begin then

[145] this.drawBB([1 0 0 1])

                begin scope
                  begin call method
                    push this
                    begin params 2
                      push const string "drawBB"
                      ,
                      begin array 4
                        begin set auto index
                          push const number 1
                        end set auto index
                        ,
                        begin set auto index
                          push const number 0
                        end set auto index
                        ,
                        begin set auto index
                          push const number 0
                        end set auto index
                        ,
                        begin set auto index
                          push const number 1
                        end set auto index
                      end array
                    end params ret values 2
                  end call method ret values 0
                end scope ret values 0
              end then
            end if ret values 0
          end function
        end set by name: [paint]
      end object
    end extends ret values 1
  end set env var Sprite


[147] }

  begin code list
    begin return
      get local var _E (0 0)
    end return values 1
  end code list ret values 0
end function
