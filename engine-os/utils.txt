
[FILE] raw://../../engine-os/utils.os
[2] function ccDrawPoly(points closePolygon fill)

begin function
  begin locals, total 9
    0 _E
    1 _G
    2 Easy
    3 outBounce
    4 easyInOutHelper
  end locals
  begin set env var
    begin function
      begin locals, total 6
        0 points (param)
        1 closePolygon (param)
        2 fill (param)
        3 _E
        4 _G
        5 pointer
      end locals

[4] glDisable(GL_TEXTURE_2D);

      begin call method
        get local var _E (3 0)
        begin params 2
          push const string "glDisable"
          ,
          get env var GL_TEXTURE_2D
        end params ret values 2
      end call method ret values 0


[5] glDisableClientState(GL_TEXTURE_COORD_ARRAY);

      begin call method
        get local var _E (3 0)
        begin params 2
          push const string "glDisableClientState"
          ,
          get env var GL_TEXTURE_COORD_ARRAY
        end params ret values 2
      end call method ret values 0


[6] glDisableClientState(GL_COLOR_ARRAY);

      begin call method
        get local var _E (3 0)
        begin params 2
          push const string "glDisableClientState"
          ,
          get env var GL_COLOR_ARRAY
        end params ret values 2
      end call method ret values 0


[9] var pointer = glVertexPointer(2, GL_FLOAT, 0, points);

      begin set local var
        begin call method
          get local var _E (3 0)
          begin params 5
            push const string "glVertexPointer"
            ,
            push const number 2
            ,
            get env var GL_FLOAT
            ,
            push const number 0
            ,
            get local var points (0 0 param)
          end params ret values 5
        end call method ret values 1
      end set local var pointer (5 0)


[10] if(closePolygon){

      begin if
        begin bool exp
          get local var closePolygon (1 0 param)
        end bool exp
        begin then

[11] glDrawArrays(fill ? GL_TRIANGLE_FAN : GL_LINE_LOOP, 0, #points);

          begin scope
            begin call method
              get local var _E (3 0)
              begin params 4
                push const string "glDrawArrays"
                ,
                begin question
                  begin bool exp
                    get local var fill (2 0 param)
                  end bool exp
                  begin then value
                    get env var GL_TRIANGLE_FAN
                  end then value
                  begin else value
                    get env var GL_LINE_LOOP
                  end else value
                end question ret values 1
                ,
                push const number 0
                ,
                begin length
                  get local var points (0 0 param)
                end length
              end params ret values 4
            end call method ret values 0
          end scope ret values 0
        end then
        begin else

[13] glDrawArrays(fill ? GL_TRIANGLE_FAN : GL_LINE_STRIP, 0, #points);

          begin scope
            begin call method
              get local var _E (3 0)
              begin params 4
                push const string "glDrawArrays"
                ,
                begin question
                  begin bool exp
                    get local var fill (2 0 param)
                  end bool exp
                  begin then value
                    get env var GL_TRIANGLE_FAN
                  end then value
                  begin else value
                    get env var GL_LINE_STRIP
                  end else value
                end question ret values 1
                ,
                push const number 0
                ,
                begin length
                  get local var points (0 0 param)
                end length
              end params ret values 4
            end call method ret values 0
          end scope ret values 0
        end else
      end if ret values 0


[16] glEnableClientState(GL_COLOR_ARRAY);

      begin call method
        get local var _E (3 0)
        begin params 2
          push const string "glEnableClientState"
          ,
          get env var GL_COLOR_ARRAY
        end params ret values 2
      end call method ret values 0


[17] glEnableClientState(GL_TEXTURE_COORD_ARRAY);

      begin call method
        get local var _E (3 0)
        begin params 2
          push const string "glEnableClientState"
          ,
          get env var GL_TEXTURE_COORD_ARRAY
        end params ret values 2
      end call method ret values 0


[18] glEnable(GL_TEXTURE_2D);

      begin call method
        get local var _E (3 0)
        begin params 2
          push const string "glEnable"
          ,
          get env var GL_TEXTURE_2D
        end params ret values 2
      end call method ret values 0
    end function
  end set env var ccDrawPoly


[21] Matrix = {

  begin set env var
    begin object 11

[28] __construct = function(a b c d tx ty){

      begin set by name
        begin function
          begin locals, total 8
            0 a (param)
            1 b (param)
            2 c (param)
            3 d (param)
            4 tx (param)
            5 ty (param)
            6 _E
            7 _G
          end locals

[29] if(!a){

          begin if
            begin bool exp
              begin logic not
                get local var a (0 0 param)
              end logic not
            end bool exp
            begin then

[30] this.a = 1

              begin scope
                begin set property
                  push const number 1
                  push this
                  push const string "a"
                end set property ret values 0


[31] this.b = 0

                begin set property
                  push const number 0
                  push this
                  push const string "b"
                end set property ret values 0


[32] this.c = 0

                begin set property
                  push const number 0
                  push this
                  push const string "c"
                end set property ret values 0


[33] this.d = 1

                begin set property
                  push const number 1
                  push this
                  push const string "d"
                end set property ret values 0


[34] this.tx = 0

                begin set property
                  push const number 0
                  push this
                  push const string "tx"
                end set property ret values 0


[35] this.ty = 0

                begin set property
                  push const number 0
                  push this
                  push const string "ty"
                end set property ret values 0
              end scope ret values 0
            end then
            begin else

[37] this.a = a

              begin scope
                begin set property
                  get local var a (0 0 param)
                  push this
                  push const string "a"
                end set property ret values 0


[38] this.b = b

                begin set property
                  get local var b (1 0 param)
                  push this
                  push const string "b"
                end set property ret values 0


[39] this.c = c

                begin set property
                  get local var c (2 0 param)
                  push this
                  push const string "c"
                end set property ret values 0


[40] this.d = d

                begin set property
                  get local var d (3 0 param)
                  push this
                  push const string "d"
                end set property ret values 0


[41] this.tx = tx

                begin set property
                  get local var tx (4 0 param)
                  push this
                  push const string "tx"
                end set property ret values 0


[42] this.ty = ty

                begin set property
                  get local var ty (5 0 param)
                  push this
                  push const string "ty"
                end set property ret values 0
              end scope ret values 0
            end else
          end if ret values 0
        end function
      end set by name: [__construct]
      ,

[46] set = function(a b c d tx ty){

      begin set by name
        begin function
          begin locals, total 8
            0 a (param)
            1 b (param)
            2 c (param)
            3 d (param)
            4 tx (param)
            5 ty (param)
            6 _E
            7 _G
          end locals

[47] if(!a){

          begin if
            begin bool exp
              begin logic not
                get local var a (0 0 param)
              end logic not
            end bool exp
            begin then

[48] this.a = 1

              begin scope
                begin set property
                  push const number 1
                  push this
                  push const string "a"
                end set property ret values 0


[49] this.b = 0

                begin set property
                  push const number 0
                  push this
                  push const string "b"
                end set property ret values 0


[50] this.c = 0

                begin set property
                  push const number 0
                  push this
                  push const string "c"
                end set property ret values 0


[51] this.d = 1

                begin set property
                  push const number 1
                  push this
                  push const string "d"
                end set property ret values 0


[52] this.tx = 0

                begin set property
                  push const number 0
                  push this
                  push const string "tx"
                end set property ret values 0


[53] this.ty = 0

                begin set property
                  push const number 0
                  push this
                  push const string "ty"
                end set property ret values 0


[54] return this

                begin code list
                  begin return
                    push this
                  end return values 1
                end code list ret values 0
              end scope ret values 0
            end then
          end if ret values 0


[56] this.a = a

          begin set property
            get local var a (0 0 param)
            push this
            push const string "a"
          end set property ret values 0


[57] this.b = b

          begin set property
            get local var b (1 0 param)
            push this
            push const string "b"
          end set property ret values 0


[58] this.c = c

          begin set property
            get local var c (2 0 param)
            push this
            push const string "c"
          end set property ret values 0


[59] this.d = d

          begin set property
            get local var d (3 0 param)
            push this
            push const string "d"
          end set property ret values 0


[60] this.tx = tx

          begin set property
            get local var tx (4 0 param)
            push this
            push const string "tx"
          end set property ret values 0


[61] this.ty = ty

          begin set property
            get local var ty (5 0 param)
            push this
            push const string "ty"
          end set property ret values 0


[62] return this

          begin code list
            begin return
              push this
            end return values 1
          end code list ret values 0
        end function
      end set by name: [set]
      ,

[65] transform = function(point){

      begin set by name
        begin function
          begin locals, total 3
            0 point (param)
            1 _E
            2 _G
          end locals

[66] return {

          begin return
            begin object 2

[67] x = this.a * point.x + this.c * point.y + this.tx

              begin set by name
                begin operator +
                  begin operator +
                    begin operator *
                      begin get property
                        push this
                        push const string "a"
                      end get property ret values 1
                      begin get property
                        get local var point (0 0 param)
                        push const string "x"
                      end get property ret values 1
                    end operator *
                    begin operator *
                      begin get property
                        push this
                        push const string "c"
                      end get property ret values 1
                      begin get property
                        get local var point (0 0 param)
                        push const string "y"
                      end get property ret values 1
                    end operator *
                  end operator +
                  begin get property
                    push this
                    push const string "tx"
                  end get property ret values 1
                end operator +
              end set by name: [x]
              ,

[68] y = this.b * point.x + this.d * point.y + this.ty

              begin set by name
                begin operator +
                  begin operator +
                    begin operator *
                      begin get property
                        push this
                        push const string "b"
                      end get property ret values 1
                      begin get property
                        get local var point (0 0 param)
                        push const string "x"
                      end get property ret values 1
                    end operator *
                    begin operator *
                      begin get property
                        push this
                        push const string "d"
                      end get property ret values 1
                      begin get property
                        get local var point (0 0 param)
                        push const string "y"
                      end get property ret values 1
                    end operator *
                  end operator +
                  begin get property
                    push this
                    push const string "ty"
                  end get property ret values 1
                end operator +
              end set by name: [y]
            end object
          end return values 1
        end function
      end set by name: [transform]
      ,

[72] translate = function(tx ty){

      begin set by name
        begin function
          begin locals, total 4
            0 tx (param)
            1 ty (param)
            2 _E
            3 _G
          end locals

[73] return this.set(this.a, this.b, this.c, this.d, this.tx + this.a * tx + this.c * ty, this.ty + this.b * tx + this.d * ty)

          begin tail call method
            push this
            begin params 7
              push const string "set"
              ,
              begin get property
                push this
                push const string "a"
              end get property ret values 1
              ,
              begin get property
                push this
                push const string "b"
              end get property ret values 1
              ,
              begin get property
                push this
                push const string "c"
              end get property ret values 1
              ,
              begin get property
                push this
                push const string "d"
              end get property ret values 1
              ,
              begin operator +
                begin operator +
                  begin get property
                    push this
                    push const string "tx"
                  end get property ret values 1
                  begin operator *
                    begin get property
                      push this
                      push const string "a"
                    end get property ret values 1
                    get local var tx (0 0 param)
                  end operator *
                end operator +
                begin operator *
                  begin get property
                    push this
                    push const string "c"
                  end get property ret values 1
                  get local var ty (1 0 param)
                end operator *
              end operator +
              ,
              begin operator +
                begin operator +
                  begin get property
                    push this
                    push const string "ty"
                  end get property ret values 1
                  begin operator *
                    begin get property
                      push this
                      push const string "b"
                    end get property ret values 1
                    get local var tx (0 0 param)
                  end operator *
                end operator +
                begin operator *
                  begin get property
                    push this
                    push const string "d"
                  end get property ret values 1
                  get local var ty (1 0 param)
                end operator *
              end operator +
            end params ret values 7
          end tail call method
        end function
      end set by name: [translate]
      ,

[76] scale = function(sx sy){

      begin set by name
        begin function
          begin locals, total 4
            0 sx (param)
            1 sy (param)
            2 _E
            3 _G
          end locals

[77] return this.set(this.a * sx, this.b * sx, this.c * sy, this.d * sy, this.tx, this.ty)

          begin tail call method
            push this
            begin params 7
              push const string "set"
              ,
              begin operator *
                begin get property
                  push this
                  push const string "a"
                end get property ret values 1
                get local var sx (0 0 param)
              end operator *
              ,
              begin operator *
                begin get property
                  push this
                  push const string "b"
                end get property ret values 1
                get local var sx (0 0 param)
              end operator *
              ,
              begin operator *
                begin get property
                  push this
                  push const string "c"
                end get property ret values 1
                get local var sy (1 0 param)
              end operator *
              ,
              begin operator *
                begin get property
                  push this
                  push const string "d"
                end get property ret values 1
                get local var sy (1 0 param)
              end operator *
              ,
              begin get property
                push this
                push const string "tx"
              end get property ret values 1
              ,
              begin get property
                push this
                push const string "ty"
              end get property ret values 1
            end params ret values 7
          end tail call method
        end function
      end set by name: [scale]
      ,

[80] rotate = function(angle){

      begin set by name
        begin function
          begin locals, total 5
            0 angle (param)
            1 _E
            2 _G
            3 fSin
            4 fCos
          end locals

[81] angle = math.rad(angle)

          begin set local var
            begin call method
              get env var math
              begin params 2
                push const string "rad"
                ,
                get local var angle (0 0 param)
              end params ret values 2
            end call method ret values 1
          end set local var angle (0 0 param)


[82] var fSin = math.sin(angle);

          begin set local var
            begin call method
              get env var math
              begin params 2
                push const string "sin"
                ,
                get local var angle (0 0 param)
              end params ret values 2
            end call method ret values 1
          end set local var fSin (3 0)


[83] var fCos = math.cos(angle);

          begin set local var
            begin call method
              get env var math
              begin params 2
                push const string "cos"
                ,
                get local var angle (0 0 param)
              end params ret values 2
            end call method ret values 1
          end set local var fCos (4 0)


[84] return this.set(this.a * fCos + this.c * fSin,

          begin code list
            begin tail call method
              push this
              begin params 7
                push const string "set"
                ,
                begin operator +
                  begin operator *
                    begin get property
                      push this
                      push const string "a"
                    end get property ret values 1
                    get local var fCos (4 0)
                  end operator *
                  begin operator *
                    begin get property
                      push this
                      push const string "c"
                    end get property ret values 1
                    get local var fSin (3 0)
                  end operator *
                end operator +
                ,

[85] this.b * fCos + this.d * fSin,

                begin operator +
                  begin operator *
                    begin get property
                      push this
                      push const string "b"
                    end get property ret values 1
                    get local var fCos (4 0)
                  end operator *
                  begin operator *
                    begin get property
                      push this
                      push const string "d"
                    end get property ret values 1
                    get local var fSin (3 0)
                  end operator *
                end operator +
                ,

[86] this.c * fCos - this.a * fSin,

                begin operator -
                  begin operator *
                    begin get property
                      push this
                      push const string "c"
                    end get property ret values 1
                    get local var fCos (4 0)
                  end operator *
                  begin operator *
                    begin get property
                      push this
                      push const string "a"
                    end get property ret values 1
                    get local var fSin (3 0)
                  end operator *
                end operator -
                ,

[87] this.d * fCos - this.b * fSin,

                begin operator -
                  begin operator *
                    begin get property
                      push this
                      push const string "d"
                    end get property ret values 1
                    get local var fCos (4 0)
                  end operator *
                  begin operator *
                    begin get property
                      push this
                      push const string "b"
                    end get property ret values 1
                    get local var fSin (3 0)
                  end operator *
                end operator -
                ,

[88] this.tx, this.ty)

                begin get property
                  push this
                  push const string "tx"
                end get property ret values 1
                ,
                begin get property
                  push this
                  push const string "ty"
                end get property ret values 1
              end params ret values 7
            end tail call method
          end code list ret values 0
        end function
      end set by name: [rotate]
      ,

[91] skew = function(skewX skewY){

      begin set by name
        begin function
          begin locals, total 5
            0 skewX (param)
            1 skewY (param)
            2 _E
            3 _G
            4 skewMatrix
          end locals

[92] var skewMatrix = Matrix(1.0, math.tan(math.rad(skewY)), math.tan(math.rad(skewX)), 1.0, 0.0, 0.0)

          begin set local var
            begin call method
              get local var _E (2 0)
              begin params 7
                push const string "Matrix"
                ,
                push const number 1.0
                ,
                begin call method
                  get env var math
                  begin params 2
                    push const string "tan"
                    ,
                    begin call method
                      get env var math
                      begin params 2
                        push const string "rad"
                        ,
                        get local var skewY (1 0 param)
                      end params ret values 2
                    end call method ret values 1
                  end params ret values 2
                end call method ret values 1
                ,
                begin call method
                  get env var math
                  begin params 2
                    push const string "tan"
                    ,
                    begin call method
                      get env var math
                      begin params 2
                        push const string "rad"
                        ,
                        get local var skewX (0 0 param)
                      end params ret values 2
                    end call method ret values 1
                  end params ret values 2
                end call method ret values 1
                ,
                push const number 1.0
                ,
                push const number 0.0
                ,
                push const number 0.0
              end params ret values 7
            end call method ret values 1
          end set local var skewMatrix (4 0)


[93] return skewMatrix.mult(this)

          begin code list
            begin tail call method
              get local var skewMatrix (4 0)
              begin params 2
                push const string "mult"
                ,
                push this
              end params ret values 2
            end tail call method
          end code list ret values 0
        end function
      end set by name: [skew]
      ,

[96] mult = function(t2){

      begin set by name
        begin function
          begin locals, total 4
            0 t2 (param)
            1 _E
            2 _G
            3 t1
          end locals

[97] var t1 = this

          begin set local var
            push this
          end set local var t1 (3 0)


[98] return this.set(

          begin code list
            begin tail call method
              push this
              begin params 7
                push const string "set"
                ,

[99] t1.a * t2.a + t1.b * t2.c, t1.a * t2.b + t1.b * t2.d, //a,b

                begin operator +
                  begin operator *
                    begin get property
                      get local var t1 (3 0)
                      push const string "a"
                    end get property ret values 1
                    begin get property
                      get local var t2 (0 0 param)
                      push const string "a"
                    end get property ret values 1
                  end operator *
                  begin operator *
                    begin get property
                      get local var t1 (3 0)
                      push const string "b"
                    end get property ret values 1
                    begin get property
                      get local var t2 (0 0 param)
                      push const string "c"
                    end get property ret values 1
                  end operator *
                end operator +
                ,
                begin operator +
                  begin operator *
                    begin get property
                      get local var t1 (3 0)
                      push const string "a"
                    end get property ret values 1
                    begin get property
                      get local var t2 (0 0 param)
                      push const string "b"
                    end get property ret values 1
                  end operator *
                  begin operator *
                    begin get property
                      get local var t1 (3 0)
                      push const string "b"
                    end get property ret values 1
                    begin get property
                      get local var t2 (0 0 param)
                      push const string "d"
                    end get property ret values 1
                  end operator *
                end operator +
                ,

[100] t1.c * t2.a + t1.d * t2.c, t1.c * t2.b + t1.d * t2.d, //c,d

                begin operator +
                  begin operator *
                    begin get property
                      get local var t1 (3 0)
                      push const string "c"
                    end get property ret values 1
                    begin get property
                      get local var t2 (0 0 param)
                      push const string "a"
                    end get property ret values 1
                  end operator *
                  begin operator *
                    begin get property
                      get local var t1 (3 0)
                      push const string "d"
                    end get property ret values 1
                    begin get property
                      get local var t2 (0 0 param)
                      push const string "c"
                    end get property ret values 1
                  end operator *
                end operator +
                ,
                begin operator +
                  begin operator *
                    begin get property
                      get local var t1 (3 0)
                      push const string "c"
                    end get property ret values 1
                    begin get property
                      get local var t2 (0 0 param)
                      push const string "b"
                    end get property ret values 1
                  end operator *
                  begin operator *
                    begin get property
                      get local var t1 (3 0)
                      push const string "d"
                    end get property ret values 1
                    begin get property
                      get local var t2 (0 0 param)
                      push const string "d"
                    end get property ret values 1
                  end operator *
                end operator +
                ,

[101] t1.tx * t2.a + t1.ty * t2.c + t2.tx,				  //tx

                begin operator +
                  begin operator +
                    begin operator *
                      begin get property
                        get local var t1 (3 0)
                        push const string "tx"
                      end get property ret values 1
                      begin get property
                        get local var t2 (0 0 param)
                        push const string "a"
                      end get property ret values 1
                    end operator *
                    begin operator *
                      begin get property
                        get local var t1 (3 0)
                        push const string "ty"
                      end get property ret values 1
                      begin get property
                        get local var t2 (0 0 param)
                        push const string "c"
                      end get property ret values 1
                    end operator *
                  end operator +
                  begin get property
                    get local var t2 (0 0 param)
                    push const string "tx"
                  end get property ret values 1
                end operator +
                ,

[102] t1.tx * t2.b + t1.ty * t2.d + t2.ty)				  //ty

                begin operator +
                  begin operator +
                    begin operator *
                      begin get property
                        get local var t1 (3 0)
                        push const string "tx"
                      end get property ret values 1
                      begin get property
                        get local var t2 (0 0 param)
                        push const string "b"
                      end get property ret values 1
                    end operator *
                    begin operator *
                      begin get property
                        get local var t1 (3 0)
                        push const string "ty"
                      end get property ret values 1
                      begin get property
                        get local var t2 (0 0 param)
                        push const string "d"
                      end get property ret values 1
                    end operator *
                  end operator +
                  begin get property
                    get local var t2 (0 0 param)
                    push const string "ty"
                  end get property ret values 1
                end operator +
              end params ret values 7
            end tail call method
          end code list ret values 0
        end function
      end set by name: [mult]
      ,

[105] inverse = function(){

      begin set by name
        begin function
          begin locals, total 3
            0 _E
            1 _G
            2 determinant
          end locals

[106] var determinant = 1 / (this.a * this.d - this.b * this.c)

          begin set local var
            begin operator /
              push const number 1
              begin operator -
                begin operator *
                  begin get property
                    push this
                    push const string "a"
                  end get property ret values 1
                  begin get property
                    push this
                    push const string "d"
                  end get property ret values 1
                end operator *
                begin operator *
                  begin get property
                    push this
                    push const string "b"
                  end get property ret values 1
                  begin get property
                    push this
                    push const string "c"
                  end get property ret values 1
                end operator *
              end operator -
            end operator /
          end set local var determinant (2 0)


[107] return this.set(determinant * this.d, -determinant * this.b, -determinant * this.c, determinant * this.a,

          begin code list
            begin tail call method
              push this
              begin params 7
                push const string "set"
                ,
                begin operator *
                  get local var determinant (2 0)
                  begin get property
                    push this
                    push const string "d"
                  end get property ret values 1
                end operator *
                ,
                begin operator *
                  begin neg
                    get local var determinant (2 0)
                  end neg
                  begin get property
                    push this
                    push const string "b"
                  end get property ret values 1
                end operator *
                ,
                begin operator *
                  begin neg
                    get local var determinant (2 0)
                  end neg
                  begin get property
                    push this
                    push const string "c"
                  end get property ret values 1
                end operator *
                ,
                begin operator *
                  get local var determinant (2 0)
                  begin get property
                    push this
                    push const string "a"
                  end get property ret values 1
                end operator *
                ,

[108] determinant * (this.c * this.ty - this.d * this.tx), determinant * (this.b * this.tx - this.a * this.ty) )

                begin operator *
                  get local var determinant (2 0)
                  begin operator -
                    begin operator *
                      begin get property
                        push this
                        push const string "c"
                      end get property ret values 1
                      begin get property
                        push this
                        push const string "ty"
                      end get property ret values 1
                    end operator *
                    begin operator *
                      begin get property
                        push this
                        push const string "d"
                      end get property ret values 1
                      begin get property
                        push this
                        push const string "tx"
                      end get property ret values 1
                    end operator *
                  end operator -
                end operator *
                ,
                begin operator *
                  get local var determinant (2 0)
                  begin operator -
                    begin operator *
                      begin get property
                        push this
                        push const string "b"
                      end get property ret values 1
                      begin get property
                        push this
                        push const string "tx"
                      end get property ret values 1
                    end operator *
                    begin operator *
                      begin get property
                        push this
                        push const string "a"
                      end get property ret values 1
                      begin get property
                        push this
                        push const string "ty"
                      end get property ret values 1
                    end operator *
                  end operator -
                end operator *
              end params ret values 7
            end tail call method
          end code list ret values 0
        end function
      end set by name: [inverse]
      ,

[111] toGL = function(){

      begin set by name
        begin function
          begin locals, total 3
            0 _E
            1 _G
            2 m
          end locals

[112] var m = []

          begin set local var
            begin array 0
            end array
          end set local var m (2 0)


[113] m[2], m[3], m[6], m[7] = 0, 0, 0, 0

          begin set property
            begin set property
              begin set property
                begin set property
                  begin params 4
                    push const number 0
                    ,
                    push const number 0
                    ,
                    push const number 0
                    ,
                    push const number 0
                  end params ret values 4
                  get local var auto create m (2 0)
                  push const number 7
                end set property ret values 3
                get local var auto create m (2 0)
                push const number 6
              end set property ret values 2
              get local var auto create m (2 0)
              push const number 3
            end set property ret values 1
            get local var auto create m (2 0)
            push const number 2
          end set property ret values 0


[114] m[8], m[9], m[11], m[14] = 0, 0, 0, 0

          begin set property
            begin set property
              begin set property
                begin set property
                  begin params 4
                    push const number 0
                    ,
                    push const number 0
                    ,
                    push const number 0
                    ,
                    push const number 0
                  end params ret values 4
                  get local var auto create m (2 0)
                  push const number 14
                end set property ret values 3
                get local var auto create m (2 0)
                push const number 11
              end set property ret values 2
              get local var auto create m (2 0)
              push const number 9
            end set property ret values 1
            get local var auto create m (2 0)
            push const number 8
          end set property ret values 0


[115] m[10], m[15] = 1, 1

          begin set property
            begin set property
              begin params 2
                push const number 1
                ,
                push const number 1
              end params ret values 2
              get local var auto create m (2 0)
              push const number 15
            end set property ret values 1
            get local var auto create m (2 0)
            push const number 10
          end set property ret values 0


[116] m[0] = this.a; m[4] = this.c; m[12] = this.tx;

          begin set property
            begin get property
              push this
              push const string "a"
            end get property ret values 1
            get local var auto create m (2 0)
            push const number 0
          end set property ret values 0

          begin set property
            begin get property
              push this
              push const string "c"
            end get property ret values 1
            get local var auto create m (2 0)
            push const number 4
          end set property ret values 0

          begin set property
            begin get property
              push this
              push const string "tx"
            end get property ret values 1
            get local var auto create m (2 0)
            push const number 12
          end set property ret values 0


[117] m[1] = this.b; m[5] = this.d; m[13] = this.ty;

          begin set property
            begin get property
              push this
              push const string "b"
            end get property ret values 1
            get local var auto create m (2 0)
            push const number 1
          end set property ret values 0

          begin set property
            begin get property
              push this
              push const string "d"
            end get property ret values 1
            get local var auto create m (2 0)
            push const number 5
          end set property ret values 0

          begin set property
            begin get property
              push this
              push const string "ty"
            end get property ret values 1
            get local var auto create m (2 0)
            push const number 13
          end set property ret values 0


[118] return m

          begin code list
            begin return
              get local var m (2 0)
            end return values 1
          end code list ret values 0
        end function
      end set by name: [toGL]
      ,

[121] fromGL = function(m){

      begin set by name
        begin function
          begin locals, total 3
            0 m (param)
            1 _E
            2 _G
          end locals

[122] this.a = m[0]; this.c = m[4]; this.tx = m[12];

          begin set property
            begin get property
              get local var m (0 0 param)
              push const number 0
            end get property ret values 1
            push this
            push const string "a"
          end set property ret values 0

          begin set property
            begin get property
              get local var m (0 0 param)
              push const number 4
            end get property ret values 1
            push this
            push const string "c"
          end set property ret values 0

          begin set property
            begin get property
              get local var m (0 0 param)
              push const number 12
            end get property ret values 1
            push this
            push const string "tx"
          end set property ret values 0


[123] this.b = m[1]; this.d = m[5]; this.ty = m[13];

          begin set property
            begin get property
              get local var m (0 0 param)
              push const number 1
            end get property ret values 1
            push this
            push const string "b"
          end set property ret values 0

          begin set property
            begin get property
              get local var m (0 0 param)
              push const number 5
            end get property ret values 1
            push this
            push const string "d"
          end set property ret values 0

          begin set property
            begin get property
              get local var m (0 0 param)
              push const number 13
            end get property ret values 1
            push this
            push const string "ty"
          end set property ret values 0


[124] return this

          begin code list
            begin return
              push this
            end return values 1
          end code list ret values 0
        end function
      end set by name: [fromGL]
    end object
  end set env var Matrix


[128] Easy = {

  begin set env var
    begin object 11

[129] linear = function(t){

      begin set by name
        begin function
          begin locals, total 3
            0 t (param)
            1 _E
            2 _G
          end locals

[130] return t

          begin return
            get local var t (0 0 param)
          end return values 1
        end function
      end set by name: [linear]
      ,

[133] inQuad = function(t){

      begin set by name
        begin function
          begin locals, total 3
            0 t (param)
            1 _E
            2 _G
          end locals

[134] return t * t

          begin return
            begin operator *
              get local var t (0 0 param)
              get local var t (0 0 param)
            end operator *
          end return values 1
        end function
      end set by name: [inQuad]
      ,

[137] inCubic = function(t){

      begin set by name
        begin function
          begin locals, total 3
            0 t (param)
            1 _E
            2 _G
          end locals

[138] return t ** 3

          begin return
            begin operator **
              get local var t (0 0 param)
              push const number 3
            end operator **
          end return values 1
        end function
      end set by name: [inCubic]
      ,

[141] inQuart = function(t){

      begin set by name
        begin function
          begin locals, total 3
            0 t (param)
            1 _E
            2 _G
          end locals

[142] return t ** 4

          begin return
            begin operator **
              get local var t (0 0 param)
              push const number 4
            end operator **
          end return values 1
        end function
      end set by name: [inQuart]
      ,

[145] inQuint = function(t){

      begin set by name
        begin function
          begin locals, total 3
            0 t (param)
            1 _E
            2 _G
          end locals

[146] return t ** 5

          begin return
            begin operator **
              get local var t (0 0 param)
              push const number 5
            end operator **
          end return values 1
        end function
      end set by name: [inQuint]
      ,

[149] inSine = function(t){

      begin set by name
        begin function
          begin locals, total 3
            0 t (param)
            1 _E
            2 _G
          end locals

[150] return 1 - math.cos(t * math.PI / 2)

          begin return
            begin operator -
              push const number 1
              begin call method
                get env var math
                begin params 2
                  push const string "cos"
                  ,
                  begin operator /
                    begin operator *
                      get local var t (0 0 param)
                      begin get property
                        get env var math
                        push const string "PI"
                      end get property ret values 1
                    end operator *
                    push const number 2
                  end operator /
                end params ret values 2
              end call method ret values 1
            end operator -
          end return values 1
        end function
      end set by name: [inSine]
      ,

[153] inExpo = function(t){

      begin set by name
        begin function
          begin locals, total 3
            0 t (param)
            1 _E
            2 _G
          end locals

[154] return 2 ** (10 * (t - 1))

          begin return
            begin operator **
              push const number 2
              begin operator *
                push const number 10
                begin operator -
                  get local var t (0 0 param)
                  push const number 1
                end operator -
              end operator *
            end operator **
          end return values 1
        end function
      end set by name: [inExpo]
      ,

[157] inCirc = function(t){

      begin set by name
        begin function
          begin locals, total 3
            0 t (param)
            1 _E
            2 _G
          end locals

[158] return 1 - (1 - t ** 2) ** 0.5

          begin return
            begin operator -
              push const number 1
              begin operator **
                begin operator -
                  push const number 1
                  begin operator **
                    get local var t (0 0 param)
                    push const number 2
                  end operator **
                end operator -
                push const number 0.5
              end operator **
            end operator -
          end return values 1
        end function
      end set by name: [inCirc]
      ,

[161] s = 1.70158

      begin set by name
        push const number 1.70158
      end set by name: [s]
      ,

[163] inBack = function(t){

      begin set by name
        begin function
          begin locals, total 4
            0 t (param)
            1 _E
            2 _G
            3 s
          end locals

[164] var s = Easy.s

          begin set local var
            begin get property
              get local var Easy (2 1)
              push const string "s"
            end get property ret values 1
          end set local var s (3 0)


[165] return t * t * ((s + 1) * t - s)

          begin code list
            begin return
              begin operator *
                begin operator *
                  get local var t (0 0 param)
                  get local var t (0 0 param)
                end operator *
                begin operator -
                  begin operator *
                    begin operator +
                      get local var s (3 0)
                      push const number 1
                    end operator +
                    get local var t (0 0 param)
                  end operator *
                  get local var s (3 0)
                end operator -
              end operator *
            end return values 1
          end code list ret values 0
        end function
      end set by name: [inBack]
      ,

[168] inBounce = function(t){

      begin set by name
        begin function
          begin locals, total 3
            0 t (param)
            1 _E
            2 _G
          end locals

[169] return 1 - outBounce(1 - t)

          begin return
            begin operator -
              push const number 1
              begin call
                get local var outBounce (3 1)
                begin params 1
                  begin operator -
                    push const number 1
                    get local var t (0 0 param)
                  end operator -
                end params ret values 1
              end call ret values 1
            end operator -
          end return values 1
        end function
      end set by name: [inBounce]
    end object
  end set env var Easy


[173] var Easy = Easy

  begin set local var
    get env var Easy
  end set local var Easy (2 0)


[175] var function outBounce(t){

  begin set local var
    begin function
      begin locals, total 3
        0 t (param)
        1 _E
        2 _G
      end locals

[176] if(t < 0.363636363636f){

      begin if
        begin bool exp
          begin logic <
            get local var t (0 0 param)
            push const number 0.363636363636f
          end logic <
        end bool exp
        begin then

[177] return 7.5625f * t * t

          begin scope
            begin return
              begin operator *
                begin operator *
                  push const number 7.5625f
                  get local var t (0 0 param)
                end operator *
                get local var t (0 0 param)
              end operator *
            end return values 1
          end scope ret values 0
        end then
      end if ret values 0


[179] if(t < 0.727272727273f) {

      begin if
        begin bool exp
          begin logic <
            get local var t (0 0 param)
            push const number 0.727272727273f
          end logic <
        end bool exp
        begin then

[180] t = t - 0.545454545455f

          begin scope
            begin set local var
              begin operator -
                get local var t (0 0 param)
                push const number 0.545454545455f
              end operator -
            end set local var t (0 0 param)


[181] return 7.5625f * t * t + 0.75f

            begin code list
              begin return
                begin operator +
                  begin operator *
                    begin operator *
                      push const number 7.5625f
                      get local var t (0 0 param)
                    end operator *
                    get local var t (0 0 param)
                  end operator *
                  push const number 0.75f
                end operator +
              end return values 1
            end code list ret values 0
          end scope ret values 0
        end then
      end if ret values 0


[183] if(t < 0.909090909091f) {

      begin if
        begin bool exp
          begin logic <
            get local var t (0 0 param)
            push const number 0.909090909091f
          end logic <
        end bool exp
        begin then

[184] t = t - 0.818181818182f

          begin scope
            begin set local var
              begin operator -
                get local var t (0 0 param)
                push const number 0.818181818182f
              end operator -
            end set local var t (0 0 param)


[185] return 7.5625f * t * t + 0.9375f

            begin code list
              begin return
                begin operator +
                  begin operator *
                    begin operator *
                      push const number 7.5625f
                      get local var t (0 0 param)
                    end operator *
                    get local var t (0 0 param)
                  end operator *
                  push const number 0.9375f
                end operator +
              end return values 1
            end code list ret values 0
          end scope ret values 0
        end then
      end if ret values 0


[187] t = t - 0.954545454545f;

      begin set local var
        begin operator -
          get local var t (0 0 param)
          push const number 0.954545454545f
        end operator -
      end set local var t (0 0 param)


[188] return 7.5625f * t * t + 0.984375f

      begin code list
        begin return
          begin operator +
            begin operator *
              begin operator *
                push const number 7.5625f
                get local var t (0 0 param)
              end operator *
              get local var t (0 0 param)
            end operator *
            push const number 0.984375f
          end operator +
        end return values 1
      end code list ret values 0
    end function
  end set local var outBounce (3 0)


[192] var function easyInOutHelper(t, inFunc){

  begin set local var
    begin function
      begin locals, total 4
        0 t (param)
        1 inFunc (param)
        2 _E
        3 _G
      end locals

[193] return t <= 0.5 ? inFunc(t * 2) / 2 : 1 - inFunc(2 - t * 2) / 2

      begin return
        begin question
          begin bool exp
            begin logic <=
              get local var t (0 0 param)
              push const number 0.5
            end logic <=
          end bool exp
          begin then value
            begin operator /
              begin call
                get local var inFunc (1 0 param)
                begin params 1
                  begin operator *
                    get local var t (0 0 param)
                    push const number 2
                  end operator *
                end params ret values 1
              end call ret values 1
              push const number 2
            end operator /
          end then value
          begin else value
            begin operator -
              push const number 1
              begin operator /
                begin call
                  get local var inFunc (1 0 param)
                  begin params 1
                    begin operator -
                      push const number 2
                      begin operator *
                        get local var t (0 0 param)
                        push const number 2
                      end operator *
                    end operator -
                  end params ret values 1
                end call ret values 1
                push const number 2
              end operator /
            end operator -
          end else value
        end question ret values 1
      end return values 1
    end function
  end set local var easyInOutHelper (4 0)


[196] for(var name, func in clone Easy){

  begin scope
    begin locals 4
      5 name
      6 func
      7 #func
      8 #valid
    end locals
    new local var name (5 0)

    new local var func (6 0)

    new local var #func (7 0 temp)

    new local var #valid (8 0 temp)

    begin code list
      begin set local var
        begin call method
          begin clone
            get local var Easy (2 0)
          end clone
          begin params 1
            push const string "__iter"
          end params ret values 1
        end call method ret values 1
      end set local var #func (7 0 temp)

      begin loop
        begin set local var
          begin set local var
            begin set local var
              begin call
                get local var #func (7 0 temp)
                begin params 0
                end params ret values 0
              end call ret values 3
            end set local var func (6 0)
          end set local var name (5 0)
        end set local var #valid (8 0 temp)

        begin if
          begin bool exp
            begin logic not
              get local var #valid (8 0 temp)
            end logic not
          end bool exp
          begin then
            break
          end then
        end if ret values 0


[197] if(functionof func && name.sub(0, 2) == "in"){

        begin scope
          begin if
            begin bool exp
              begin logic &&
                begin functionof
                  get local var func (6 0)
                end functionof
                begin logic ==
                  begin call method
                    get local var name (5 0)
                    begin params 3
                      push const string "sub"
                      ,
                      push const number 0
                      ,
                      push const number 2
                    end params ret values 3
                  end call method ret values 1
                  push const string "in"
                end logic ==
              end logic &&
            end bool exp
            begin then

[198] function(func){

              begin scope

[214] }(func)

                begin call

[198] function(func){

                  begin function
                    begin locals, total 3
                      0 func (param)
                      1 _E
                      2 _G
                    end locals

[211] }(function(t){

                    begin call

[199] function(func){

                      begin function
                        begin locals, total 3
                          0 func (param)
                          1 _E
                          2 _G
                        end locals

[201] name = name.sub(2)

                        begin set local var
                          begin call method
                            get local var name (5 2)
                            begin params 2
                              push const string "sub"
                              ,
                              push const number 2
                            end params ret values 2
                          end call method ret values 1
                        end set local var name (5 2)


[202] Easy["out"..name] = function(t){

                        begin set property
                          begin function
                            begin locals, total 3
                              0 t (param)
                              1 _E
                              2 _G
                            end locals

[203] return 1 - func(1 - t)

                            begin return
                              begin operator -
                                push const number 1
                                begin call
                                  get local var func (0 1 param)
                                  begin params 1
                                    begin operator -
                                      push const number 1
                                      get local var t (0 0 param)
                                    end operator -
                                  end params ret values 1
                                end call ret values 1
                              end operator -
                            end return values 1
                          end function

[202] Easy["out"..name] = function(t){

                          get local var auto create Easy (2 2)
                          begin operator ..
                            push const string "out"
                            get local var name (5 2)
                          end operator ..
                        end set property ret values 0


[205] Easy["inOut"..name] = function(t){

                        begin set property
                          begin function
                            begin locals, total 3
                              0 t (param)
                              1 _E
                              2 _G
                            end locals

[206] return easyInOutHelper(t, func)

                            begin tail call
                              get local var easyInOutHelper (4 3)
                              begin params 2
                                get local var t (0 0 param)
                                ,
                                get local var func (0 1 param)
                              end params ret values 2
                            end tail call
                          end function

[205] Easy["inOut"..name] = function(t){

                          get local var auto create Easy (2 2)
                          begin operator ..
                            push const string "inOut"
                            get local var name (5 2)
                          end operator ..
                        end set property ret values 0


[208] Easy["outIn"..name] = function(t){

                        begin set property
                          begin function
                            begin locals, total 3
                              0 t (param)
                              1 _E
                              2 _G
                            end locals

[209] return 1 - easyInOutHelper(1 - t, func)

                            begin return
                              begin operator -
                                push const number 1
                                begin call
                                  get local var easyInOutHelper (4 3)
                                  begin params 2
                                    begin operator -
                                      push const number 1
                                      get local var t (0 0 param)
                                    end operator -
                                    ,
                                    get local var func (0 1 param)
                                  end params ret values 2
                                end call ret values 1
                              end operator -
                            end return values 1
                          end function

[208] Easy["outIn"..name] = function(t){

                          get local var auto create Easy (2 2)
                          begin operator ..
                            push const string "outIn"
                            get local var name (5 2)
                          end operator ..
                        end set property ret values 0
                      end function

[211] }(function(t){

                      begin params 1
                        begin function
                          begin locals, total 3
                            0 t (param)
                            1 _E
                            2 _G
                          end locals

[212] return func(t < 0 ? 0 : t > 1 ? 1 : t)

                          begin tail call
                            get local var func (0 1 param)
                            begin params 1
                              begin question
                                begin bool exp
                                  begin logic <
                                    get local var t (0 0 param)
                                    push const number 0
                                  end logic <
                                end bool exp
                                begin then value
                                  push const number 0
                                end then value
                                begin else value
                                  begin question
                                    begin bool exp
                                      begin logic >
                                        get local var t (0 0 param)
                                        push const number 1
                                      end logic >
                                    end bool exp
                                    begin then value
                                      push const number 1
                                    end then value
                                    begin else value
                                      get local var t (0 0 param)
                                    end else value
                                  end question ret values 1
                                end else value
                              end question ret values 1
                            end params ret values 1
                          end tail call
                        end function
                      end params ret values 1
                    end call ret values 0
                  end function

[214] }(func)

                  begin params 1
                    get local var func (6 0)
                  end params ret values 1
                end call ret values 0
              end scope ret values 0
            end then
          end if ret values 0
        end scope ret values 0
      end loop ret values 0
    end code list ret values 0
  end scope ret values 0


[215] }

  begin code list
    begin return
      get local var _E (0 0)
    end return values 1
  end code list ret values 0
end function
