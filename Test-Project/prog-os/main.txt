
[FILE] raw://../prog-os/main.os
[1] debugger

begin function
  begin locals, total 2
    0 _E
    1 _G
  end locals
  debugger


[2] world = b2World()

  begin set env var
    begin call method
      get local var _E (0 0)
      begin params 1
        push const string "b2World"
      end params ret values 1
    end call method ret values 1
  end set env var world


[4] bodyDef = b2BodyDef()

  begin set env var
    begin call method
      get local var _E (0 0)
      begin params 1
        push const string "b2BodyDef"
      end params ret values 1
    end call method ret values 1
  end set env var bodyDef


[5] bodyDef.type = "static"

  begin set property
    push const string "static"
    get env var auto create bodyDef
    push const string "type"
  end set property ret values 0


[6] bodyDef.position = {x=0 y=0}

  begin set property
    begin object 2
      begin set by name
        push const number 0
      end set by name: [x]
      ,
      begin set by name
        push const number 0
      end set by name: [y]
    end object
    get env var auto create bodyDef
    push const string "position"
  end set property ret values 0


[8] body = world.createBody(bodyDef)

  begin set env var
    begin call method
      get env var world
      begin params 2
        push const string "createBody"
        ,
        get env var bodyDef
      end params ret values 2
    end call method ret values 1
  end set env var body

  begin code list
    begin return
      get local var _E (0 0)
    end return values 1
  end code list ret values 0
end function
